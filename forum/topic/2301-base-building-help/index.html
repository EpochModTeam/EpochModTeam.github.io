<!DOCTYPE html>

<html dir="ltr" lang="en-US">

<!-- Added by HTTrack --><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8"/>
<title>Base Building help - Scripting - Epoch Mod Community</title>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52081052-1', 'auto');
  ga('send', 'pageview');

</script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" property="og:image"/>
<meta content="summary_large_image" name="twitter:card">
<meta content="@EpochMod" name="twitter:site">
<meta content="Base Building help" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://epochmod.com/forum/topic/2301-base-building-help/" property="og:url"/>
<meta content='Can some one remove the plot pole requirement? I tired can do it successfully /* Base Building DayZ by Daimyo */ private["_funcExitScript","_canBuildOnPlot","_isSimulated","_isDestructable","_townRange","_longWloop","_medWloop","_smallWloop","_inTown","_inProgress","_modDir","_startPos","_tObject...' name="description"/>
<meta content='Can some one remove the plot pole requirement? I tired can do it successfully /* Base Building DayZ by Daimyo */ private["_funcExitScript","_canBuildOnPlot","_isSimulated","_isDestructable","_townRange","_longWloop","_medWloop","_smallWloop","_inTown","_inProgress","_modDir","_startPos","_tObject...' property="og:description"/>
<meta content="2013-10-08T13:58:49Z" property="og:updated_time"/>
<meta content="Epoch Mod Community" property="og:site_name"/>
<meta content="en_US" property="og:locale"/>
<link href="index.html" rel="canonical"/>
<link href="https://epochmod.com/forum/manifest.webmanifest/" rel="manifest"/>
<meta content="https://epochmod.com/forum/browserconfig.xml/" name="msapplication-config"/>
<meta content="/" name="msapplication-starturl"/>
<meta content="Epoch Mod Community" name="application-name"/>
<meta content="Epoch Mod Community" name="apple-mobile-web-app-title"/>
<meta content="#000000" name="theme-color"/>
<link as="font" crossorigin="anonymous" href="http://epochmod.com/forum/applications/core/interface/font/fontawesome-webfont.woff2?v=4.7.0" rel="preload"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/341e4a57816af3ba440d891ca87450ff_framework.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/05e81b71abe4f22d6eb8d1a929494829_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/90eb5adf50a8c640f633d47fd7eb1778_core.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/5a0da001ccc2200dc5625c3f3934497d_core_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/62e269ced0fdab7e30e026f1d30ae516_forums.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/76e62c573090645fb99a15a363d8620e_forums_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/ebdea0c6a7dab6d37900b9190d3ac77b_topics.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/258adbb6e4f3e83cd3b355f84e3fa002_custom.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/monthly_2018_04/favicon.ico.c690be06d87a954c1dce2d924fe2a0f2.ico" rel="shortcut icon" type="image/x-icon"/>
</meta></meta></head>
<body class="ipsApp ipsApp_front ipsJS_none ipsClearfix" data-controller="core.front.core.app" data-message="" data-pageapp="forums" data-pagecontroller="topic" data-pageid="2301" data-pagelocation="front" data-pagemodule="forums">
<a accesskey="m" class="ipsHide" href="#ipsLayout_mainArea" title="Go to main content on this page">Jump to content</a>
<div class="ipsClearfix" id="ipsLayout_header">
<header>
<div class="ipsLayout_container">
<a accesskey="1" href="../../index.html" id="elLogo"><img alt="Epoch Mod Community" src="https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"/></a>
<ul class="ipsList_inline cSignedOut ipsResponsive_showDesktop" id="elUserNav">
<li id="elSignInLink">
<a data-ipsmenu="" data-ipsmenu-closeonclick="false" href="https://epochmod.com/forum/login/" id="elUserSignIn">
                    Existing user? Sign In Â <i class="fa fa-caret-down"></i>
</a>
<div class="ipsMenu ipsMenu_auto ipsHide" id="elUserSignIn_menu">
<form accept-charset="utf-8" action="https://epochmod.com/forum/login/" method="post">
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<input name="ref" type="hidden" value="aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy8yMzAxLWJhc2UtYnVpbGRpbmctaGVscC8="/>
<div data-role="loginForm">
<div class="ipsPad ipsForm ipsForm_vertical">
<h4 class="ipsType_sectionHead">Sign In</h4>
<br/><br/>
<ul class="ipsList_reset">
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="email" name="auth" placeholder="Display Name or Email Address" type="text"/>
</li>
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="current-password" name="password" placeholder="Password" type="password"/>
</li>
<li class="ipsFieldRow ipsFieldRow_checkbox ipsClearfix">
<span class="ipsCustomInput">
<input aria-checked="true" checked="" id="remember_me_checkbox" name="remember_me" type="checkbox" value="1"/>
<span></span>
</span>
<div class="ipsFieldRow_content">
<label class="ipsFieldRow_label" for="remember_me_checkbox">Remember me</label>
<span class="ipsFieldRow_desc">Not recommended on shared computers</span>
</div>
</li>
<li class="ipsFieldRow ipsFieldRow_fullWidth">
<button class="ipsButton ipsButton_primary ipsButton_small" id="elSignIn_submit" name="_processLogin" type="submit" value="usernamepassword">Sign In</button>
<p class="ipsType_right ipsType_small">
<a data-ipsdialog="" data-ipsdialog-title="Forgot your password?" href="https://epochmod.com/forum/lostpassword/">
					
					Forgot your password?</a>
</p>
</li>
</ul>
</div>
</div>
</form>
</div>
</li>
</ul>
<ul class="ipsMobileHamburger ipsList_reset ipsResponsive_hideDesktop">
<li data-ipsdrawer="" data-ipsdrawer-drawerelem="#elMobileDrawer">
<a href="#">
<i class="fa fa-navicon"></i>
</a>
</li>
</ul>
</div>
</header>
<nav class="ipsResponsive_showDesktop" data-controller="core.front.core.navBar">
<div class="ipsNavBar_primary ipsLayout_container">
<ul class="ipsClearfix" data-role="primaryNavBar">
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_18">
<a data-navitem-id="18" href="http://epochmod.com/">
					Home<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="cms" data-navext="Pages" data-role="navBarItem" id="elNavSecondary_12">
<a data-navitem-id="12" href="https://epochmod.com/forum/projects/">
					Downloads<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsNavBar_active" data-active="" data-navapp="forums" data-navext="Forums" data-role="navBarItem" id="elNavSecondary_8">
<a data-navdefault="" data-navitem-id="8" href="../../index.html">
					Forums<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_13">
<a data-navitem-id="13" href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">
					Wiki<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_1">
<a data-navitem-id="1" href="../../index.html">
					Browse<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="StaffDirectory" data-role="navBarItem" id="elNavSecondary_10">
<a data-navitem-id="10" href="https://epochmod.com/forum/staff/">
					Staff<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="OnlineUsers" data-role="navBarItem" id="elNavSecondary_11">
<a data-navitem-id="11" href="https://epochmod.com/forum/online/">
					Online Users<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_1">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_1" href="#" id="elNavigationMore_1_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_1_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_2">
<a data-navitem-id="2" href="https://epochmod.com/forum/discover/">
					Activity<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="AllActivity" data-role="navBarItem" id="elNavSecondary_3">
<a data-navitem-id="3" href="https://epochmod.com/forum/discover/">
					All Activity<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreams" data-role="navBarItem" id="elNavSecondary_4">
<a data-navitem-id="4" href="#">
					My Activity Streams<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_5">
<a data-navitem-id="5" href="https://epochmod.com/forum/discover/unread/">
					Unread Content<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_6">
<a data-navitem-id="6" href="https://epochmod.com/forum/discover/content-started/">
					Content I Started<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="Search" data-role="navBarItem" id="elNavSecondary_7">
<a data-navitem-id="7" href="https://epochmod.com/forum/search/">
					Search<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_2">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_2" href="#" id="elNavigationMore_2_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_2_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="Leaderboard" data-role="navBarItem" id="elNavSecondary_19">
<a data-navitem-id="19" href="https://epochmod.com/forum/leaderboard/">
					Leaderboard<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore" href="#" id="elNavigationMore_dropdown">More</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li class="ipsHide" data-role="navMore" id="elNavigationMore_more">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_more" href="#" id="elNavigationMore_more_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_more_dropdown_menu"></ul>
</li>
</ul>
</li>
</ul>
<div id="elSearchWrapper">
<div data-controller="core.front.core.quickSearch" id="elSearch">
<form accept-charset="utf-8" action="http://epochmod.com/forum/search/?do=quicksearch" method="post">
<input aria-label="Search" autocomplete="off" id="elSearchField" name="q" placeholder="Search..." type="search"/>
<details class="cSearchFilter">
<summary class="cSearchFilter__text"></summary>
<ul class="cSearchFilter__menu">
<li><label><input name="type" type="radio" value="all"/><span class="cSearchFilter__menuText">Everywhere</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","nodes":35}'/><span class="cSearchFilter__menuText">This Forum</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","item":2301}'/><span class="cSearchFilter__menuText">This Topic</span></label></li>
<li><label><input name="type" type="radio" value="core_statuses_status"/><span class="cSearchFilter__menuText">Status Updates</span></label></li>
<li><label><input name="type" type="radio" value="forums_topic"/><span class="cSearchFilter__menuText">Topics</span></label></li>
<li><label><input name="type" type="radio" value="cms_pages_pageitem"/><span class="cSearchFilter__menuText">Pages</span></label></li>
<li><label><input name="type" type="radio" value="cms_records1"/><span class="cSearchFilter__menuText">Article</span></label></li>
<li><label><input name="type" type="radio" value="core_members"/><span class="cSearchFilter__menuText">Members</span></label></li>
</ul>
</details>
<button aria-label="Search" class="cSearchSubmit" type="submit"><i class="fa fa-search"></i></button>
</form>
</div>
</div>
</div>
</nav>
<ul class="ipsResponsive_hideDesktop" data-controller="core.front.core.mobileNav" id="elMobileNav">
<li id="elMobileBreadcrumb">
<a href="../../forum/35-scripting/index.html">
<span>Scripting</span>
</a>
</li>
<li>
<a data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i></a>
</li>
<li class="ipsJS_show">
<a href="https://epochmod.com/forum/search/"><i class="fa fa-search"></i></a>
</li>
</ul>
</div>
<main class="ipsLayout_container" id="ipsLayout_body">
<div id="ipsLayout_contentArea">
<div id="ipsLayout_contentWrapper">
<nav class="ipsBreadcrumb ipsBreadcrumb_top ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/96-qa-section/index.html">
<span>Q&amp;A Section <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/35-scripting/index.html">
<span>Scripting <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Base Building help
				
			</li>
</ul>
</nav>
<div id="ipsLayout_mainArea">
<div class="ipsPageHeader ipsResponsive_pull ipsBox ipsPadding sm:ipsPadding:half ipsMargin_bottom">
<div class="ipsFlex ipsFlex-ai:stretch ipsFlex-jc:center">
<ul class="ipsList_reset cRatingColumn cRatingColumn_question ipsType_center ipsMargin_right ipsFlex-flex:00 ipsBorder_right">
<li>
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this question"><i class="fa fa-angle-up"></i></span>
</li>
<li><span class="cAnswerRating" data-role="voteCount" data-votecount="0">0</span></li>
</ul>
<div class="ipsFlex-flex:11">
<div class="ipsFlex ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:4">
<div class="ipsFlex-flex:11">
<h1 class="ipsType_pageTitle ipsContained_container">
<span class="ipsType_break ipsContained">
<span>Base Building help</span>
</span>
</h1>
</div>
</div>
<hr class="ipsHr"/>
<div class="ipsPageHeader__meta ipsFlex ipsFlex-jc:between ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:3">
<div class="ipsFlex-flex:11">
<div class="ipsPhotoPanel ipsPhotoPanel_mini ipsPhotoPanel_notPhone ipsClearfix">
<a class="ipsUserPhoto ipsUserPhoto_mini" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/1130-asian-kid/?do=hovercard" data-ipshover-width="370" href="../../profile/1130-asian-kid/index.html" rel="nofollow" title="Go to Asian Kid's profile">
<img alt="Asian Kid" loading="lazy" src="https://epochmod.com/forum/uploads/profile/photo-thumb-1130.jpg"/>
</a>
<div>
<p class="ipsType_reset ipsType_blendLinks">
<span class="ipsType_normal">
<strong>Asked by 


<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/1130-asian-kid/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F2301-base-building-help%252F" data-ipshover-width="370" href="../../profile/1130-asian-kid/index.html" rel="nofollow" title="Go to Asian Kid's profile">Asian Kid</a>,</strong><br/><span class="ipsType_light"><time data-short="11 yr" datetime="2013-10-08T13:58:49Z" title="10/08/13 01:58  PM">October 8, 2013</time></span>
</span>
</p>
</div>
</div>
</div>
<div class="ipsFlex-flex:01 ipsResponsive_hidePhone">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_link ipsButton_link--light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span> Â Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F&amp;title=Base+Building+help" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/2301-base-building-help/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Base Building help" data-websharetitle="Base Building help" data-webshareurl="https://epochmod.com/forum/topic/2301-base-building-help/">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="2301">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall ipsButton_disabled" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">0</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ipsClearfix">
<ul class="ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_both ipsResponsive_hidePhone">
</ul>
</div>
<div class="cTopic ipsClear ipsSpacer_top" data-autopoll="" data-baseurl="https://epochmod.com/forum/topic/2301-base-building-help/" data-controller="core.front.core.commentFeed,forums.front.topic.view, core.front.core.ignoredComments" data-feedid="topic-2301" data-lastpage="" id="comments">
<div class="ipsBox ipsResponsive_pull">
<h2 class="ipsType_sectionTitle ipsType_reset">Question</h2>
<a id="comment-14944"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsBox--child sm:ipsPadding_horizontal:half ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_14944">
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/1130-asian-kid/?do=hovercard" data-ipshover-width="370" href="../../profile/1130-asian-kid/index.html" rel="nofollow" title="Go to Asian Kid's profile">
<img alt="Asian Kid" loading="lazy" src="https://epochmod.com/forum/uploads/profile/photo-thumb-1130.jpg"/>
</a>
<a href="https://epochmod.com/forum/profile/1130-asian-kid/badges/" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/1130-asian-kid/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F2301-base-building-help%252F" data-ipshover-width="370" href="../../profile/1130-asian-kid/index.html" rel="nofollow" title="Go to Asian Kid's profile"><span style="color:#">Asian Kid</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/2301-base-building-help/?do=findComment&amp;comment=14944" rel="nofollow">Posted <time data-short="11 yr" datetime="2013-10-08T13:58:49Z" title="10/08/13 01:58  PM">October 8, 2013</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/1130-asian-kid/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F2301-base-building-help%252F" data-ipshover-width="370" href="../../profile/1130-asian-kid/index.html" rel="nofollow" title="Go to Asian Kid's profile">Asian Kid</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/1130-asian-kid/?do=hovercard" data-ipshover-width="370" href="../../profile/1130-asian-kid/index.html" rel="nofollow" title="Go to Asian Kid's profile">
<img alt="Asian Kid" loading="lazy" src="https://epochmod.com/forum/uploads/profile/photo-thumb-1130.jpg"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="https://epochmod.com/forum/profile/1130-asian-kid/content/" rel="nofollow" title="330 posts">
<i class="fa fa-comment"></i> 330
							
								</a>
</li>
</ul>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="14944" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":1130,"username":"Asian Kid","timestamp":1381240729,"contentapp":"forums","contenttype":"forums","contentid":2301,"contentclass":"forums_Topic","contentcommentid":14944}' id="comment-14944_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-14944_wrap" href="#elControls_14944_menu" id="elControls_14944" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_14944_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/2301-base-building-help/?do=reportComment&amp;comment=14944" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_14944_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="index.html" id="elSharePost_14944" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/2301-base-building-help/?do=findComment&amp;comment=14944" rel="nofollow">Posted <time data-short="11 yr" datetime="2013-10-08T13:58:49Z" title="10/08/13 01:58  PM">October 8, 2013</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>Can some one remove the plot pole requirement? I tired can do it successfully<br/>
Â </p>
<pre class="ipsCode prettyprint">
/*
Base Building DayZ by Daimyo
*/
private["_funcExitScript","_canBuildOnPlot","_isSimulated","_isDestructable","_townRange","_longWloop","_medWloop","_smallWloop","_inTown","_inProgress","_modDir","_startPos","_tObjectPos","_buildable","_chosenRecipe","_cnt","_cntLoop","_dialog","_buildReady","_buildCheck","_isInCombat","_playerCombat","_check_town","_eTool","_toolBox","_town_pos","_town_name","_closestTown","_roadAllowed","_toolsNeeded","_inBuilding","_attachCoords","_requirements","_result","_alreadyBuilt","_uidDir","_p1","_p2","_uid","_worldspace","_panelNearest2","_staticObj","_onRoad","_itemL","_itemM","_itemG","_qtyL","_qtyM","_qtyG","_qtyH","_qtyI","_qtyJ","_qtyK","_qtyO","_qtyP","_itemH","_itemI","_itemJ","_itemK","_itemO","_itemP","_cntLoop","_finished","_checkComplete","_objectTemp","_locationPlayer","_object","_id","_isOk","_text","_mags","_hasEtool","_canDo","_hasToolbox","_inVehicle","_isWater","_onLadder","_building","_medWait","_longWait","_location","_isOk","_dir","_classname","_item","_itemT","_itemS","_itemW","_qtyT","_qtyS","_qtyW","_fuel","_code","_coder","_buildables","_isPole","_distance","_findNearestPoles","_findNearestPole","_IsNearPlot","_nearestPole","_ownerID","_friendlies","_message","_buildings","_isBuilding","_cancel","_reason","_qtyB","_itemB","_qtyC","_itemC","_qtyP","_itemP","_qtyBu","_itemBu","_qtyWo","_itemWo","_qtyWoo","_itemWoo","_qtyI","_i","_isDestrutable"];

// Location placement declarations
_locationPlayer = player modeltoworld [0,0,0];
_location 		= player modeltoworld [0,0,0]; // Used for object start location and to keep track of object position throughout
_attachCoords = [0,0,0];
_dir 			= getDir player;
_building 		= nearestObject [player, "Building"];
_staticObj 		= nearestObject [player, "Static"];

// Restriction Checks
_hasEtool 		= "ItemEtool" in weapons player;
_hasToolbox 	= 	"ItemToolbox" in items player;
_onLadder 		=	(getNumber (configFile &gt;&gt; "CfgMovesMaleSdr" &gt;&gt; "States" &gt;&gt; (animationState player) &gt;&gt; "onLadder")) == 1;
_canDo 			= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!
_isWater 		= 	(surfaceIsWater _locationPlayer) or dayz_isSwimming;
_inVehicle 		= (vehicle player != player);
_isOk = [player,_building] call fnc_isInsideBuilding;
_closestTown = (nearestLocations [player,["NameCityCapital","NameCity","NameVillage","Airport"],25600]) select 0;
_town_name = text _closestTown;
_town_pos = position _closestTown;

// Booleans  Some not used, possibly use later
_roadAllowed 	= false;
_medWait 		= false;
_longWait 		= false;
_checkComplete 	= false;
_finished 		= false;
_eTool 			= false;
_toolBox 		= false;
_alreadyBuilt 	= false;
_inBuilding 	= false;
_inTown 		= false;
_inProgress 	= false;
_result 		= false;
_isSimulated 	= false;
_isDestructable = false;
_canBuildOnPlot = false;
// Strings
_classname 		= "";
_check_town		= "";

// Other
_cntLoop 		= 0;
_chosenRecipe 	= [];
_requirements 	= [];
_buildable 		= [];
_buildables		= [];
_longWloop		= 2;
_medWloop		= 1;
_smallWloop 	= 0;
_cnt 			= 0;
_playerCombat = player;

// Function to exit script without combat activate
_funcExitScript = {
	procBuild = false;
	breakOut "exit";
};

_isPole = (_classname == "Plastic_Pole_EP1_DZ");

_distance = 30;
if(_isPole) then {
	_distance = 45;
};
// check for near plot
_findNearestPoles = nearestObjects [(vehicle player), ["Plastic_Pole_EP1_DZ"], _distance];
_findNearestPole = [];
{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;

_IsNearPlot = count (_findNearestPole);

// If item is plot pole and another one exists within 45m
if(_isPole and _IsNearPlot &gt; 0) exitWith {  TradeInprogress = false; cutText ["Cannot build plot pole within 45m of an existing plot." , "PLAIN DOWN"]; };

if(_IsNearPlot == 0) then {

	// Allow building of plot
	if(_isPole) then {
		_canBuildOnPlot = true;	
	};
	
} else {
	// Since there are plots nearby we check for ownership and then for friend status

	_nearestPole = _findNearestPole select 0;

		// Find owner 
		_ownerID = _nearestPole getVariable["CharacterID","0"];

		// diag_log format["DEBUG BUILDING: %1 = %2", dayz_playerUID, _ownerID];

		// check if friendly to owner
		if(dayz_playerUID == _ownerID) then {
			// owner can build anything within his plot except other plots
			if(!_isPole) then {
				_canBuildOnPlot = true;
			};
		
		} else {
			// disallow building plot
			if(!_isPole) then {
				_friendlies		= player getVariable ["friendlyTo",[]];
				// check if friendly to owner
				if(_ownerID in _friendlies) then {
					_canBuildOnPlot = true;
				};
			};
		};
};

// _message
if(!_canBuildOnPlot) exitWith {  TradeInprogress = false; cutText ["Building requires plot pole within 30m." , "PLAIN DOWN"]; };

// testing new way of finding building
	_buildings = nearestObjects [(vehicle player), ["Building"], 100];
	{
		_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;
		if(_isBuilding) exitWith {
			_cancel = true;
			_reason = "Cannot build inside another building.";
		};
	} forEach _buildings;

// Do first checks to see if player can build before counting
if (procBuild) then {cutText ["Your already building!", "PLAIN DOWN"];breakOut "exit";};
if(_isWater) then {cutText [localize "str_player_26", "PLAIN DOWN"];call _funcExitScript;};
if(_onLadder) then {cutText [localize "str_player_21", "PLAIN DOWN"];call _funcExitScript;};
if (_inVehicle) then {cutText ["Can't do this in vehicle", "PLAIN DOWN"];call _funcExitScript;};
if (!placevault) then {cutText ["Can't build in a trader city", "PLAIN DOWN"];call _funcExitScript;};
disableSerialization;
closedialog 1;
// Ashfor Fix: Did player try to drop mag and keep action active (not really needed but leave here just in case)
//_item = _this;
//if (_item in (magazines player) ) then { // needs }; 
// Global variables for loop method, procBuild may not be needed if implemented in fn_selfactions.sqf
	if (dayz_combat == 1) then {
		cutText ["Your currently in combat, time reduced to 3 seconds. \nCanceling/escaping will set you back into combat", "PLAIN DOWN"];
		sleep 3;
		_playerCombat setVariable["combattimeout", 0, true];
		dayz_combat = 0;
	};
r_interrupt = false;
r_doLoop = true;
procBuild = true;
//Global build_list reference params:
//[_qtyT, _qtyS, _qtyW, _qtyL, _qtyM, _qtyG], "Classname", [_attachCoords, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];
call gear_ui_init;
// Count mags in player inventory and add to an array
_mags = magazines player;
	if ("ItemTankTrap" in _mags) then {
		_qtyT = {_x == "ItemTankTrap"} count magazines player;
		_buildables set [count _buildables, _qtyT];
		_itemT = "ItemTankTrap";
	} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };
		
	if ("ItemSandbag" in _mags) then {
		_qtyS = {_x == "ItemSandbag"} count magazines player;
		_buildables set [count _buildables, _qtyS]; 
		_itemS = "ItemSandbag";
	} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };
	
	if ("ItemWire" in _mags) then {
		_qtyW = {_x == "ItemWire"} count magazines player;
		_buildables set [count _buildables, _qtyW]; 
		_itemW = "ItemWire";
		} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };
		
	if ("PartWoodPile" in _mags) then {
		_qtyL = {_x == "PartWoodPile"} count magazines player;
		_buildables set [count _buildables, _qtyL]; 
		_itemL = "PartWoodPile";
	} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };
	
	if ("PartGeneric" in _mags) then {
		_qtyM = {_x == "PartGeneric"} count magazines player;
		_buildables set [count _buildables, _qtyM]; 
		_itemM = "PartGeneric";
	} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };
	
	if ("HandGrenade_West" in _mags) then {
		_qtyG = {_x == "HandGrenade_West"} count magazines player;
		_buildables set [count _buildables, _qtyG]; 
		_itemG = "HandGrenade_West";
	} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };
	
/*-- Add another item for recipe here by changing _qtyI, "Item_Classname", and add recipe into build_list.sqf array!
	Dont forget to add recipe to recipelist so your players can know how to make object via recipe
//		if ("Item_Classname" in _mags) then {
//		_qtyI = {_x == "Item_Classname"} count magazines player;
//		_buildables set [count _buildables, _qtyI]; 
//		_itemG = "Item_Classname";
//	} else { _qtyI = 0; _buildables set [count _buildables, _qtyI]; };
*/
	
// Check what object is returned from global array, then return classname
	for "_i" from 0 to ((count allbuildables) - 1) do
	{
		_buildable = (allbuildables select _i) select _i - _i;
		_result = [_buildables,_buildable] call BIS_fnc_areEqual;
			if (_result) exitWith {
				_classname = (allbuildables select _i) select _i - _i + 1;
				_requirements = (allbuildables select _i) select _i - _i + 2;
				_chosenRecipe = _buildable;
			};
		_buildable = [];
	};
// Quit here if no proper recipe is acquired else set names properly
if (_classname == "") then {cutText ["You need the EXACT amount of whatever you are trying to build without extras.", "PLAIN DOWN"];call _funcExitScript;};
if (_classname == "Grave") then {_text = "Booby Trap";};
if (_classname == "Concrete_Wall_EP1") then {_text = "Gate Concrete Wall";};
if (_classname == "Infostand_2_EP1") then {_text = "Gate Panel Keypad Access";};
if (_classname != "Infostand_2_EP1" &amp;&amp; 
	_classname != "Concrete_Wall_EP1" &amp;&amp;  
	_classname != "Grave") then {
//_text = _classname;
_text = getText (configFile &gt;&gt; "CfgVehicles" &gt;&gt; _classname &gt;&gt; "displayName");				
};
_buildable = [];

//Get Requirements from build_list.sqf global array [_attachCoords, _startPos, _modDir, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];
_attachCoords 	= _requirements select 0;
_startPos 		= _requirements select 1;
_modDir 		= _requirements select 2;
_toolBox 		= _requirements select 3;
_eTool 			= _requirements select 4;
_medWait 		= _requirements select 5;
_longWait 		= _requirements select 6;
_inBuilding 	= _requirements select 7;
_roadAllowed 	= _requirements select 8;
_inTown 		= _requirements select 9;
_isSimulated 	= _requirements select 12;
_isDestrutable	= _requirements select 13;
// Get _startPos for object
_location 		= player modeltoworld _startPos;

//Check Requirements
if (_toolBox) then {
	if (!_hasToolbox) then {cutText [format["You need a tool box to build %1",_text], "PLAIN DOWN",1];call _funcExitScript; };
};
if (_eTool) then {
	if (!_hasEtool) then {cutText [format["You need an entrenching tool to build %1",_text], "PLAIN DOWN",1];call _funcExitScript; };
};
if (_inBuilding) then {
	if (_isOk) then {cutText [format["%1 cannot be built inside of buildings!",_text], "PLAIN DOWN",1];call _funcExitScript; };
};
if (!_roadAllowed) then { // Do another check for object being on road
	_onRoad = isOnRoad _locationPlayer;
	if(_onRoad) then {cutText [format["You cannot build %1 on the road",_text], "PLAIN DOWN",1];call _funcExitScript;};
};
if (!_inTown) then {
	for "_i" from 0 to ((count allbuild_notowns) - 1) do
	{
		_check_town = (allbuild_notowns select _i) select _i - _i;
		if (_town_name == _check_town) then {
			_townRange = (allbuild_notowns select _i) select _i - _i + 1;
			if (_locationPlayer distance _town_pos &lt;= _townRange) then {
				cutText [format["You cannot build %1 within %2 meters of area %3",_text, _townRange, _town_name], "PLAIN DOWN",1];call _funcExitScript;
			};
		};
	};
};

//Check if other panels nearby
_panelNearest2 = nearestObjects [player, ["Infostand_2_EP1"], 30];
if (_classname == "Infostand_2_EP1" &amp;&amp; (count _panelNearest2 &gt; 1)) then {cutText ["Only 2 gate panels per base in a 30 meter radius!", "PLAIN DOWN"];call _funcExitScript;};

// Begin building process
_buildCheck = false;
_buildReady = false;
player allowdamage false;
_object = createVehicle [_classname, _location, [], 0, "CAN_COLLIDE"];
_object setDir (getDir player);
if (_modDir &gt; 0) then {
_object setDir (getDir player) + _modDir;
};
player allowdamage true;
hint "";
cutText ["-Build process started.  Move around to re-position\n-Stay still to begin build timer", "PLAIN DOWN", 10];		
while {!_buildReady} do {
	hintsilent "-Build process started.  \n-Move around to re-position\n-Stay still to begin build timer";
	_playerCombat = player;
	_isInCombat = _playerCombat getVariable["startcombattimer",0];
	_dialog = findDisplay 106;
		if ((speed player &lt; 9 &amp;&amp; speed player &gt; 0) || (speed player &gt; -7 &amp;&amp; speed player &lt; 0)) then {
				_object attachto [player, _attachCoords];
				_object setDir (getDir player) + _modDir;
				_inProgress = true;
		} else {
			if (_inProgress) then {
				detach _object;
				sleep 0.03;
				_location = getposATL _object;
				_dir = getDir _object;
				_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];
				_location = _object modeltoworld [0,0,0];
				deletevehicle _object;
				_object = createVehicle [_classname, _location, [], 0, "CAN_COLLIDE"];
				_object setDir _dir;
				_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];
				_cntLoop = 50;
				_inProgress = false;
					while {speed player == 0 &amp;&amp; !_buildReady} do {
						sleep 0.1;
						if (_cntLoop &lt;= 100 &amp;&amp; _cntLoop % 10 == 0) then {
						cutText [format["Building of %1 starts in %2 seconds. Move to restart timer and position",_text, (_cntLoop / 10)], "PLAIN DOWN",1];
						};
						// Cancel build if rules broken
						_isInCombat = _playerCombat getVariable["startcombattimer",0];
						_dialog = findDisplay 106;
						if ((!(isNull _dialog) || _isInCombat &gt; 0) &amp;&amp; (isPlayer _playerCombat) ) then {
							detach _object;
							deletevehicle _object;
							cutText [format["Build canceled for %1. Player in combat or opened gear.",_text], "PLAIN DOWN",1];call _funcExitScript;
							if (!_roadAllowed) then { // Check object being placed on road
								_onRoad = isOnRoad getposATL(_object);
								if(_onRoad) then {cutText [format["You cannot build %1 on the road",_text], "PLAIN DOWN",1];call _funcExitScript;};
							};
						};
						_cntLoop = _cntLoop - 1;
						if (_cntLoop &lt;= 0) then {
							_buildReady = true;
							_cntLoop = 0;
						};
					};
			};
		};
		// Cancel build if rules broken
		if ((!(isNull _dialog) || (speed player &gt; 9 || speed player &lt; -7) || _isInCombat &gt; 0) &amp;&amp; (isPlayer _playerCombat) ) then {
			detach _object;
			deletevehicle _object;
			cutText [format["Build canceled for %1. Player moving too fast, in combat or opened gear.",_text], "PLAIN DOWN",1];call _funcExitScript;
		};
	sleep 0.03;
};
if (_buildReady) then {
cutText [format["Building beginning for %1.",_text], "PLAIN DOWN",1];
} else {cutText [format["Build canceled for %1. Something went wrong!",_text], "PLAIN DOWN",1];call _funcExitScript;};
// Begin Building
//Do quick check to see if player is not playing nice after placing object
_locationPlayer = player modeltoworld [0,0,0];
_onLadder 		=	(getNumber (configFile &gt;&gt; "CfgMovesMaleSdr" &gt;&gt; "States" &gt;&gt; (animationState player) &gt;&gt; "onLadder")) == 1;
_canDo 			= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!
_isWater 		= 	(surfaceIsWater _locationPlayer) or dayz_isSwimming;
_inVehicle 		= (vehicle player != player);
_isOk = [player,_building] call fnc_isInsideBuilding;
if (_inBuilding) then {
	if (_isOk) then {deletevehicle _object; cutText [format["%1 cannot be built inside of buildings!",_text], "PLAIN DOWN",1];call _funcExitScript; };
};
// Did player walk object into restricted town?
_closestTown = (nearestLocations [player,["NameCityCapital","NameCity","NameVillage"],25600]) select 0;
_town_name = text _closestTown;
_town_pos = position _closestTown;
if (!_inTown) then {
	for "_i" from 0 to ((count allbuild_notowns) - 1) do
	{
		_check_town = (allbuild_notowns select _i) select _i - _i;
		if (_town_name == _check_town) then {
			_townRange = (allbuild_notowns select _i) select _i - _i + 1;
			if (_locationPlayer distance _town_pos &lt;= _townRange) then {
				 deletevehicle _object; cutText [format["You cannot build %1 within %2 meters of area %3",_text, _townRange, _town_name], "PLAIN DOWN",1];call _funcExitScript;
			};
		};
	};
};

r_interrupt = false;
r_doLoop = true;
_cntLoop = 0;
//Physically begin building 
switch (true) do
{
	case(_longWait):
	{
		_cnt = _longWloop;
		_cnt = _cnt * 10;
		for "_i" from 0 to _longWloop do
		{
			cutText [format["Building %1.  %2 seconds left.\nMove from current position to cancel",_text,_cnt + 10], "PLAIN DOWN",1];
			if (player distance _locationPlayer &gt; 1) then {deletevehicle _object; cutText [format["Build canceled for %1, position of player moved",_text], "PLAIN DOWN",1]; call _funcExitScript;};
			if (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format["Build canceled for %1, player is unable to continue",_text], "PLAIN DOWN",1]; call _funcExitScript;};
			player playActionNow "Medic";
			sleep 1;
			[player,"repair",0,false] call dayz_zombieSpeak;
			_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;
			//DayZ interrupt feature like when canceling bandaging
			while {r_doLoop} do {
				if (r_interrupt) then {
					r_doLoop = false;
				};
				if (_cntLoop &gt;= 100) then {
					r_doLoop = false;
					_finished = true;
				};
				sleep .1;
				_cntLoop = _cntLoop + 1;
			};
			if (r_interrupt) then {
				deletevehicle _object; 
				[objNull, player, rSwitchMove,""] call RE;
				player playActionNow "stop";
				cutText [format["Build canceled for %1, position of player moved",_text], "PLAIN DOWN",1]; 
				procBuild = false;_playerCombat setVariable["startcombattimer", 1, true]; 
				breakOut "exit";
			};
			r_doLoop = true;
			_cntLoop = 0;
			_cnt = _cnt - 10;
		};
		sleep 1.5;
	};
	case(_medWait):
	{
		_cnt = _medWloop;
		_cnt = _cnt * 10;
		for "_i" from 0 to _medWloop do
		{
			cutText [format["Building %1.  %2 seconds left.\nMove from current position to cancel",_text,_cnt + 10], "PLAIN DOWN",1];
			if (player distance _locationPlayer &gt; 1) then {deletevehicle _object; cutText [format["Build canceled for %1, position of player moved",_text], "PLAIN DOWN",1]; call _funcExitScript;};
			if (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format["Build canceled for %1, player is unable to continue",_text], "PLAIN DOWN",1]; call _funcExitScript;};
			player playActionNow "Medic";
			sleep 1;
			[player,"repair",0,false] call dayz_zombieSpeak;
			_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;
			while {r_doLoop} do {
				if (r_interrupt) then {
					r_doLoop = false;
				};
				if (_cntLoop &gt;= 100) then {
					r_doLoop = false;
					_finished = true;
				};
				sleep .1;
				_cntLoop = _cntLoop + 1;
			};
			if (r_interrupt) then {
				deletevehicle _object; 
				[objNull, player, rSwitchMove,""] call RE;
				player playActionNow "stop";
				cutText [format["Build canceled for %1, position of player moved",_text], "PLAIN DOWN",1]; 
				procBuild = false;_playerCombat setVariable["startcombattimer", 1, true]; 
				breakOut "exit";
			};
			r_doLoop = true;
			_cntLoop = 0;
			_cnt = _cnt - 10;
		};
		sleep 1.5;
	};
	case(!_medWait &amp;&amp; !_longWait):
	{
		_cnt = _smallWloop;
		_cnt = _cnt * 10;
		for "_i" from 0 to _smallWloop do
		{
			cutText [format["Building %1.  %2 seconds left.\nMove from current position to cancel",_text,_cnt + 10], "PLAIN DOWN",1];
			if (player distance _locationPlayer &gt; 1) then {deletevehicle _object; cutText [format["Build canceled for %1, position of player moved",_text], "PLAIN DOWN",1]; call _funcExitScript;};
			if (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format["Build canceled for %1, player is unable to continue",_text], "PLAIN DOWN",1]; call _funcExitScript;};
			player playActionNow "Medic";
			sleep 1;
			[player,"repair",0,false] call dayz_zombieSpeak;
			_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;
			while {r_doLoop} do {
				if (r_interrupt) then {
					r_doLoop = false;
				};
				if (_cntLoop &gt;= 100) then {
					r_doLoop = false;
					_finished = true;
				};
				sleep .1;
				_cntLoop = _cntLoop + 1;
			};
			if (r_interrupt) then {
				deletevehicle _object; 
				[objNull, player, rSwitchMove,""] call RE;
				player playActionNow "stop";
				cutText [format["Build canceled for %1, position of player moved",_text], "PLAIN DOWN",1]; 
				procBuild = false;_playerCombat setVariable["startcombattimer", 1, true]; 
				breakOut "exit";
			};
			r_doLoop = true;
			_cntLoop = 0;
			_cnt = _cnt - 10;
		};
		sleep 1.5;
	};
};
// Do last check to see if player attempted to remvoe buildables
_mags = magazines player;
_buildables = []; // reset original buildables
	if ("ItemTankTrap" in _mags) then {
		_qtyT = {_x == "ItemTankTrap"} count magazines player;
		_buildables set [count _buildables, _qtyT]; 
	} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };
		
	if ("ItemSandbag" in _mags) then {
		_qtyS = {_x == "ItemSandbag"} count magazines player;
		_buildables set [count _buildables, _qtyS]; 
	} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };
	
	if ("ItemWire" in _mags) then {
		_qtyW = {_x == "ItemWire"} count magazines player;
		_buildables set [count _buildables, _qtyW]; 
		} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };
		
	if ("PartWoodPile" in _mags) then {
		_qtyL = {_x == "PartWoodPile"} count magazines player;
		_buildables set [count _buildables, _qtyL]; 
	} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };
	
	if ("PartGeneric" in _mags) then {
		_qtyM = {_x == "PartGeneric"} count magazines player;
		_buildables set [count _buildables, _qtyM]; 
	} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };
	
	if ("HandGrenade_West" in _mags) then {
		_qtyG = {_x == "HandGrenade_West"} count magazines player;
		_buildables set [count _buildables, _qtyG]; 
	} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };
	
	
_distance = 30;
_canBuildOnPlot = false;
if(_isPole) then {
	_distance = 45;
};
// check for near plot
_findNearestPoles = nearestObjects [(vehicle player), ["Plastic_Pole_EP1_DZ"], _distance];
_findNearestPole = [];
{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;

_IsNearPlot = count (_findNearestPole);

// If item is plot pole and another one exists within 45m
if(_isPole and _IsNearPlot &gt; 0) exitWith {  TradeInprogress = false; cutText ["Cannot build plot pole within 45m of an existing plot." , "PLAIN DOWN"];call _funcExitScript;};

if(_IsNearPlot == 0) then {

	// Allow building of plot
	if(_isPole) then {
		_canBuildOnPlot = true;	
	};
	
} else {
	// Since there are plots nearby we check for ownership and then for friend status

	_nearestPole = _findNearestPole select 0;

		// Find owner 
		_ownerID = _nearestPole getVariable["CharacterID","0"];

		// diag_log format["DEBUG BUILDING: %1 = %2", dayz_playerUID, _ownerID];

		// check if friendly to owner
		if(dayz_playerUID == _ownerID) then {
			// owner can build anything within his plot except other plots
			if(!_isPole) then {
				_canBuildOnPlot = true;
			};

		} else {
			// disallow building plot
			if(!_isPole) then {
				_friendlies		= player getVariable ["friendlyTo",[]];
				// check if friendly to owner
				if(_ownerID in _friendlies) then {
					_canBuildOnPlot = true;
				};
			};
		};
};

// _message
if(!_canBuildOnPlot) exitWith {deletevehicle _object; cutText ["Abusing not allowed!" , "PLAIN DOWN"];call _funcExitScript;_playerCombat setVariable["startcombattimer", 1, true];};

if (_inBuilding) then {
	if (_isOk) then {deletevehicle _object; cutText [format["Abusing not allowed!",_text], "PLAIN DOWN",1];call _funcExitScript;_playerCombat setVariable["startcombattimer", 1, true];};
};
// Did player walk object into restricted town?
_closestTown = (nearestLocations [player,["NameCityCapital","NameCity","NameVillage"],25600]) select 0;
_town_name = text _closestTown;
_town_pos = position _closestTown;
if (!_inTown) then {
	for "_i" from 0 to ((count allbuild_notowns) - 1) do
	{
		_check_town = (allbuild_notowns select _i) select _i - _i;
		if (_town_name == _check_town) then {
			_townRange = (allbuild_notowns select _i) select _i - _i + 1;
			if (_locationPlayer distance _town_pos &lt;= _townRange) then {
				 deletevehicle _object; cutText [format["You cannot build %1 within %2 meters of area %3",_text, _townRange, _town_name], "PLAIN DOWN",1];call _funcExitScript;
			};
		};
	};
};

/*/// testing new way of finding building
	_buildings = nearestObjects [(vehicle player), ["Building"], 100];
	{
		_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;
		if(_isBuilding) exitWith {
			_cancel = true;
			_reason = "Cannot build inside another building.";
		};
	} forEach _buildings;
*/
if (!_roadAllowed) then { // Check object being placed on road
_onRoad = isOnRoad getposATL(_object);
if(_onRoad) then {deletevehicle _object;cutText [format["You cannot build %1 on the road. Abusing not allowed!",_text], "PLAIN DOWN",1];deleteVehicle _object;call _funcExitScript;};
};

if(_isWater) then {cutText ["Abusing not allowed!" , "PLAIN DOWN"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable["startcombattimer", 1, true];};
if(_onLadder) then {cutText ["Abusing not allowed!" , "PLAIN DOWN"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable["startcombattimer", 1, true];};
if (_inVehicle) then {cutText ["Abusing not allowed!" , "PLAIN DOWN"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable["startcombattimer", 1, true];};
//Check if other panels nearby
_panelNearest2 = nearestObjects [player, ["Infostand_2_EP1"], 30];
if (_classname == "Infostand_2_EP1" &amp;&amp; (count _panelNearest2 &gt; 2)) then {cutText ["Only 2 gate panels per base in a 30 meter radius! Abusing not allowed!", "PLAIN DOWN"];deleteVehicle _object;call _funcExitScript; 
				procBuild = false;_playerCombat setVariable["startcombattimer", 1, true]; 
				breakOut "exit";
			};

	
// Check if it matches again
_result = [_buildables,_chosenRecipe] call BIS_fnc_areEqual;

if (_result) then {
//Build final product!
//_object setpos [((_object modeltoworld [0,0,0]) select 0),((_object modeltoworld [0,0,0]) select 1), 0];
//_location = getposATL _object;
//_dir = getDir _object;
	//Finish last requirement checks, _isSimulated disables objects physics if specified, _isDestructable checks if object needs to be invincible
	if (!_isSimulated) then {
		_object enablesimulation false;
	};
	if (!_isDestructable) then {
		_object addEventHandler ["HandleDamage", {false}];
	};
	
// set the codes for gate
//--------------------------------
	/* Old Method
	_uidDir = _dir;
	_uidDir = round(_uidDir);
	_p1 = round(_location select 0);
	_p2 = round(_location select 1);
	//_p3 = round(_location select 2);
	_uid = format["%1,%2,%3",_p1,_p2,_uidDir];
	*/
	// New Method
	_uidDir = _dir;
	_uidDir = round(_uidDir);
	_uid = "";
	{
		_x = _x * 10;
		if ( _x &lt; 0 ) then { _x = _x * -10 };
		_uid = _uid + str(round(_x));
	} forEach _location;
	_uid = _uid + str(round(_dir));
	
// ------------------------------------------------------------------------kikyou2 Random Keycode Start---------------------------------------------------------------------
	_coder = random(9999); //generating random number between 0-9999
	if (_coder &lt; 1000) then { //checks whether the number is &lt; 1000
	_coder = _coder + 1000; //adds 1000 to the number if its &lt; 1000 to make sure that the code will be 4 digits long
	};
	_code = round _coder; //remove all digits after comma
	
// ------------------------------------------------------------------------kikyou2 Random Keycode End-----------------------------------------------------------------------	

//--------------------------------
	switch (_classname) do
	{
		case "Grave":
		{
			cutText [format["You have constructed a %1, crawl away so you dont set it off!",_text], "PLAIN DOWN",1];
			_object setVariable ["isBomb", true];
		};
		case "Infostand_2_EP1":
		{
			cutText [format["You have constructed a %1, REMEMBER THIS PERMANENT KEYCODE: %2 .  Make sure to build 2 (one in/one out) Key Panels as soon as possible to get both codes!",_text,_code], "PLAIN DOWN",60]; //Changed _uid to _code to show the right keycode
		};
		default {
			cutText [format["You have constructed a %1\n .",_text,_code], "PLAIN DOWN",60]; //Changed _uid to _code to show the right keycode
			//cutText [format[localize "str_build_01",_text], "PLAIN DOWN"];
		};
	};
	//Remove required magazines
	if (_qtyT &gt; 0) then {
		for "_i" from 0 to _qtyT do
		{
			player removeMagazine _itemT;
		};
	};
	if (_qtyS &gt; 0) then {
		for "_i" from 0 to _qtyS do
		{
			player removeMagazine _itemS;
		};
	};
	if (_qtyW &gt; 0) then {
		for "_i" from 0 to _qtyW do
		{
			player removeMagazine _itemW;
		};
	};
	if (_qtyL &gt; 0) then {
		for "_i" from 0 to _qtyL do
		{
			player removeMagazine _itemL;
		};
	};
	if (_qtyM &gt; 0) then {
		for "_i" from 0 to _qtyM do
		{
			player removeMagazine _itemM;
		};
	};
	//Grenade only is needed when building booby trap
	if (_qtyG &gt; 0 &amp;&amp; _classname == "Grave") then {
		for "_i" from 0 to _qtyG do
		{
			player removeMagazine _itemG;
		};
	};

// Send to database
_fuel = _code / 1000; //added to calculate valid fuel value for the database
_object setVariable ["characterID",dayz_playerUID,true];
dayzPublishObj2 = [dayz_playerUID,_object,[_dir,_location],_classname,_fuel,_code]; //added _code to pass to the publishObj function to prevent calculation errors
publicVariableServer "dayzPublishObj2";
	if (isServer) then {
		dayzPublishObj2 call server_publishObj2;
	};

} else {cutText ["You need the EXACT amount of whatever you are trying to build without extras.", "PLAIN DOWN"];call _funcExitScript;};

player allowdamage true;
procBuild = false;_playerCombat setVariable["startcombattimer", 1, true];
Â </pre>
<p>.</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_14944_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/2301-base-building-help/"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F%3Fdo%3DfindComment%26comment%3D14944" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F%3Fdo%3DfindComment%26comment%3D14944" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F%3Fdo%3DfindComment%26comment%3D14944&amp;title=Base+Building+help" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/2301-base-building-help/?do=findComment%26comment=14944&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Can some one remove the plot pole requirement? I tired can do it successfully 
Â  

/*
Base Building DayZ by Daimyo
*/
private[&quot;_funcExitScript&quot;,&quot;_canBuildOnPlot&quot;,&quot;_isSimulated&quot;,&quot;_isDestructable&quot;,&quot;_townRange&quot;,&quot;_longWloop&quot;,&quot;_medWloop&quot;,&quot;_smallWloop&quot;,&quot;_inTown&quot;,&quot;_inProgress&quot;,&quot;_modDir&quot;,&quot;_startPos&quot;,&quot;_tObjectPos&quot;,&quot;_buildable&quot;,&quot;_chosenRecipe&quot;,&quot;_cnt&quot;,&quot;_cntLoop&quot;,&quot;_dialog&quot;,&quot;_buildReady&quot;,&quot;_buildCheck&quot;,&quot;_isInCombat&quot;,&quot;_playerCombat&quot;,&quot;_check_town&quot;,&quot;_eTool&quot;,&quot;_toolBox&quot;,&quot;_town_pos&quot;,&quot;_town_name&quot;,&quot;_closestTown&quot;,&quot;_roadAllowed&quot;,&quot;_toolsNeeded&quot;,&quot;_inBuilding&quot;,&quot;_attachCoords&quot;,&quot;_requirements&quot;,&quot;_result&quot;,&quot;_alreadyBuilt&quot;,&quot;_uidDir&quot;,&quot;_p1&quot;,&quot;_p2&quot;,&quot;_uid&quot;,&quot;_worldspace&quot;,&quot;_panelNearest2&quot;,&quot;_staticObj&quot;,&quot;_onRoad&quot;,&quot;_itemL&quot;,&quot;_itemM&quot;,&quot;_itemG&quot;,&quot;_qtyL&quot;,&quot;_qtyM&quot;,&quot;_qtyG&quot;,&quot;_qtyH&quot;,&quot;_qtyI&quot;,&quot;_qtyJ&quot;,&quot;_qtyK&quot;,&quot;_qtyO&quot;,&quot;_qtyP&quot;,&quot;_itemH&quot;,&quot;_itemI&quot;,&quot;_itemJ&quot;,&quot;_itemK&quot;,&quot;_itemO&quot;,&quot;_itemP&quot;,&quot;_cntLoop&quot;,&quot;_finished&quot;,&quot;_checkComplete&quot;,&quot;_objectTemp&quot;,&quot;_locationPlayer&quot;,&quot;_object&quot;,&quot;_id&quot;,&quot;_isOk&quot;,&quot;_text&quot;,&quot;_mags&quot;,&quot;_hasEtool&quot;,&quot;_canDo&quot;,&quot;_hasToolbox&quot;,&quot;_inVehicle&quot;,&quot;_isWater&quot;,&quot;_onLadder&quot;,&quot;_building&quot;,&quot;_medWait&quot;,&quot;_longWait&quot;,&quot;_location&quot;,&quot;_isOk&quot;,&quot;_dir&quot;,&quot;_classname&quot;,&quot;_item&quot;,&quot;_itemT&quot;,&quot;_itemS&quot;,&quot;_itemW&quot;,&quot;_qtyT&quot;,&quot;_qtyS&quot;,&quot;_qtyW&quot;,&quot;_fuel&quot;,&quot;_code&quot;,&quot;_coder&quot;,&quot;_buildables&quot;,&quot;_isPole&quot;,&quot;_distance&quot;,&quot;_findNearestPoles&quot;,&quot;_findNearestPole&quot;,&quot;_IsNearPlot&quot;,&quot;_nearestPole&quot;,&quot;_ownerID&quot;,&quot;_friendlies&quot;,&quot;_message&quot;,&quot;_buildings&quot;,&quot;_isBuilding&quot;,&quot;_cancel&quot;,&quot;_reason&quot;,&quot;_qtyB&quot;,&quot;_itemB&quot;,&quot;_qtyC&quot;,&quot;_itemC&quot;,&quot;_qtyP&quot;,&quot;_itemP&quot;,&quot;_qtyBu&quot;,&quot;_itemBu&quot;,&quot;_qtyWo&quot;,&quot;_itemWo&quot;,&quot;_qtyWoo&quot;,&quot;_itemWoo&quot;,&quot;_qtyI&quot;,&quot;_i&quot;,&quot;_isDestrutable&quot;];

// Location placement declarations
_locationPlayer = player modeltoworld [0,0,0];
_location 		= player modeltoworld [0,0,0]; // Used for object start location and to keep track of object position throughout
_attachCoords = [0,0,0];
_dir 			= getDir player;
_building 		= nearestObject [player, &quot;Building&quot;];
_staticObj 		= nearestObject [player, &quot;Static&quot;];

// Restriction Checks
_hasEtool 		= &quot;ItemEtool&quot; in weapons player;
_hasToolbox 	= 	&quot;ItemToolbox&quot; in items player;
_onLadder 		=	(getNumber (configFile &gt;&gt; &quot;CfgMovesMaleSdr&quot; &gt;&gt; &quot;States&quot; &gt;&gt; (animationState player) &gt;&gt; &quot;onLadder&quot;)) == 1;
_canDo 			= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!
_isWater 		= 	(surfaceIsWater _locationPlayer) or dayz_isSwimming;
_inVehicle 		= (vehicle player != player);
_isOk = [player,_building] call fnc_isInsideBuilding;
_closestTown = (nearestLocations [player,[&quot;NameCityCapital&quot;,&quot;NameCity&quot;,&quot;NameVillage&quot;,&quot;Airport&quot;],25600]) select 0;
_town_name = text _closestTown;
_town_pos = position _closestTown;

// Booleans  Some not used, possibly use later
_roadAllowed 	= false;
_medWait 		= false;
_longWait 		= false;
_checkComplete 	= false;
_finished 		= false;
_eTool 			= false;
_toolBox 		= false;
_alreadyBuilt 	= false;
_inBuilding 	= false;
_inTown 		= false;
_inProgress 	= false;
_result 		= false;
_isSimulated 	= false;
_isDestructable = false;
_canBuildOnPlot = false;
// Strings
_classname 		= &quot;&quot;;
_check_town		= &quot;&quot;;

// Other
_cntLoop 		= 0;
_chosenRecipe 	= [];
_requirements 	= [];
_buildable 		= [];
_buildables		= [];
_longWloop		= 2;
_medWloop		= 1;
_smallWloop 	= 0;
_cnt 			= 0;
_playerCombat = player;

// Function to exit script without combat activate
_funcExitScript = {
	procBuild = false;
	breakOut &quot;exit&quot;;
};

_isPole = (_classname == &quot;Plastic_Pole_EP1_DZ&quot;);

_distance = 30;
if(_isPole) then {
	_distance = 45;
};
// check for near plot
_findNearestPoles = nearestObjects [(vehicle player), [&quot;Plastic_Pole_EP1_DZ&quot;], _distance];
_findNearestPole = [];
{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;

_IsNearPlot = count (_findNearestPole);

// If item is plot pole and another one exists within 45m
if(_isPole and _IsNearPlot &gt; 0) exitWith {  TradeInprogress = false; cutText [&quot;Cannot build plot pole within 45m of an existing plot.&quot; , &quot;PLAIN DOWN&quot;]; };

if(_IsNearPlot == 0) then {

	// Allow building of plot
	if(_isPole) then {
		_canBuildOnPlot = true;	
	};
	
} else {
	// Since there are plots nearby we check for ownership and then for friend status

	_nearestPole = _findNearestPole select 0;

		// Find owner 
		_ownerID = _nearestPole getVariable[&quot;CharacterID&quot;,&quot;0&quot;];

		// diag_log format[&quot;DEBUG BUILDING: %1 = %2&quot;, dayz_playerUID, _ownerID];

		// check if friendly to owner
		if(dayz_playerUID == _ownerID) then {
			// owner can build anything within his plot except other plots
			if(!_isPole) then {
				_canBuildOnPlot = true;
			};
		
		} else {
			// disallow building plot
			if(!_isPole) then {
				_friendlies		= player getVariable [&quot;friendlyTo&quot;,[]];
				// check if friendly to owner
				if(_ownerID in _friendlies) then {
					_canBuildOnPlot = true;
				};
			};
		};
};

// _message
if(!_canBuildOnPlot) exitWith {  TradeInprogress = false; cutText [&quot;Building requires plot pole within 30m.&quot; , &quot;PLAIN DOWN&quot;]; };

// testing new way of finding building
	_buildings = nearestObjects [(vehicle player), [&quot;Building&quot;], 100];
	{
		_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;
		if(_isBuilding) exitWith {
			_cancel = true;
			_reason = &quot;Cannot build inside another building.&quot;;
		};
	} forEach _buildings;

// Do first checks to see if player can build before counting
if (procBuild) then {cutText [&quot;Your already building!&quot;, &quot;PLAIN DOWN&quot;];breakOut &quot;exit&quot;;};
if(_isWater) then {cutText [localize &quot;str_player_26&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};
if(_onLadder) then {cutText [localize &quot;str_player_21&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};
if (_inVehicle) then {cutText [&quot;Can't do this in vehicle&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};
if (!placevault) then {cutText [&quot;Can't build in a trader city&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};
disableSerialization;
closedialog 1;
// Ashfor Fix: Did player try to drop mag and keep action active (not really needed but leave here just in case)
//_item = _this;
//if (_item in (magazines player) ) then { // needs }; 
// Global variables for loop method, procBuild may not be needed if implemented in fn_selfactions.sqf
	if (dayz_combat == 1) then {
		cutText [&quot;Your currently in combat, time reduced to 3 seconds. \nCanceling/escaping will set you back into combat&quot;, &quot;PLAIN DOWN&quot;];
		sleep 3;
		_playerCombat setVariable[&quot;combattimeout&quot;, 0, true];
		dayz_combat = 0;
	};
r_interrupt = false;
r_doLoop = true;
procBuild = true;
//Global build_list reference params:
//[_qtyT, _qtyS, _qtyW, _qtyL, _qtyM, _qtyG], &quot;Classname&quot;, [_attachCoords, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];
call gear_ui_init;
// Count mags in player inventory and add to an array
_mags = magazines player;
	if (&quot;ItemTankTrap&quot; in _mags) then {
		_qtyT = {_x == &quot;ItemTankTrap&quot;} count magazines player;
		_buildables set [count _buildables, _qtyT];
		_itemT = &quot;ItemTankTrap&quot;;
	} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };
		
	if (&quot;ItemSandbag&quot; in _mags) then {
		_qtyS = {_x == &quot;ItemSandbag&quot;} count magazines player;
		_buildables set [count _buildables, _qtyS]; 
		_itemS = &quot;ItemSandbag&quot;;
	} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };
	
	if (&quot;ItemWire&quot; in _mags) then {
		_qtyW = {_x == &quot;ItemWire&quot;} count magazines player;
		_buildables set [count _buildables, _qtyW]; 
		_itemW = &quot;ItemWire&quot;;
		} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };
		
	if (&quot;PartWoodPile&quot; in _mags) then {
		_qtyL = {_x == &quot;PartWoodPile&quot;} count magazines player;
		_buildables set [count _buildables, _qtyL]; 
		_itemL = &quot;PartWoodPile&quot;;
	} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };
	
	if (&quot;PartGeneric&quot; in _mags) then {
		_qtyM = {_x == &quot;PartGeneric&quot;} count magazines player;
		_buildables set [count _buildables, _qtyM]; 
		_itemM = &quot;PartGeneric&quot;;
	} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };
	
	if (&quot;HandGrenade_West&quot; in _mags) then {
		_qtyG = {_x == &quot;HandGrenade_West&quot;} count magazines player;
		_buildables set [count _buildables, _qtyG]; 
		_itemG = &quot;HandGrenade_West&quot;;
	} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };
	
/*-- Add another item for recipe here by changing _qtyI, &quot;Item_Classname&quot;, and add recipe into build_list.sqf array!
	Dont forget to add recipe to recipelist so your players can know how to make object via recipe
//		if (&quot;Item_Classname&quot; in _mags) then {
//		_qtyI = {_x == &quot;Item_Classname&quot;} count magazines player;
//		_buildables set [count _buildables, _qtyI]; 
//		_itemG = &quot;Item_Classname&quot;;
//	} else { _qtyI = 0; _buildables set [count _buildables, _qtyI]; };
*/
	
// Check what object is returned from global array, then return classname
	for &quot;_i&quot; from 0 to ((count allbuildables) - 1) do
	{
		_buildable = (allbuildables select _i) select _i - _i;
		_result = [_buildables,_buildable] call BIS_fnc_areEqual;
			if (_result) exitWith {
				_classname = (allbuildables select _i) select _i - _i + 1;
				_requirements = (allbuildables select _i) select _i - _i + 2;
				_chosenRecipe = _buildable;
			};
		_buildable = [];
	};
// Quit here if no proper recipe is acquired else set names properly
if (_classname == &quot;&quot;) then {cutText [&quot;You need the EXACT amount of whatever you are trying to build without extras.&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};
if (_classname == &quot;Grave&quot;) then {_text = &quot;Booby Trap&quot;;};
if (_classname == &quot;Concrete_Wall_EP1&quot;) then {_text = &quot;Gate Concrete Wall&quot;;};
if (_classname == &quot;Infostand_2_EP1&quot;) then {_text = &quot;Gate Panel Keypad Access&quot;;};
if (_classname != &quot;Infostand_2_EP1&quot; &amp;&amp; 
	_classname != &quot;Concrete_Wall_EP1&quot; &amp;&amp;  
	_classname != &quot;Grave&quot;) then {
//_text = _classname;
_text = getText (configFile &gt;&gt; &quot;CfgVehicles&quot; &gt;&gt; _classname &gt;&gt; &quot;displayName&quot;);				
};
_buildable = [];

//Get Requirements from build_list.sqf global array [_attachCoords, _startPos, _modDir, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];
_attachCoords 	= _requirements select 0;
_startPos 		= _requirements select 1;
_modDir 		= _requirements select 2;
_toolBox 		= _requirements select 3;
_eTool 			= _requirements select 4;
_medWait 		= _requirements select 5;
_longWait 		= _requirements select 6;
_inBuilding 	= _requirements select 7;
_roadAllowed 	= _requirements select 8;
_inTown 		= _requirements select 9;
_isSimulated 	= _requirements select 12;
_isDestrutable	= _requirements select 13;
// Get _startPos for object
_location 		= player modeltoworld _startPos;

//Check Requirements
if (_toolBox) then {
	if (!_hasToolbox) then {cutText [format[&quot;You need a tool box to build %1&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript; };
};
if (_eTool) then {
	if (!_hasEtool) then {cutText [format[&quot;You need an entrenching tool to build %1&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript; };
};
if (_inBuilding) then {
	if (_isOk) then {cutText [format[&quot;%1 cannot be built inside of buildings!&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript; };
};
if (!_roadAllowed) then { // Do another check for object being on road
	_onRoad = isOnRoad _locationPlayer;
	if(_onRoad) then {cutText [format[&quot;You cannot build %1 on the road&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;};
};
if (!_inTown) then {
	for &quot;_i&quot; from 0 to ((count allbuild_notowns) - 1) do
	{
		_check_town = (allbuild_notowns select _i) select _i - _i;
		if (_town_name == _check_town) then {
			_townRange = (allbuild_notowns select _i) select _i - _i + 1;
			if (_locationPlayer distance _town_pos &lt;= _townRange) then {
				cutText [format[&quot;You cannot build %1 within %2 meters of area %3&quot;,_text, _townRange, _town_name], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;
			};
		};
	};
};

//Check if other panels nearby
_panelNearest2 = nearestObjects [player, [&quot;Infostand_2_EP1&quot;], 30];
if (_classname == &quot;Infostand_2_EP1&quot; &amp;&amp; (count _panelNearest2 &gt; 1)) then {cutText [&quot;Only 2 gate panels per base in a 30 meter radius!&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};

// Begin building process
_buildCheck = false;
_buildReady = false;
player allowdamage false;
_object = createVehicle [_classname, _location, [], 0, &quot;CAN_COLLIDE&quot;];
_object setDir (getDir player);
if (_modDir &gt; 0) then {
_object setDir (getDir player) + _modDir;
};
player allowdamage true;
hint &quot;&quot;;
cutText [&quot;-Build process started.  Move around to re-position\n-Stay still to begin build timer&quot;, &quot;PLAIN DOWN&quot;, 10];		
while {!_buildReady} do {
	hintsilent &quot;-Build process started.  \n-Move around to re-position\n-Stay still to begin build timer&quot;;
	_playerCombat = player;
	_isInCombat = _playerCombat getVariable[&quot;startcombattimer&quot;,0];
	_dialog = findDisplay 106;
		if ((speed player &lt; 9 &amp;&amp; speed player &gt; 0) || (speed player &gt; -7 &amp;&amp; speed player &lt; 0)) then {
				_object attachto [player, _attachCoords];
				_object setDir (getDir player) + _modDir;
				_inProgress = true;
		} else {
			if (_inProgress) then {
				detach _object;
				sleep 0.03;
				_location = getposATL _object;
				_dir = getDir _object;
				_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];
				_location = _object modeltoworld [0,0,0];
				deletevehicle _object;
				_object = createVehicle [_classname, _location, [], 0, &quot;CAN_COLLIDE&quot;];
				_object setDir _dir;
				_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];
				_cntLoop = 50;
				_inProgress = false;
					while {speed player == 0 &amp;&amp; !_buildReady} do {
						sleep 0.1;
						if (_cntLoop &lt;= 100 &amp;&amp; _cntLoop % 10 == 0) then {
						cutText [format[&quot;Building of %1 starts in %2 seconds. Move to restart timer and position&quot;,_text, (_cntLoop / 10)], &quot;PLAIN DOWN&quot;,1];
						};
						// Cancel build if rules broken
						_isInCombat = _playerCombat getVariable[&quot;startcombattimer&quot;,0];
						_dialog = findDisplay 106;
						if ((!(isNull _dialog) || _isInCombat &gt; 0) &amp;&amp; (isPlayer _playerCombat) ) then {
							detach _object;
							deletevehicle _object;
							cutText [format[&quot;Build canceled for %1. Player in combat or opened gear.&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;
							if (!_roadAllowed) then { // Check object being placed on road
								_onRoad = isOnRoad getposATL(_object);
								if(_onRoad) then {cutText [format[&quot;You cannot build %1 on the road&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;};
							};
						};
						_cntLoop = _cntLoop - 1;
						if (_cntLoop &lt;= 0) then {
							_buildReady = true;
							_cntLoop = 0;
						};
					};
			};
		};
		// Cancel build if rules broken
		if ((!(isNull _dialog) || (speed player &gt; 9 || speed player &lt; -7) || _isInCombat &gt; 0) &amp;&amp; (isPlayer _playerCombat) ) then {
			detach _object;
			deletevehicle _object;
			cutText [format[&quot;Build canceled for %1. Player moving too fast, in combat or opened gear.&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;
		};
	sleep 0.03;
};
if (_buildReady) then {
cutText [format[&quot;Building beginning for %1.&quot;,_text], &quot;PLAIN DOWN&quot;,1];
} else {cutText [format[&quot;Build canceled for %1. Something went wrong!&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;};
// Begin Building
//Do quick check to see if player is not playing nice after placing object
_locationPlayer = player modeltoworld [0,0,0];
_onLadder 		=	(getNumber (configFile &gt;&gt; &quot;CfgMovesMaleSdr&quot; &gt;&gt; &quot;States&quot; &gt;&gt; (animationState player) &gt;&gt; &quot;onLadder&quot;)) == 1;
_canDo 			= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!
_isWater 		= 	(surfaceIsWater _locationPlayer) or dayz_isSwimming;
_inVehicle 		= (vehicle player != player);
_isOk = [player,_building] call fnc_isInsideBuilding;
if (_inBuilding) then {
	if (_isOk) then {deletevehicle _object; cutText [format[&quot;%1 cannot be built inside of buildings!&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript; };
};
// Did player walk object into restricted town?
_closestTown = (nearestLocations [player,[&quot;NameCityCapital&quot;,&quot;NameCity&quot;,&quot;NameVillage&quot;],25600]) select 0;
_town_name = text _closestTown;
_town_pos = position _closestTown;
if (!_inTown) then {
	for &quot;_i&quot; from 0 to ((count allbuild_notowns) - 1) do
	{
		_check_town = (allbuild_notowns select _i) select _i - _i;
		if (_town_name == _check_town) then {
			_townRange = (allbuild_notowns select _i) select _i - _i + 1;
			if (_locationPlayer distance _town_pos &lt;= _townRange) then {
				 deletevehicle _object; cutText [format[&quot;You cannot build %1 within %2 meters of area %3&quot;,_text, _townRange, _town_name], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;
			};
		};
	};
};

r_interrupt = false;
r_doLoop = true;
_cntLoop = 0;
//Physically begin building 
switch (true) do
{
	case(_longWait):
	{
		_cnt = _longWloop;
		_cnt = _cnt * 10;
		for &quot;_i&quot; from 0 to _longWloop do
		{
			cutText [format[&quot;Building %1.  %2 seconds left.\nMove from current position to cancel&quot;,_text,_cnt + 10], &quot;PLAIN DOWN&quot;,1];
			if (player distance _locationPlayer &gt; 1) then {deletevehicle _object; cutText [format[&quot;Build canceled for %1, position of player moved&quot;,_text], &quot;PLAIN DOWN&quot;,1]; call _funcExitScript;};
			if (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[&quot;Build canceled for %1, player is unable to continue&quot;,_text], &quot;PLAIN DOWN&quot;,1]; call _funcExitScript;};
			player playActionNow &quot;Medic&quot;;
			sleep 1;
			[player,&quot;repair&quot;,0,false] call dayz_zombieSpeak;
			_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;
			//DayZ interrupt feature like when canceling bandaging
			while {r_doLoop} do {
				if (r_interrupt) then {
					r_doLoop = false;
				};
				if (_cntLoop &gt;= 100) then {
					r_doLoop = false;
					_finished = true;
				};
				sleep .1;
				_cntLoop = _cntLoop + 1;
			};
			if (r_interrupt) then {
				deletevehicle _object; 
				[objNull, player, rSwitchMove,&quot;&quot;] call RE;
				player playActionNow &quot;stop&quot;;
				cutText [format[&quot;Build canceled for %1, position of player moved&quot;,_text], &quot;PLAIN DOWN&quot;,1]; 
				procBuild = false;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true]; 
				breakOut &quot;exit&quot;;
			};
			r_doLoop = true;
			_cntLoop = 0;
			_cnt = _cnt - 10;
		};
		sleep 1.5;
	};
	case(_medWait):
	{
		_cnt = _medWloop;
		_cnt = _cnt * 10;
		for &quot;_i&quot; from 0 to _medWloop do
		{
			cutText [format[&quot;Building %1.  %2 seconds left.\nMove from current position to cancel&quot;,_text,_cnt + 10], &quot;PLAIN DOWN&quot;,1];
			if (player distance _locationPlayer &gt; 1) then {deletevehicle _object; cutText [format[&quot;Build canceled for %1, position of player moved&quot;,_text], &quot;PLAIN DOWN&quot;,1]; call _funcExitScript;};
			if (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[&quot;Build canceled for %1, player is unable to continue&quot;,_text], &quot;PLAIN DOWN&quot;,1]; call _funcExitScript;};
			player playActionNow &quot;Medic&quot;;
			sleep 1;
			[player,&quot;repair&quot;,0,false] call dayz_zombieSpeak;
			_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;
			while {r_doLoop} do {
				if (r_interrupt) then {
					r_doLoop = false;
				};
				if (_cntLoop &gt;= 100) then {
					r_doLoop = false;
					_finished = true;
				};
				sleep .1;
				_cntLoop = _cntLoop + 1;
			};
			if (r_interrupt) then {
				deletevehicle _object; 
				[objNull, player, rSwitchMove,&quot;&quot;] call RE;
				player playActionNow &quot;stop&quot;;
				cutText [format[&quot;Build canceled for %1, position of player moved&quot;,_text], &quot;PLAIN DOWN&quot;,1]; 
				procBuild = false;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true]; 
				breakOut &quot;exit&quot;;
			};
			r_doLoop = true;
			_cntLoop = 0;
			_cnt = _cnt - 10;
		};
		sleep 1.5;
	};
	case(!_medWait &amp;&amp; !_longWait):
	{
		_cnt = _smallWloop;
		_cnt = _cnt * 10;
		for &quot;_i&quot; from 0 to _smallWloop do
		{
			cutText [format[&quot;Building %1.  %2 seconds left.\nMove from current position to cancel&quot;,_text,_cnt + 10], &quot;PLAIN DOWN&quot;,1];
			if (player distance _locationPlayer &gt; 1) then {deletevehicle _object; cutText [format[&quot;Build canceled for %1, position of player moved&quot;,_text], &quot;PLAIN DOWN&quot;,1]; call _funcExitScript;};
			if (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[&quot;Build canceled for %1, player is unable to continue&quot;,_text], &quot;PLAIN DOWN&quot;,1]; call _funcExitScript;};
			player playActionNow &quot;Medic&quot;;
			sleep 1;
			[player,&quot;repair&quot;,0,false] call dayz_zombieSpeak;
			_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;
			while {r_doLoop} do {
				if (r_interrupt) then {
					r_doLoop = false;
				};
				if (_cntLoop &gt;= 100) then {
					r_doLoop = false;
					_finished = true;
				};
				sleep .1;
				_cntLoop = _cntLoop + 1;
			};
			if (r_interrupt) then {
				deletevehicle _object; 
				[objNull, player, rSwitchMove,&quot;&quot;] call RE;
				player playActionNow &quot;stop&quot;;
				cutText [format[&quot;Build canceled for %1, position of player moved&quot;,_text], &quot;PLAIN DOWN&quot;,1]; 
				procBuild = false;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true]; 
				breakOut &quot;exit&quot;;
			};
			r_doLoop = true;
			_cntLoop = 0;
			_cnt = _cnt - 10;
		};
		sleep 1.5;
	};
};
// Do last check to see if player attempted to remvoe buildables
_mags = magazines player;
_buildables = []; // reset original buildables
	if (&quot;ItemTankTrap&quot; in _mags) then {
		_qtyT = {_x == &quot;ItemTankTrap&quot;} count magazines player;
		_buildables set [count _buildables, _qtyT]; 
	} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };
		
	if (&quot;ItemSandbag&quot; in _mags) then {
		_qtyS = {_x == &quot;ItemSandbag&quot;} count magazines player;
		_buildables set [count _buildables, _qtyS]; 
	} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };
	
	if (&quot;ItemWire&quot; in _mags) then {
		_qtyW = {_x == &quot;ItemWire&quot;} count magazines player;
		_buildables set [count _buildables, _qtyW]; 
		} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };
		
	if (&quot;PartWoodPile&quot; in _mags) then {
		_qtyL = {_x == &quot;PartWoodPile&quot;} count magazines player;
		_buildables set [count _buildables, _qtyL]; 
	} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };
	
	if (&quot;PartGeneric&quot; in _mags) then {
		_qtyM = {_x == &quot;PartGeneric&quot;} count magazines player;
		_buildables set [count _buildables, _qtyM]; 
	} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };
	
	if (&quot;HandGrenade_West&quot; in _mags) then {
		_qtyG = {_x == &quot;HandGrenade_West&quot;} count magazines player;
		_buildables set [count _buildables, _qtyG]; 
	} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };
	
	
_distance = 30;
_canBuildOnPlot = false;
if(_isPole) then {
	_distance = 45;
};
// check for near plot
_findNearestPoles = nearestObjects [(vehicle player), [&quot;Plastic_Pole_EP1_DZ&quot;], _distance];
_findNearestPole = [];
{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;

_IsNearPlot = count (_findNearestPole);

// If item is plot pole and another one exists within 45m
if(_isPole and _IsNearPlot &gt; 0) exitWith {  TradeInprogress = false; cutText [&quot;Cannot build plot pole within 45m of an existing plot.&quot; , &quot;PLAIN DOWN&quot;];call _funcExitScript;};

if(_IsNearPlot == 0) then {

	// Allow building of plot
	if(_isPole) then {
		_canBuildOnPlot = true;	
	};
	
} else {
	// Since there are plots nearby we check for ownership and then for friend status

	_nearestPole = _findNearestPole select 0;

		// Find owner 
		_ownerID = _nearestPole getVariable[&quot;CharacterID&quot;,&quot;0&quot;];

		// diag_log format[&quot;DEBUG BUILDING: %1 = %2&quot;, dayz_playerUID, _ownerID];

		// check if friendly to owner
		if(dayz_playerUID == _ownerID) then {
			// owner can build anything within his plot except other plots
			if(!_isPole) then {
				_canBuildOnPlot = true;
			};

		} else {
			// disallow building plot
			if(!_isPole) then {
				_friendlies		= player getVariable [&quot;friendlyTo&quot;,[]];
				// check if friendly to owner
				if(_ownerID in _friendlies) then {
					_canBuildOnPlot = true;
				};
			};
		};
};

// _message
if(!_canBuildOnPlot) exitWith {deletevehicle _object; cutText [&quot;Abusing not allowed!&quot; , &quot;PLAIN DOWN&quot;];call _funcExitScript;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true];};

if (_inBuilding) then {
	if (_isOk) then {deletevehicle _object; cutText [format[&quot;Abusing not allowed!&quot;,_text], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true];};
};
// Did player walk object into restricted town?
_closestTown = (nearestLocations [player,[&quot;NameCityCapital&quot;,&quot;NameCity&quot;,&quot;NameVillage&quot;],25600]) select 0;
_town_name = text _closestTown;
_town_pos = position _closestTown;
if (!_inTown) then {
	for &quot;_i&quot; from 0 to ((count allbuild_notowns) - 1) do
	{
		_check_town = (allbuild_notowns select _i) select _i - _i;
		if (_town_name == _check_town) then {
			_townRange = (allbuild_notowns select _i) select _i - _i + 1;
			if (_locationPlayer distance _town_pos &lt;= _townRange) then {
				 deletevehicle _object; cutText [format[&quot;You cannot build %1 within %2 meters of area %3&quot;,_text, _townRange, _town_name], &quot;PLAIN DOWN&quot;,1];call _funcExitScript;
			};
		};
	};
};

/*/// testing new way of finding building
	_buildings = nearestObjects [(vehicle player), [&quot;Building&quot;], 100];
	{
		_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;
		if(_isBuilding) exitWith {
			_cancel = true;
			_reason = &quot;Cannot build inside another building.&quot;;
		};
	} forEach _buildings;
*/
if (!_roadAllowed) then { // Check object being placed on road
_onRoad = isOnRoad getposATL(_object);
if(_onRoad) then {deletevehicle _object;cutText [format[&quot;You cannot build %1 on the road. Abusing not allowed!&quot;,_text], &quot;PLAIN DOWN&quot;,1];deleteVehicle _object;call _funcExitScript;};
};

if(_isWater) then {cutText [&quot;Abusing not allowed!&quot; , &quot;PLAIN DOWN&quot;];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[&quot;startcombattimer&quot;, 1, true];};
if(_onLadder) then {cutText [&quot;Abusing not allowed!&quot; , &quot;PLAIN DOWN&quot;];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[&quot;startcombattimer&quot;, 1, true];};
if (_inVehicle) then {cutText [&quot;Abusing not allowed!&quot; , &quot;PLAIN DOWN&quot;];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[&quot;startcombattimer&quot;, 1, true];};
//Check if other panels nearby
_panelNearest2 = nearestObjects [player, [&quot;Infostand_2_EP1&quot;], 30];
if (_classname == &quot;Infostand_2_EP1&quot; &amp;&amp; (count _panelNearest2 &gt; 2)) then {cutText [&quot;Only 2 gate panels per base in a 30 meter radius! Abusing not allowed!&quot;, &quot;PLAIN DOWN&quot;];deleteVehicle _object;call _funcExitScript; 
				procBuild = false;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true]; 
				breakOut &quot;exit&quot;;
			};

	
// Check if it matches again
_result = [_buildables,_chosenRecipe] call BIS_fnc_areEqual;

if (_result) then {
//Build final product!
//_object setpos [((_object modeltoworld [0,0,0]) select 0),((_object modeltoworld [0,0,0]) select 1), 0];
//_location = getposATL _object;
//_dir = getDir _object;
	//Finish last requirement checks, _isSimulated disables objects physics if specified, _isDestructable checks if object needs to be invincible
	if (!_isSimulated) then {
		_object enablesimulation false;
	};
	if (!_isDestructable) then {
		_object addEventHandler [&quot;HandleDamage&quot;, {false}];
	};
	
// set the codes for gate
//--------------------------------
	/* Old Method
	_uidDir = _dir;
	_uidDir = round(_uidDir);
	_p1 = round(_location select 0);
	_p2 = round(_location select 1);
	//_p3 = round(_location select 2);
	_uid = format[&quot;%1,%2,%3&quot;,_p1,_p2,_uidDir];
	*/
	// New Method
	_uidDir = _dir;
	_uidDir = round(_uidDir);
	_uid = &quot;&quot;;
	{
		_x = _x * 10;
		if ( _x &lt; 0 ) then { _x = _x * -10 };
		_uid = _uid + str(round(_x));
	} forEach _location;
	_uid = _uid + str(round(_dir));
	
// ------------------------------------------------------------------------kikyou2 Random Keycode Start---------------------------------------------------------------------
	_coder = random(9999); //generating random number between 0-9999
	if (_coder &lt; 1000) then { //checks whether the number is &lt; 1000
	_coder = _coder + 1000; //adds 1000 to the number if its &lt; 1000 to make sure that the code will be 4 digits long
	};
	_code = round _coder; //remove all digits after comma
	
// ------------------------------------------------------------------------kikyou2 Random Keycode End-----------------------------------------------------------------------	

//--------------------------------
	switch (_classname) do
	{
		case &quot;Grave&quot;:
		{
			cutText [format[&quot;You have constructed a %1, crawl away so you dont set it off!&quot;,_text], &quot;PLAIN DOWN&quot;,1];
			_object setVariable [&quot;isBomb&quot;, true];
		};
		case &quot;Infostand_2_EP1&quot;:
		{
			cutText [format[&quot;You have constructed a %1, REMEMBER THIS PERMANENT KEYCODE: %2 .  Make sure to build 2 (one in/one out) Key Panels as soon as possible to get both codes!&quot;,_text,_code], &quot;PLAIN DOWN&quot;,60]; //Changed _uid to _code to show the right keycode
		};
		default {
			cutText [format[&quot;You have constructed a %1\n .&quot;,_text,_code], &quot;PLAIN DOWN&quot;,60]; //Changed _uid to _code to show the right keycode
			//cutText [format[localize &quot;str_build_01&quot;,_text], &quot;PLAIN DOWN&quot;];
		};
	};
	//Remove required magazines
	if (_qtyT &gt; 0) then {
		for &quot;_i&quot; from 0 to _qtyT do
		{
			player removeMagazine _itemT;
		};
	};
	if (_qtyS &gt; 0) then {
		for &quot;_i&quot; from 0 to _qtyS do
		{
			player removeMagazine _itemS;
		};
	};
	if (_qtyW &gt; 0) then {
		for &quot;_i&quot; from 0 to _qtyW do
		{
			player removeMagazine _itemW;
		};
	};
	if (_qtyL &gt; 0) then {
		for &quot;_i&quot; from 0 to _qtyL do
		{
			player removeMagazine _itemL;
		};
	};
	if (_qtyM &gt; 0) then {
		for &quot;_i&quot; from 0 to _qtyM do
		{
			player removeMagazine _itemM;
		};
	};
	//Grenade only is needed when building booby trap
	if (_qtyG &gt; 0 &amp;&amp; _classname == &quot;Grave&quot;) then {
		for &quot;_i&quot; from 0 to _qtyG do
		{
			player removeMagazine _itemG;
		};
	};

// Send to database
_fuel = _code / 1000; //added to calculate valid fuel value for the database
_object setVariable [&quot;characterID&quot;,dayz_playerUID,true];
dayzPublishObj2 = [dayz_playerUID,_object,[_dir,_location],_classname,_fuel,_code]; //added _code to pass to the publishObj function to prevent calculation errors
publicVariableServer &quot;dayzPublishObj2&quot;;
	if (isServer) then {
		dayzPublishObj2 call server_publishObj2;
	};

} else {cutText [&quot;You need the EXACT amount of whatever you are trying to build without extras.&quot;, &quot;PLAIN DOWN&quot;];call _funcExitScript;};

player allowdamage true;
procBuild = false;_playerCombat setVariable[&quot;startcombattimer&quot;, 1, true];
Â 
. 
" data-websharetitle="Base Building help" data-webshareurl="https://epochmod.com/forum/topic/2301-base-building-help/?do=findComment&amp;comment=14944">More sharing options...</button>
</div>
</div>
</div>
</article>
</div>
<div class="ipsSpacer_both">
<div class="ipsBox ipsResponsive_pull ipsMargin_bottom">
<h2 class="ipsType_sectionTitle ipsType_reset ipsHide">0 answers to this question</h2>
<div class="ipsPadding:half ipsClearfix">
<ul class="ipsPos_right ipsButtonRow ipsClearfix sm:ipsMargin_bottom:half">
<li>
<a class="ipsButtonRow_active" href="index.html" id="elSortBy_answers">Sort by votes</a>
</li>
<li>
<a href="https://epochmod.com/forum/topic/2301-base-building-help/?sortby=date" id="elSortBy_date">Sort by date</a>
</li>
</ul>
</div>
</div>
</div>
<div class="ipsRecommendedComments ipsHide" data-controller="core.front.core.recommendedComments" data-url="https://epochmod.com/forum/topic/2301-base-building-help/?recommended=comments">
<div data-role="recommendedComments">
<h2 class="ipsType_sectionHead ipsType_large ipsType_bold ipsMargin_bottom">Recommended Posts</h2>
</div>
</div>
<div data-controller="core.front.core.moderation" data-role="commentFeed" id="elPostFeed">
<form action="https://epochmod.com/forum/topic/2301-base-building-help/?csrfKey=bbd96aef55be1a90d685e56a4524d73a&amp;do=multimodComment" data-ipspageaction="" data-role="moderationTools" method="post">
<p class="ipsType_center ipsType_light ipsType_large ipsPad" data-role="noComments">
						There have been no answers to this question yet
					</p>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a">
</input></form>
</div>
<a id="replyForm"></a>
<div class="cTopicPostArea ipsBox ipsResponsive_pull ipsPadding cTopicPostArea_noSize ipsSpacer_top" data-role="replyArea">
<div>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<div class="ipsType_center ipsPad">
<h2 class="ipsType_pageTitle">Please sign in to comment</h2>
<p class="ipsType_light ipsType_normal ipsType_reset ipsSpacer_top ipsSpacer_half">You will be able to leave a comment after signing in</p>
<br/>
<br/>
<a class="ipsButton ipsButton_alternate ipsButton_large" data-ipsdialog="" data-ipsdialog-remoteverify="false" data-ipsdialog-size="medium" data-ipsdialog-title="Sign In Now" href="https://epochmod.com/forum/login/?ref=aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy8yMzAxLWJhc2UtYnVpbGRpbmctaGVscC8jcmVwbHlGb3Jt">Sign In Now</a>
</div>
</div>
</div>
<div class="ipsBox ipsPadding ipsResponsive_pull ipsResponsive_showPhone ipsMargin_top">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span> Â Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F2301-base-building-help%2F&amp;title=Base+Building+help" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/2301-base-building-help/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Base Building help" data-websharetitle="Base Building help" data-webshareurl="index.html">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="2301">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall ipsButton_disabled" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">0</span>
</a>
</div>
</div>
</div>
</div>
<div class="ipsPager ipsSpacer_top">
<div class="ipsPager_prev">
<a href="../../forum/35-scripting/index.html" rel="parent" title="Go to Scripting">
<span class="ipsPager_type">Go to question listing</span>
</a>
</div>
</div>
<div class="cWidgetContainer" data-orientation="horizontal" data-role="widgetReceiver" data-widgetarea="footer">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_horizontal ipsBox ipsWidgetHide ipsHide" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_core_relatedContent_sido2emh4" data-blocktitle="Similar Content" data-controller="core.front.widgets.block"></li>
<li class="ipsWidget ipsWidget_horizontal ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Blocks_mtkskjhzs" data-blocktitle="Custom Blocks" data-controller="core.front.widgets.block">
Advertisement


</li>
</ul>
</div>
</div>
<div class="ipsLayout_sidebarright" data-controller="core.front.widgets.sidebar" id="ipsLayout_sidebar">
<div class="cWidgetContainer" data-orientation="vertical" data-role="widgetReceiver" data-widgetarea="sidebar">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_vertical ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Wysiwyg_hbjjvq53w" data-blocktitle="WYSIWYG Editor" data-controller="core.front.widgets.block">
<div class="ipsWidget_inner ipsPad ipsType_richText" data-controller="core.front.core.lightboxedImages">
<p>
<a href="https://discord.gg/0k4ynDDCsnMzkxk7" rel="external nofollow" style="color:inherit;"><img alt="Discord" src="http://i.imgur.com/hFgq3Rt.png" style="width:300px;height:auto;"/></a>
</p>
</div>
</li>
</ul>
</div>
</div>
<nav class="ipsBreadcrumb ipsBreadcrumb_bottom ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/96-qa-section/index.html">
<span>Q&amp;A Section <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/35-scripting/index.html">
<span>Scripting <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Base Building help
				
			</li>
</ul>
</nav>
</div>
</div>
</main>
<footer class="ipsClearfix" id="ipsLayout_footer">
<div class="ipsLayout_container">
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterSocialLinks">
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_facebook" href="https://facebook.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-facebook"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_twitter" href="https://twitter.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-twitter"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_github" href="https://github.com/EpochModTeam/" rel="noopener noreferrer" target="_blank"><i class="fa fa-github"></i></a>
</li>
</ul>
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterLinks">
<li><a data-ipsdialog="" data-ipsdialog-flashmessage="Thanks, your message has been sent to the administrators." data-ipsdialog-remotesubmit="" data-ipsdialog-title="Contact Us" href="https://epochmod.com/forum/contact/" rel="nofollow">Contact Us</a></li>
</ul>
<p id="elCopyright">
<span id="elCopyright_userLine">Copyright Â© 2019 Epoch Mod Team</span>
<a href="https://www.invisioncommunity.com/" rel="nofollow" title="Invision Community">Powered by Invision Community</a>
</p>
</div>
</footer>
<div class="ipsDrawer ipsHide" id="elMobileDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>Ã</span></a>
<div class="ipsDrawer_content ipsFlex ipsFlex-fd:column">
<div class="ipsPadding ipsBorder_bottom">
<ul class="ipsToolList ipsToolList_vertical">
<li>
<a class="ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth" href="https://epochmod.com/forum/login/" id="elSigninButton_mobile">Existing user? Sign In</a>
</li>
</ul>
</div>
<ul class="ipsDrawer_list ipsFlex-flex:11">
<li><a href="http://epochmod.com/">Home</a></li>
<li><a href="https://epochmod.com/forum/projects/">Downloads</a></li>
<li><a href="../../index.html">Forums</a></li>
<li><a href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">Wiki</a></li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Browse</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/staff/">
					Staff
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/online/">
					Online Users
				</a>
</li>
</ul>
</li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Activity</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/discover/">
					All Activity
				</a>
</li>
<li>
<a href="#">
					My Activity Streams
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/unread/">
					Unread Content
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/content-started/">
					Content I Started
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/search/">
					Search
				</a>
</li>
</ul>
</li>
<li><a href="https://epochmod.com/forum/leaderboard/">Leaderboard</a></li>
</ul>
</div>
</div>
</div>
<div class="ipsDrawer ipsHide" id="elMobileCreateMenuDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>Ã</span></a>
<div class="ipsDrawer_content ipsSpacer_bottom ipsPad">
<ul class="ipsDrawer_list">
<li class="ipsDrawer_listTitle ipsType_reset">Create New...</li>
</ul>
</div>
</div>
</div>
<script type="text/javascript">
		var ipsDebug = false;		
	
		var CKEDITOR_BASEPATH = 'http://epochmod.com/forum/applications/core/interface/ckeditor/ckeditor/';
	
		var ipsSettings = {
			
			
			cookie_path: "/forum/",
			
			cookie_prefix: "ips4_",
			
			
			cookie_ssl: true,
			
			upload_imgURL: "",
			message_imgURL: "",
			notification_imgURL: "",
			baseURL: "//epochmod.com/forum/",
			jsURL: "//epochmod.com/forum/applications/core/interface/js/js.php",
			csrfKey: "bbd96aef55be1a90d685e56a4524d73a",
			antiCache: "7f6edac1d51681449780",
			jsAntiCache: "7f6edac1d51727923486",
			disableNotificationSounds: true,
			useCompiledFiles: true,
			links_external: true,
			memberID: 0,
			lazyLoadEnabled: true,
			blankImg: "//epochmod.com/forum/applications/core/interface/js/spacer.png",
			googleAnalyticsEnabled: true,
			matomoEnabled: false,
			viewProfiles: true,
			mapProvider: 'none',
			mapApiKey: '',
			pushPublicKey: "BLY90A45HZZHrwnCKz6BVlOhu0SsCnzllubxC73QTZM5sfEOds9DfPrBRijrqkg_Tm4PSeJkPCuKkWiWNi4sOC4",
			relativeDates: true
		};
		
		
		
		
			ipsSettings['maxImageDimensions'] = {
				width: 1000,
				height: 750
			};
		
		
	</script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_library.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_js_lang_1.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_framework.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/global_global_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_front.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/front_front_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_forums/front_front_topic.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_map.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script type="text/javascript">
		
			ips.setSetting( 'date_format', jQuery.parseJSON('"mm\/dd\/yy"') );
		
			ips.setSetting( 'date_first_day', jQuery.parseJSON('0') );
		
			ips.setSetting( 'ipb_url_filter_option', jQuery.parseJSON('"none"') );
		
			ips.setSetting( 'url_filter_any_action', jQuery.parseJSON('"allow"') );
		
			ips.setSetting( 'bypass_profanity', jQuery.parseJSON('0') );
		
			ips.setSetting( 'emoji_style', jQuery.parseJSON('"native"') );
		
			ips.setSetting( 'emoji_shortcodes', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_ascii', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_cache', jQuery.parseJSON('1681342651') );
		
			ips.setSetting( 'image_jpg_quality', jQuery.parseJSON('75') );
		
			ips.setSetting( 'cloud2', jQuery.parseJSON('false') );
		
			ips.setSetting( 'isAnonymous', jQuery.parseJSON('false') );
		
		
	</script>
<script type="application/ld+json">
{
    "name": "Base Building help",
    "headline": "Base Building help",
    "text": "Can some one remove the plot pole requirement? I tired can do it successfully \n\u00a0 \n\n/*\nBase Building DayZ by Daimyo\n*/\nprivate[\"_funcExitScript\",\"_canBuildOnPlot\",\"_isSimulated\",\"_isDestructable\",\"_townRange\",\"_longWloop\",\"_medWloop\",\"_smallWloop\",\"_inTown\",\"_inProgress\",\"_modDir\",\"_startPos\",\"_tObjectPos\",\"_buildable\",\"_chosenRecipe\",\"_cnt\",\"_cntLoop\",\"_dialog\",\"_buildReady\",\"_buildCheck\",\"_isInCombat\",\"_playerCombat\",\"_check_town\",\"_eTool\",\"_toolBox\",\"_town_pos\",\"_town_name\",\"_closestTown\",\"_roadAllowed\",\"_toolsNeeded\",\"_inBuilding\",\"_attachCoords\",\"_requirements\",\"_result\",\"_alreadyBuilt\",\"_uidDir\",\"_p1\",\"_p2\",\"_uid\",\"_worldspace\",\"_panelNearest2\",\"_staticObj\",\"_onRoad\",\"_itemL\",\"_itemM\",\"_itemG\",\"_qtyL\",\"_qtyM\",\"_qtyG\",\"_qtyH\",\"_qtyI\",\"_qtyJ\",\"_qtyK\",\"_qtyO\",\"_qtyP\",\"_itemH\",\"_itemI\",\"_itemJ\",\"_itemK\",\"_itemO\",\"_itemP\",\"_cntLoop\",\"_finished\",\"_checkComplete\",\"_objectTemp\",\"_locationPlayer\",\"_object\",\"_id\",\"_isOk\",\"_text\",\"_mags\",\"_hasEtool\",\"_canDo\",\"_hasToolbox\",\"_inVehicle\",\"_isWater\",\"_onLadder\",\"_building\",\"_medWait\",\"_longWait\",\"_location\",\"_isOk\",\"_dir\",\"_classname\",\"_item\",\"_itemT\",\"_itemS\",\"_itemW\",\"_qtyT\",\"_qtyS\",\"_qtyW\",\"_fuel\",\"_code\",\"_coder\",\"_buildables\",\"_isPole\",\"_distance\",\"_findNearestPoles\",\"_findNearestPole\",\"_IsNearPlot\",\"_nearestPole\",\"_ownerID\",\"_friendlies\",\"_message\",\"_buildings\",\"_isBuilding\",\"_cancel\",\"_reason\",\"_qtyB\",\"_itemB\",\"_qtyC\",\"_itemC\",\"_qtyP\",\"_itemP\",\"_qtyBu\",\"_itemBu\",\"_qtyWo\",\"_itemWo\",\"_qtyWoo\",\"_itemWoo\",\"_qtyI\",\"_i\",\"_isDestrutable\"];\n\n// Location placement declarations\n_locationPlayer = player modeltoworld [0,0,0];\n_location \t\t= player modeltoworld [0,0,0]; // Used for object start location and to keep track of object position throughout\n_attachCoords = [0,0,0];\n_dir \t\t\t= getDir player;\n_building \t\t= nearestObject [player, \"Building\"];\n_staticObj \t\t= nearestObject [player, \"Static\"];\n\n// Restriction Checks\n_hasEtool \t\t= \"ItemEtool\" in weapons player;\n_hasToolbox \t= \t\"ItemToolbox\" in items player;\n_onLadder \t\t=\t(getNumber (configFile \u0026gt;\u0026gt; \"CfgMovesMaleSdr\" \u0026gt;\u0026gt; \"States\" \u0026gt;\u0026gt; (animationState player) \u0026gt;\u0026gt; \"onLadder\")) == 1;\n_canDo \t\t\t= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!\n_isWater \t\t= \t(surfaceIsWater _locationPlayer) or dayz_isSwimming;\n_inVehicle \t\t= (vehicle player != player);\n_isOk = [player,_building] call fnc_isInsideBuilding;\n_closestTown = (nearestLocations [player,[\"NameCityCapital\",\"NameCity\",\"NameVillage\",\"Airport\"],25600]) select 0;\n_town_name = text _closestTown;\n_town_pos = position _closestTown;\n\n// Booleans  Some not used, possibly use later\n_roadAllowed \t= false;\n_medWait \t\t= false;\n_longWait \t\t= false;\n_checkComplete \t= false;\n_finished \t\t= false;\n_eTool \t\t\t= false;\n_toolBox \t\t= false;\n_alreadyBuilt \t= false;\n_inBuilding \t= false;\n_inTown \t\t= false;\n_inProgress \t= false;\n_result \t\t= false;\n_isSimulated \t= false;\n_isDestructable = false;\n_canBuildOnPlot = false;\n// Strings\n_classname \t\t= \"\";\n_check_town\t\t= \"\";\n\n// Other\n_cntLoop \t\t= 0;\n_chosenRecipe \t= [];\n_requirements \t= [];\n_buildable \t\t= [];\n_buildables\t\t= [];\n_longWloop\t\t= 2;\n_medWloop\t\t= 1;\n_smallWloop \t= 0;\n_cnt \t\t\t= 0;\n_playerCombat = player;\n\n// Function to exit script without combat activate\n_funcExitScript = {\n\tprocBuild = false;\n\tbreakOut \"exit\";\n};\n\n_isPole = (_classname == \"Plastic_Pole_EP1_DZ\");\n\n_distance = 30;\nif(_isPole) then {\n\t_distance = 45;\n};\n// check for near plot\n_findNearestPoles = nearestObjects [(vehicle player), [\"Plastic_Pole_EP1_DZ\"], _distance];\n_findNearestPole = [];\n{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;\n\n_IsNearPlot = count (_findNearestPole);\n\n// If item is plot pole and another one exists within 45m\nif(_isPole and _IsNearPlot \u0026gt; 0) exitWith {  TradeInprogress = false; cutText [\"Cannot build plot pole within 45m of an existing plot.\" , \"PLAIN DOWN\"]; };\n\nif(_IsNearPlot == 0) then {\n\n\t// Allow building of plot\n\tif(_isPole) then {\n\t\t_canBuildOnPlot = true;\t\n\t};\n\t\n} else {\n\t// Since there are plots nearby we check for ownership and then for friend status\n\n\t_nearestPole = _findNearestPole select 0;\n\n\t\t// Find owner \n\t\t_ownerID = _nearestPole getVariable[\"CharacterID\",\"0\"];\n\n\t\t// diag_log format[\"DEBUG BUILDING: %1 = %2\", dayz_playerUID, _ownerID];\n\n\t\t// check if friendly to owner\n\t\tif(dayz_playerUID == _ownerID) then {\n\t\t\t// owner can build anything within his plot except other plots\n\t\t\tif(!_isPole) then {\n\t\t\t\t_canBuildOnPlot = true;\n\t\t\t};\n\t\t\n\t\t} else {\n\t\t\t// disallow building plot\n\t\t\tif(!_isPole) then {\n\t\t\t\t_friendlies\t\t= player getVariable [\"friendlyTo\",[]];\n\t\t\t\t// check if friendly to owner\n\t\t\t\tif(_ownerID in _friendlies) then {\n\t\t\t\t\t_canBuildOnPlot = true;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n};\n\n// _message\nif(!_canBuildOnPlot) exitWith {  TradeInprogress = false; cutText [\"Building requires plot pole within 30m.\" , \"PLAIN DOWN\"]; };\n\n// testing new way of finding building\n\t_buildings = nearestObjects [(vehicle player), [\"Building\"], 100];\n\t{\n\t\t_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;\n\t\tif(_isBuilding) exitWith {\n\t\t\t_cancel = true;\n\t\t\t_reason = \"Cannot build inside another building.\";\n\t\t};\n\t} forEach _buildings;\n\n// Do first checks to see if player can build before counting\nif (procBuild) then {cutText [\"Your already building!\", \"PLAIN DOWN\"];breakOut \"exit\";};\nif(_isWater) then {cutText [localize \"str_player_26\", \"PLAIN DOWN\"];call _funcExitScript;};\nif(_onLadder) then {cutText [localize \"str_player_21\", \"PLAIN DOWN\"];call _funcExitScript;};\nif (_inVehicle) then {cutText [\"Can\u0027t do this in vehicle\", \"PLAIN DOWN\"];call _funcExitScript;};\nif (!placevault) then {cutText [\"Can\u0027t build in a trader city\", \"PLAIN DOWN\"];call _funcExitScript;};\ndisableSerialization;\nclosedialog 1;\n// Ashfor Fix: Did player try to drop mag and keep action active (not really needed but leave here just in case)\n//_item = _this;\n//if (_item in (magazines player) ) then { // needs }; \n// Global variables for loop method, procBuild may not be needed if implemented in fn_selfactions.sqf\n\tif (dayz_combat == 1) then {\n\t\tcutText [\"Your currently in combat, time reduced to 3 seconds. \\nCanceling/escaping will set you back into combat\", \"PLAIN DOWN\"];\n\t\tsleep 3;\n\t\t_playerCombat setVariable[\"combattimeout\", 0, true];\n\t\tdayz_combat = 0;\n\t};\nr_interrupt = false;\nr_doLoop = true;\nprocBuild = true;\n//Global build_list reference params:\n//[_qtyT, _qtyS, _qtyW, _qtyL, _qtyM, _qtyG], \"Classname\", [_attachCoords, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];\ncall gear_ui_init;\n// Count mags in player inventory and add to an array\n_mags = magazines player;\n\tif (\"ItemTankTrap\" in _mags) then {\n\t\t_qtyT = {_x == \"ItemTankTrap\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyT];\n\t\t_itemT = \"ItemTankTrap\";\n\t} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };\n\t\t\n\tif (\"ItemSandbag\" in _mags) then {\n\t\t_qtyS = {_x == \"ItemSandbag\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyS]; \n\t\t_itemS = \"ItemSandbag\";\n\t} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };\n\t\n\tif (\"ItemWire\" in _mags) then {\n\t\t_qtyW = {_x == \"ItemWire\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyW]; \n\t\t_itemW = \"ItemWire\";\n\t\t} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };\n\t\t\n\tif (\"PartWoodPile\" in _mags) then {\n\t\t_qtyL = {_x == \"PartWoodPile\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyL]; \n\t\t_itemL = \"PartWoodPile\";\n\t} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };\n\t\n\tif (\"PartGeneric\" in _mags) then {\n\t\t_qtyM = {_x == \"PartGeneric\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyM]; \n\t\t_itemM = \"PartGeneric\";\n\t} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };\n\t\n\tif (\"HandGrenade_West\" in _mags) then {\n\t\t_qtyG = {_x == \"HandGrenade_West\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyG]; \n\t\t_itemG = \"HandGrenade_West\";\n\t} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };\n\t\n/*-- Add another item for recipe here by changing _qtyI, \"Item_Classname\", and add recipe into build_list.sqf array!\n\tDont forget to add recipe to recipelist so your players can know how to make object via recipe\n//\t\tif (\"Item_Classname\" in _mags) then {\n//\t\t_qtyI = {_x == \"Item_Classname\"} count magazines player;\n//\t\t_buildables set [count _buildables, _qtyI]; \n//\t\t_itemG = \"Item_Classname\";\n//\t} else { _qtyI = 0; _buildables set [count _buildables, _qtyI]; };\n*/\n\t\n// Check what object is returned from global array, then return classname\n\tfor \"_i\" from 0 to ((count allbuildables) - 1) do\n\t{\n\t\t_buildable = (allbuildables select _i) select _i - _i;\n\t\t_result = [_buildables,_buildable] call BIS_fnc_areEqual;\n\t\t\tif (_result) exitWith {\n\t\t\t\t_classname = (allbuildables select _i) select _i - _i + 1;\n\t\t\t\t_requirements = (allbuildables select _i) select _i - _i + 2;\n\t\t\t\t_chosenRecipe = _buildable;\n\t\t\t};\n\t\t_buildable = [];\n\t};\n// Quit here if no proper recipe is acquired else set names properly\nif (_classname == \"\") then {cutText [\"You need the EXACT amount of whatever you are trying to build without extras.\", \"PLAIN DOWN\"];call _funcExitScript;};\nif (_classname == \"Grave\") then {_text = \"Booby Trap\";};\nif (_classname == \"Concrete_Wall_EP1\") then {_text = \"Gate Concrete Wall\";};\nif (_classname == \"Infostand_2_EP1\") then {_text = \"Gate Panel Keypad Access\";};\nif (_classname != \"Infostand_2_EP1\" \u0026amp;\u0026amp; \n\t_classname != \"Concrete_Wall_EP1\" \u0026amp;\u0026amp;  \n\t_classname != \"Grave\") then {\n//_text = _classname;\n_text = getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; _classname \u0026gt;\u0026gt; \"displayName\");\t\t\t\t\n};\n_buildable = [];\n\n//Get Requirements from build_list.sqf global array [_attachCoords, _startPos, _modDir, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];\n_attachCoords \t= _requirements select 0;\n_startPos \t\t= _requirements select 1;\n_modDir \t\t= _requirements select 2;\n_toolBox \t\t= _requirements select 3;\n_eTool \t\t\t= _requirements select 4;\n_medWait \t\t= _requirements select 5;\n_longWait \t\t= _requirements select 6;\n_inBuilding \t= _requirements select 7;\n_roadAllowed \t= _requirements select 8;\n_inTown \t\t= _requirements select 9;\n_isSimulated \t= _requirements select 12;\n_isDestrutable\t= _requirements select 13;\n// Get _startPos for object\n_location \t\t= player modeltoworld _startPos;\n\n//Check Requirements\nif (_toolBox) then {\n\tif (!_hasToolbox) then {cutText [format[\"You need a tool box to build %1\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\nif (_eTool) then {\n\tif (!_hasEtool) then {cutText [format[\"You need an entrenching tool to build %1\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\nif (_inBuilding) then {\n\tif (_isOk) then {cutText [format[\"%1 cannot be built inside of buildings!\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\nif (!_roadAllowed) then { // Do another check for object being on road\n\t_onRoad = isOnRoad _locationPlayer;\n\tif(_onRoad) then {cutText [format[\"You cannot build %1 on the road\",_text], \"PLAIN DOWN\",1];call _funcExitScript;};\n};\nif (!_inTown) then {\n\tfor \"_i\" from 0 to ((count allbuild_notowns) - 1) do\n\t{\n\t\t_check_town = (allbuild_notowns select _i) select _i - _i;\n\t\tif (_town_name == _check_town) then {\n\t\t\t_townRange = (allbuild_notowns select _i) select _i - _i + 1;\n\t\t\tif (_locationPlayer distance _town_pos \u0026lt;= _townRange) then {\n\t\t\t\tcutText [format[\"You cannot build %1 within %2 meters of area %3\",_text, _townRange, _town_name], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t};\n\t\t};\n\t};\n};\n\n//Check if other panels nearby\n_panelNearest2 = nearestObjects [player, [\"Infostand_2_EP1\"], 30];\nif (_classname == \"Infostand_2_EP1\" \u0026amp;\u0026amp; (count _panelNearest2 \u0026gt; 1)) then {cutText [\"Only 2 gate panels per base in a 30 meter radius!\", \"PLAIN DOWN\"];call _funcExitScript;};\n\n// Begin building process\n_buildCheck = false;\n_buildReady = false;\nplayer allowdamage false;\n_object = createVehicle [_classname, _location, [], 0, \"CAN_COLLIDE\"];\n_object setDir (getDir player);\nif (_modDir \u0026gt; 0) then {\n_object setDir (getDir player) + _modDir;\n};\nplayer allowdamage true;\nhint \"\";\ncutText [\"-Build process started.  Move around to re-position\\n-Stay still to begin build timer\", \"PLAIN DOWN\", 10];\t\t\nwhile {!_buildReady} do {\n\thintsilent \"-Build process started.  \\n-Move around to re-position\\n-Stay still to begin build timer\";\n\t_playerCombat = player;\n\t_isInCombat = _playerCombat getVariable[\"startcombattimer\",0];\n\t_dialog = findDisplay 106;\n\t\tif ((speed player \u0026lt; 9 \u0026amp;\u0026amp; speed player \u0026gt; 0) || (speed player \u0026gt; -7 \u0026amp;\u0026amp; speed player \u0026lt; 0)) then {\n\t\t\t\t_object attachto [player, _attachCoords];\n\t\t\t\t_object setDir (getDir player) + _modDir;\n\t\t\t\t_inProgress = true;\n\t\t} else {\n\t\t\tif (_inProgress) then {\n\t\t\t\tdetach _object;\n\t\t\t\tsleep 0.03;\n\t\t\t\t_location = getposATL _object;\n\t\t\t\t_dir = getDir _object;\n\t\t\t\t_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];\n\t\t\t\t_location = _object modeltoworld [0,0,0];\n\t\t\t\tdeletevehicle _object;\n\t\t\t\t_object = createVehicle [_classname, _location, [], 0, \"CAN_COLLIDE\"];\n\t\t\t\t_object setDir _dir;\n\t\t\t\t_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];\n\t\t\t\t_cntLoop = 50;\n\t\t\t\t_inProgress = false;\n\t\t\t\t\twhile {speed player == 0 \u0026amp;\u0026amp; !_buildReady} do {\n\t\t\t\t\t\tsleep 0.1;\n\t\t\t\t\t\tif (_cntLoop \u0026lt;= 100 \u0026amp;\u0026amp; _cntLoop % 10 == 0) then {\n\t\t\t\t\t\tcutText [format[\"Building of %1 starts in %2 seconds. Move to restart timer and position\",_text, (_cntLoop / 10)], \"PLAIN DOWN\",1];\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Cancel build if rules broken\n\t\t\t\t\t\t_isInCombat = _playerCombat getVariable[\"startcombattimer\",0];\n\t\t\t\t\t\t_dialog = findDisplay 106;\n\t\t\t\t\t\tif ((!(isNull _dialog) || _isInCombat \u0026gt; 0) \u0026amp;\u0026amp; (isPlayer _playerCombat) ) then {\n\t\t\t\t\t\t\tdetach _object;\n\t\t\t\t\t\t\tdeletevehicle _object;\n\t\t\t\t\t\t\tcutText [format[\"Build canceled for %1. Player in combat or opened gear.\",_text], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t\t\t\t\tif (!_roadAllowed) then { // Check object being placed on road\n\t\t\t\t\t\t\t\t_onRoad = isOnRoad getposATL(_object);\n\t\t\t\t\t\t\t\tif(_onRoad) then {cutText [format[\"You cannot build %1 on the road\",_text], \"PLAIN DOWN\",1];call _funcExitScript;};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\t_cntLoop = _cntLoop - 1;\n\t\t\t\t\t\tif (_cntLoop \u0026lt;= 0) then {\n\t\t\t\t\t\t\t_buildReady = true;\n\t\t\t\t\t\t\t_cntLoop = 0;\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\t// Cancel build if rules broken\n\t\tif ((!(isNull _dialog) || (speed player \u0026gt; 9 || speed player \u0026lt; -7) || _isInCombat \u0026gt; 0) \u0026amp;\u0026amp; (isPlayer _playerCombat) ) then {\n\t\t\tdetach _object;\n\t\t\tdeletevehicle _object;\n\t\t\tcutText [format[\"Build canceled for %1. Player moving too fast, in combat or opened gear.\",_text], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t};\n\tsleep 0.03;\n};\nif (_buildReady) then {\ncutText [format[\"Building beginning for %1.\",_text], \"PLAIN DOWN\",1];\n} else {cutText [format[\"Build canceled for %1. Something went wrong!\",_text], \"PLAIN DOWN\",1];call _funcExitScript;};\n// Begin Building\n//Do quick check to see if player is not playing nice after placing object\n_locationPlayer = player modeltoworld [0,0,0];\n_onLadder \t\t=\t(getNumber (configFile \u0026gt;\u0026gt; \"CfgMovesMaleSdr\" \u0026gt;\u0026gt; \"States\" \u0026gt;\u0026gt; (animationState player) \u0026gt;\u0026gt; \"onLadder\")) == 1;\n_canDo \t\t\t= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!\n_isWater \t\t= \t(surfaceIsWater _locationPlayer) or dayz_isSwimming;\n_inVehicle \t\t= (vehicle player != player);\n_isOk = [player,_building] call fnc_isInsideBuilding;\nif (_inBuilding) then {\n\tif (_isOk) then {deletevehicle _object; cutText [format[\"%1 cannot be built inside of buildings!\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\n// Did player walk object into restricted town?\n_closestTown = (nearestLocations [player,[\"NameCityCapital\",\"NameCity\",\"NameVillage\"],25600]) select 0;\n_town_name = text _closestTown;\n_town_pos = position _closestTown;\nif (!_inTown) then {\n\tfor \"_i\" from 0 to ((count allbuild_notowns) - 1) do\n\t{\n\t\t_check_town = (allbuild_notowns select _i) select _i - _i;\n\t\tif (_town_name == _check_town) then {\n\t\t\t_townRange = (allbuild_notowns select _i) select _i - _i + 1;\n\t\t\tif (_locationPlayer distance _town_pos \u0026lt;= _townRange) then {\n\t\t\t\t deletevehicle _object; cutText [format[\"You cannot build %1 within %2 meters of area %3\",_text, _townRange, _town_name], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t};\n\t\t};\n\t};\n};\n\nr_interrupt = false;\nr_doLoop = true;\n_cntLoop = 0;\n//Physically begin building \nswitch (true) do\n{\n\tcase(_longWait):\n\t{\n\t\t_cnt = _longWloop;\n\t\t_cnt = _cnt * 10;\n\t\tfor \"_i\" from 0 to _longWloop do\n\t\t{\n\t\t\tcutText [format[\"Building %1.  %2 seconds left.\\nMove from current position to cancel\",_text,_cnt + 10], \"PLAIN DOWN\",1];\n\t\t\tif (player distance _locationPlayer \u0026gt; 1) then {deletevehicle _object; cutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tif (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[\"Build canceled for %1, player is unable to continue\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tplayer playActionNow \"Medic\";\n\t\t\tsleep 1;\n\t\t\t[player,\"repair\",0,false] call dayz_zombieSpeak;\n\t\t\t_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;\n\t\t\t//DayZ interrupt feature like when canceling bandaging\n\t\t\twhile {r_doLoop} do {\n\t\t\t\tif (r_interrupt) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t};\n\t\t\t\tif (_cntLoop \u0026gt;= 100) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t\t_finished = true;\n\t\t\t\t};\n\t\t\t\tsleep .1;\n\t\t\t\t_cntLoop = _cntLoop + 1;\n\t\t\t};\n\t\t\tif (r_interrupt) then {\n\t\t\t\tdeletevehicle _object; \n\t\t\t\t[objNull, player, rSwitchMove,\"\"] call RE;\n\t\t\t\tplayer playActionNow \"stop\";\n\t\t\t\tcutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\t\t\tr_doLoop = true;\n\t\t\t_cntLoop = 0;\n\t\t\t_cnt = _cnt - 10;\n\t\t};\n\t\tsleep 1.5;\n\t};\n\tcase(_medWait):\n\t{\n\t\t_cnt = _medWloop;\n\t\t_cnt = _cnt * 10;\n\t\tfor \"_i\" from 0 to _medWloop do\n\t\t{\n\t\t\tcutText [format[\"Building %1.  %2 seconds left.\\nMove from current position to cancel\",_text,_cnt + 10], \"PLAIN DOWN\",1];\n\t\t\tif (player distance _locationPlayer \u0026gt; 1) then {deletevehicle _object; cutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tif (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[\"Build canceled for %1, player is unable to continue\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tplayer playActionNow \"Medic\";\n\t\t\tsleep 1;\n\t\t\t[player,\"repair\",0,false] call dayz_zombieSpeak;\n\t\t\t_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;\n\t\t\twhile {r_doLoop} do {\n\t\t\t\tif (r_interrupt) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t};\n\t\t\t\tif (_cntLoop \u0026gt;= 100) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t\t_finished = true;\n\t\t\t\t};\n\t\t\t\tsleep .1;\n\t\t\t\t_cntLoop = _cntLoop + 1;\n\t\t\t};\n\t\t\tif (r_interrupt) then {\n\t\t\t\tdeletevehicle _object; \n\t\t\t\t[objNull, player, rSwitchMove,\"\"] call RE;\n\t\t\t\tplayer playActionNow \"stop\";\n\t\t\t\tcutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\t\t\tr_doLoop = true;\n\t\t\t_cntLoop = 0;\n\t\t\t_cnt = _cnt - 10;\n\t\t};\n\t\tsleep 1.5;\n\t};\n\tcase(!_medWait \u0026amp;\u0026amp; !_longWait):\n\t{\n\t\t_cnt = _smallWloop;\n\t\t_cnt = _cnt * 10;\n\t\tfor \"_i\" from 0 to _smallWloop do\n\t\t{\n\t\t\tcutText [format[\"Building %1.  %2 seconds left.\\nMove from current position to cancel\",_text,_cnt + 10], \"PLAIN DOWN\",1];\n\t\t\tif (player distance _locationPlayer \u0026gt; 1) then {deletevehicle _object; cutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tif (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[\"Build canceled for %1, player is unable to continue\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tplayer playActionNow \"Medic\";\n\t\t\tsleep 1;\n\t\t\t[player,\"repair\",0,false] call dayz_zombieSpeak;\n\t\t\t_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;\n\t\t\twhile {r_doLoop} do {\n\t\t\t\tif (r_interrupt) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t};\n\t\t\t\tif (_cntLoop \u0026gt;= 100) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t\t_finished = true;\n\t\t\t\t};\n\t\t\t\tsleep .1;\n\t\t\t\t_cntLoop = _cntLoop + 1;\n\t\t\t};\n\t\t\tif (r_interrupt) then {\n\t\t\t\tdeletevehicle _object; \n\t\t\t\t[objNull, player, rSwitchMove,\"\"] call RE;\n\t\t\t\tplayer playActionNow \"stop\";\n\t\t\t\tcutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\t\t\tr_doLoop = true;\n\t\t\t_cntLoop = 0;\n\t\t\t_cnt = _cnt - 10;\n\t\t};\n\t\tsleep 1.5;\n\t};\n};\n// Do last check to see if player attempted to remvoe buildables\n_mags = magazines player;\n_buildables = []; // reset original buildables\n\tif (\"ItemTankTrap\" in _mags) then {\n\t\t_qtyT = {_x == \"ItemTankTrap\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyT]; \n\t} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };\n\t\t\n\tif (\"ItemSandbag\" in _mags) then {\n\t\t_qtyS = {_x == \"ItemSandbag\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyS]; \n\t} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };\n\t\n\tif (\"ItemWire\" in _mags) then {\n\t\t_qtyW = {_x == \"ItemWire\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyW]; \n\t\t} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };\n\t\t\n\tif (\"PartWoodPile\" in _mags) then {\n\t\t_qtyL = {_x == \"PartWoodPile\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyL]; \n\t} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };\n\t\n\tif (\"PartGeneric\" in _mags) then {\n\t\t_qtyM = {_x == \"PartGeneric\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyM]; \n\t} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };\n\t\n\tif (\"HandGrenade_West\" in _mags) then {\n\t\t_qtyG = {_x == \"HandGrenade_West\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyG]; \n\t} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };\n\t\n\t\n_distance = 30;\n_canBuildOnPlot = false;\nif(_isPole) then {\n\t_distance = 45;\n};\n// check for near plot\n_findNearestPoles = nearestObjects [(vehicle player), [\"Plastic_Pole_EP1_DZ\"], _distance];\n_findNearestPole = [];\n{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;\n\n_IsNearPlot = count (_findNearestPole);\n\n// If item is plot pole and another one exists within 45m\nif(_isPole and _IsNearPlot \u0026gt; 0) exitWith {  TradeInprogress = false; cutText [\"Cannot build plot pole within 45m of an existing plot.\" , \"PLAIN DOWN\"];call _funcExitScript;};\n\nif(_IsNearPlot == 0) then {\n\n\t// Allow building of plot\n\tif(_isPole) then {\n\t\t_canBuildOnPlot = true;\t\n\t};\n\t\n} else {\n\t// Since there are plots nearby we check for ownership and then for friend status\n\n\t_nearestPole = _findNearestPole select 0;\n\n\t\t// Find owner \n\t\t_ownerID = _nearestPole getVariable[\"CharacterID\",\"0\"];\n\n\t\t// diag_log format[\"DEBUG BUILDING: %1 = %2\", dayz_playerUID, _ownerID];\n\n\t\t// check if friendly to owner\n\t\tif(dayz_playerUID == _ownerID) then {\n\t\t\t// owner can build anything within his plot except other plots\n\t\t\tif(!_isPole) then {\n\t\t\t\t_canBuildOnPlot = true;\n\t\t\t};\n\n\t\t} else {\n\t\t\t// disallow building plot\n\t\t\tif(!_isPole) then {\n\t\t\t\t_friendlies\t\t= player getVariable [\"friendlyTo\",[]];\n\t\t\t\t// check if friendly to owner\n\t\t\t\tif(_ownerID in _friendlies) then {\n\t\t\t\t\t_canBuildOnPlot = true;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n};\n\n// _message\nif(!_canBuildOnPlot) exitWith {deletevehicle _object; cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];call _funcExitScript;_playerCombat setVariable[\"startcombattimer\", 1, true];};\n\nif (_inBuilding) then {\n\tif (_isOk) then {deletevehicle _object; cutText [format[\"Abusing not allowed!\",_text], \"PLAIN DOWN\",1];call _funcExitScript;_playerCombat setVariable[\"startcombattimer\", 1, true];};\n};\n// Did player walk object into restricted town?\n_closestTown = (nearestLocations [player,[\"NameCityCapital\",\"NameCity\",\"NameVillage\"],25600]) select 0;\n_town_name = text _closestTown;\n_town_pos = position _closestTown;\nif (!_inTown) then {\n\tfor \"_i\" from 0 to ((count allbuild_notowns) - 1) do\n\t{\n\t\t_check_town = (allbuild_notowns select _i) select _i - _i;\n\t\tif (_town_name == _check_town) then {\n\t\t\t_townRange = (allbuild_notowns select _i) select _i - _i + 1;\n\t\t\tif (_locationPlayer distance _town_pos \u0026lt;= _townRange) then {\n\t\t\t\t deletevehicle _object; cutText [format[\"You cannot build %1 within %2 meters of area %3\",_text, _townRange, _town_name], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t};\n\t\t};\n\t};\n};\n\n/*/// testing new way of finding building\n\t_buildings = nearestObjects [(vehicle player), [\"Building\"], 100];\n\t{\n\t\t_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;\n\t\tif(_isBuilding) exitWith {\n\t\t\t_cancel = true;\n\t\t\t_reason = \"Cannot build inside another building.\";\n\t\t};\n\t} forEach _buildings;\n*/\nif (!_roadAllowed) then { // Check object being placed on road\n_onRoad = isOnRoad getposATL(_object);\nif(_onRoad) then {deletevehicle _object;cutText [format[\"You cannot build %1 on the road. Abusing not allowed!\",_text], \"PLAIN DOWN\",1];deleteVehicle _object;call _funcExitScript;};\n};\n\nif(_isWater) then {cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[\"startcombattimer\", 1, true];};\nif(_onLadder) then {cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[\"startcombattimer\", 1, true];};\nif (_inVehicle) then {cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[\"startcombattimer\", 1, true];};\n//Check if other panels nearby\n_panelNearest2 = nearestObjects [player, [\"Infostand_2_EP1\"], 30];\nif (_classname == \"Infostand_2_EP1\" \u0026amp;\u0026amp; (count _panelNearest2 \u0026gt; 2)) then {cutText [\"Only 2 gate panels per base in a 30 meter radius! Abusing not allowed!\", \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\n\t\n// Check if it matches again\n_result = [_buildables,_chosenRecipe] call BIS_fnc_areEqual;\n\nif (_result) then {\n//Build final product!\n//_object setpos [((_object modeltoworld [0,0,0]) select 0),((_object modeltoworld [0,0,0]) select 1), 0];\n//_location = getposATL _object;\n//_dir = getDir _object;\n\t//Finish last requirement checks, _isSimulated disables objects physics if specified, _isDestructable checks if object needs to be invincible\n\tif (!_isSimulated) then {\n\t\t_object enablesimulation false;\n\t};\n\tif (!_isDestructable) then {\n\t\t_object addEventHandler [\"HandleDamage\", {false}];\n\t};\n\t\n// set the codes for gate\n//--------------------------------\n\t/* Old Method\n\t_uidDir = _dir;\n\t_uidDir = round(_uidDir);\n\t_p1 = round(_location select 0);\n\t_p2 = round(_location select 1);\n\t//_p3 = round(_location select 2);\n\t_uid = format[\"%1,%2,%3\",_p1,_p2,_uidDir];\n\t*/\n\t// New Method\n\t_uidDir = _dir;\n\t_uidDir = round(_uidDir);\n\t_uid = \"\";\n\t{\n\t\t_x = _x * 10;\n\t\tif ( _x \u0026lt; 0 ) then { _x = _x * -10 };\n\t\t_uid = _uid + str(round(_x));\n\t} forEach _location;\n\t_uid = _uid + str(round(_dir));\n\t\n// ------------------------------------------------------------------------kikyou2 Random Keycode Start---------------------------------------------------------------------\n\t_coder = random(9999); //generating random number between 0-9999\n\tif (_coder \u0026lt; 1000) then { //checks whether the number is \u0026lt; 1000\n\t_coder = _coder + 1000; //adds 1000 to the number if its \u0026lt; 1000 to make sure that the code will be 4 digits long\n\t};\n\t_code = round _coder; //remove all digits after comma\n\t\n// ------------------------------------------------------------------------kikyou2 Random Keycode End-----------------------------------------------------------------------\t\n\n//--------------------------------\n\tswitch (_classname) do\n\t{\n\t\tcase \"Grave\":\n\t\t{\n\t\t\tcutText [format[\"You have constructed a %1, crawl away so you dont set it off!\",_text], \"PLAIN DOWN\",1];\n\t\t\t_object setVariable [\"isBomb\", true];\n\t\t};\n\t\tcase \"Infostand_2_EP1\":\n\t\t{\n\t\t\tcutText [format[\"You have constructed a %1, REMEMBER THIS PERMANENT KEYCODE: %2 .  Make sure to build 2 (one in/one out) Key Panels as soon as possible to get both codes!\",_text,_code], \"PLAIN DOWN\",60]; //Changed _uid to _code to show the right keycode\n\t\t};\n\t\tdefault {\n\t\t\tcutText [format[\"You have constructed a %1\\n .\",_text,_code], \"PLAIN DOWN\",60]; //Changed _uid to _code to show the right keycode\n\t\t\t//cutText [format[localize \"str_build_01\",_text], \"PLAIN DOWN\"];\n\t\t};\n\t};\n\t//Remove required magazines\n\tif (_qtyT \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyT do\n\t\t{\n\t\t\tplayer removeMagazine _itemT;\n\t\t};\n\t};\n\tif (_qtyS \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyS do\n\t\t{\n\t\t\tplayer removeMagazine _itemS;\n\t\t};\n\t};\n\tif (_qtyW \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyW do\n\t\t{\n\t\t\tplayer removeMagazine _itemW;\n\t\t};\n\t};\n\tif (_qtyL \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyL do\n\t\t{\n\t\t\tplayer removeMagazine _itemL;\n\t\t};\n\t};\n\tif (_qtyM \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyM do\n\t\t{\n\t\t\tplayer removeMagazine _itemM;\n\t\t};\n\t};\n\t//Grenade only is needed when building booby trap\n\tif (_qtyG \u0026gt; 0 \u0026amp;\u0026amp; _classname == \"Grave\") then {\n\t\tfor \"_i\" from 0 to _qtyG do\n\t\t{\n\t\t\tplayer removeMagazine _itemG;\n\t\t};\n\t};\n\n// Send to database\n_fuel = _code / 1000; //added to calculate valid fuel value for the database\n_object setVariable [\"characterID\",dayz_playerUID,true];\ndayzPublishObj2 = [dayz_playerUID,_object,[_dir,_location],_classname,_fuel,_code]; //added _code to pass to the publishObj function to prevent calculation errors\npublicVariableServer \"dayzPublishObj2\";\n\tif (isServer) then {\n\t\tdayzPublishObj2 call server_publishObj2;\n\t};\n\n} else {cutText [\"You need the EXACT amount of whatever you are trying to build without extras.\", \"PLAIN DOWN\"];call _funcExitScript;};\n\nplayer allowdamage true;\nprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true];\n\u00a0\n. \n",
    "dateCreated": "2013-10-08T13:58:49+0000",
    "datePublished": "2013-10-08T13:58:49+0000",
    "dateModified": "2013-10-08T13:58:49+0000",
    "image": "https://epochmod.com/forum/uploads/profile/photo-thumb-1130.jpg",
    "author": {
        "@type": "Person",
        "name": "Asian Kid",
        "image": "https://epochmod.com/forum/uploads/profile/photo-thumb-1130.jpg",
        "url": "https://epochmod.com/forum/profile/1130-asian-kid/"
    },
    "interactionStatistic": [
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/ViewAction",
            "userInteractionCount": 1575
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/CommentAction",
            "userInteractionCount": 0
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/FollowAction",
            "userInteractionCount": 0
        }
    ],
    "@context": "http://schema.org",
    "@type": "QAPage",
    "@id": "https://epochmod.com/forum/topic/2301-base-building-help/",
    "url": "https://epochmod.com/forum/topic/2301-base-building-help/",
    "mainEntity": {
        "@type": "Question",
        "name": "Base Building help",
        "text": "Can some one remove the plot pole requirement? I tired can do it successfully \n\u00a0 \n\n/*\nBase Building DayZ by Daimyo\n*/\nprivate[\"_funcExitScript\",\"_canBuildOnPlot\",\"_isSimulated\",\"_isDestructable\",\"_townRange\",\"_longWloop\",\"_medWloop\",\"_smallWloop\",\"_inTown\",\"_inProgress\",\"_modDir\",\"_startPos\",\"_tObjectPos\",\"_buildable\",\"_chosenRecipe\",\"_cnt\",\"_cntLoop\",\"_dialog\",\"_buildReady\",\"_buildCheck\",\"_isInCombat\",\"_playerCombat\",\"_check_town\",\"_eTool\",\"_toolBox\",\"_town_pos\",\"_town_name\",\"_closestTown\",\"_roadAllowed\",\"_toolsNeeded\",\"_inBuilding\",\"_attachCoords\",\"_requirements\",\"_result\",\"_alreadyBuilt\",\"_uidDir\",\"_p1\",\"_p2\",\"_uid\",\"_worldspace\",\"_panelNearest2\",\"_staticObj\",\"_onRoad\",\"_itemL\",\"_itemM\",\"_itemG\",\"_qtyL\",\"_qtyM\",\"_qtyG\",\"_qtyH\",\"_qtyI\",\"_qtyJ\",\"_qtyK\",\"_qtyO\",\"_qtyP\",\"_itemH\",\"_itemI\",\"_itemJ\",\"_itemK\",\"_itemO\",\"_itemP\",\"_cntLoop\",\"_finished\",\"_checkComplete\",\"_objectTemp\",\"_locationPlayer\",\"_object\",\"_id\",\"_isOk\",\"_text\",\"_mags\",\"_hasEtool\",\"_canDo\",\"_hasToolbox\",\"_inVehicle\",\"_isWater\",\"_onLadder\",\"_building\",\"_medWait\",\"_longWait\",\"_location\",\"_isOk\",\"_dir\",\"_classname\",\"_item\",\"_itemT\",\"_itemS\",\"_itemW\",\"_qtyT\",\"_qtyS\",\"_qtyW\",\"_fuel\",\"_code\",\"_coder\",\"_buildables\",\"_isPole\",\"_distance\",\"_findNearestPoles\",\"_findNearestPole\",\"_IsNearPlot\",\"_nearestPole\",\"_ownerID\",\"_friendlies\",\"_message\",\"_buildings\",\"_isBuilding\",\"_cancel\",\"_reason\",\"_qtyB\",\"_itemB\",\"_qtyC\",\"_itemC\",\"_qtyP\",\"_itemP\",\"_qtyBu\",\"_itemBu\",\"_qtyWo\",\"_itemWo\",\"_qtyWoo\",\"_itemWoo\",\"_qtyI\",\"_i\",\"_isDestrutable\"];\n\n// Location placement declarations\n_locationPlayer = player modeltoworld [0,0,0];\n_location \t\t= player modeltoworld [0,0,0]; // Used for object start location and to keep track of object position throughout\n_attachCoords = [0,0,0];\n_dir \t\t\t= getDir player;\n_building \t\t= nearestObject [player, \"Building\"];\n_staticObj \t\t= nearestObject [player, \"Static\"];\n\n// Restriction Checks\n_hasEtool \t\t= \"ItemEtool\" in weapons player;\n_hasToolbox \t= \t\"ItemToolbox\" in items player;\n_onLadder \t\t=\t(getNumber (configFile \u0026gt;\u0026gt; \"CfgMovesMaleSdr\" \u0026gt;\u0026gt; \"States\" \u0026gt;\u0026gt; (animationState player) \u0026gt;\u0026gt; \"onLadder\")) == 1;\n_canDo \t\t\t= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!\n_isWater \t\t= \t(surfaceIsWater _locationPlayer) or dayz_isSwimming;\n_inVehicle \t\t= (vehicle player != player);\n_isOk = [player,_building] call fnc_isInsideBuilding;\n_closestTown = (nearestLocations [player,[\"NameCityCapital\",\"NameCity\",\"NameVillage\",\"Airport\"],25600]) select 0;\n_town_name = text _closestTown;\n_town_pos = position _closestTown;\n\n// Booleans  Some not used, possibly use later\n_roadAllowed \t= false;\n_medWait \t\t= false;\n_longWait \t\t= false;\n_checkComplete \t= false;\n_finished \t\t= false;\n_eTool \t\t\t= false;\n_toolBox \t\t= false;\n_alreadyBuilt \t= false;\n_inBuilding \t= false;\n_inTown \t\t= false;\n_inProgress \t= false;\n_result \t\t= false;\n_isSimulated \t= false;\n_isDestructable = false;\n_canBuildOnPlot = false;\n// Strings\n_classname \t\t= \"\";\n_check_town\t\t= \"\";\n\n// Other\n_cntLoop \t\t= 0;\n_chosenRecipe \t= [];\n_requirements \t= [];\n_buildable \t\t= [];\n_buildables\t\t= [];\n_longWloop\t\t= 2;\n_medWloop\t\t= 1;\n_smallWloop \t= 0;\n_cnt \t\t\t= 0;\n_playerCombat = player;\n\n// Function to exit script without combat activate\n_funcExitScript = {\n\tprocBuild = false;\n\tbreakOut \"exit\";\n};\n\n_isPole = (_classname == \"Plastic_Pole_EP1_DZ\");\n\n_distance = 30;\nif(_isPole) then {\n\t_distance = 45;\n};\n// check for near plot\n_findNearestPoles = nearestObjects [(vehicle player), [\"Plastic_Pole_EP1_DZ\"], _distance];\n_findNearestPole = [];\n{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;\n\n_IsNearPlot = count (_findNearestPole);\n\n// If item is plot pole and another one exists within 45m\nif(_isPole and _IsNearPlot \u0026gt; 0) exitWith {  TradeInprogress = false; cutText [\"Cannot build plot pole within 45m of an existing plot.\" , \"PLAIN DOWN\"]; };\n\nif(_IsNearPlot == 0) then {\n\n\t// Allow building of plot\n\tif(_isPole) then {\n\t\t_canBuildOnPlot = true;\t\n\t};\n\t\n} else {\n\t// Since there are plots nearby we check for ownership and then for friend status\n\n\t_nearestPole = _findNearestPole select 0;\n\n\t\t// Find owner \n\t\t_ownerID = _nearestPole getVariable[\"CharacterID\",\"0\"];\n\n\t\t// diag_log format[\"DEBUG BUILDING: %1 = %2\", dayz_playerUID, _ownerID];\n\n\t\t// check if friendly to owner\n\t\tif(dayz_playerUID == _ownerID) then {\n\t\t\t// owner can build anything within his plot except other plots\n\t\t\tif(!_isPole) then {\n\t\t\t\t_canBuildOnPlot = true;\n\t\t\t};\n\t\t\n\t\t} else {\n\t\t\t// disallow building plot\n\t\t\tif(!_isPole) then {\n\t\t\t\t_friendlies\t\t= player getVariable [\"friendlyTo\",[]];\n\t\t\t\t// check if friendly to owner\n\t\t\t\tif(_ownerID in _friendlies) then {\n\t\t\t\t\t_canBuildOnPlot = true;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n};\n\n// _message\nif(!_canBuildOnPlot) exitWith {  TradeInprogress = false; cutText [\"Building requires plot pole within 30m.\" , \"PLAIN DOWN\"]; };\n\n// testing new way of finding building\n\t_buildings = nearestObjects [(vehicle player), [\"Building\"], 100];\n\t{\n\t\t_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;\n\t\tif(_isBuilding) exitWith {\n\t\t\t_cancel = true;\n\t\t\t_reason = \"Cannot build inside another building.\";\n\t\t};\n\t} forEach _buildings;\n\n// Do first checks to see if player can build before counting\nif (procBuild) then {cutText [\"Your already building!\", \"PLAIN DOWN\"];breakOut \"exit\";};\nif(_isWater) then {cutText [localize \"str_player_26\", \"PLAIN DOWN\"];call _funcExitScript;};\nif(_onLadder) then {cutText [localize \"str_player_21\", \"PLAIN DOWN\"];call _funcExitScript;};\nif (_inVehicle) then {cutText [\"Can\u0027t do this in vehicle\", \"PLAIN DOWN\"];call _funcExitScript;};\nif (!placevault) then {cutText [\"Can\u0027t build in a trader city\", \"PLAIN DOWN\"];call _funcExitScript;};\ndisableSerialization;\nclosedialog 1;\n// Ashfor Fix: Did player try to drop mag and keep action active (not really needed but leave here just in case)\n//_item = _this;\n//if (_item in (magazines player) ) then { // needs }; \n// Global variables for loop method, procBuild may not be needed if implemented in fn_selfactions.sqf\n\tif (dayz_combat == 1) then {\n\t\tcutText [\"Your currently in combat, time reduced to 3 seconds. \\nCanceling/escaping will set you back into combat\", \"PLAIN DOWN\"];\n\t\tsleep 3;\n\t\t_playerCombat setVariable[\"combattimeout\", 0, true];\n\t\tdayz_combat = 0;\n\t};\nr_interrupt = false;\nr_doLoop = true;\nprocBuild = true;\n//Global build_list reference params:\n//[_qtyT, _qtyS, _qtyW, _qtyL, _qtyM, _qtyG], \"Classname\", [_attachCoords, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];\ncall gear_ui_init;\n// Count mags in player inventory and add to an array\n_mags = magazines player;\n\tif (\"ItemTankTrap\" in _mags) then {\n\t\t_qtyT = {_x == \"ItemTankTrap\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyT];\n\t\t_itemT = \"ItemTankTrap\";\n\t} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };\n\t\t\n\tif (\"ItemSandbag\" in _mags) then {\n\t\t_qtyS = {_x == \"ItemSandbag\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyS]; \n\t\t_itemS = \"ItemSandbag\";\n\t} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };\n\t\n\tif (\"ItemWire\" in _mags) then {\n\t\t_qtyW = {_x == \"ItemWire\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyW]; \n\t\t_itemW = \"ItemWire\";\n\t\t} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };\n\t\t\n\tif (\"PartWoodPile\" in _mags) then {\n\t\t_qtyL = {_x == \"PartWoodPile\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyL]; \n\t\t_itemL = \"PartWoodPile\";\n\t} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };\n\t\n\tif (\"PartGeneric\" in _mags) then {\n\t\t_qtyM = {_x == \"PartGeneric\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyM]; \n\t\t_itemM = \"PartGeneric\";\n\t} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };\n\t\n\tif (\"HandGrenade_West\" in _mags) then {\n\t\t_qtyG = {_x == \"HandGrenade_West\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyG]; \n\t\t_itemG = \"HandGrenade_West\";\n\t} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };\n\t\n/*-- Add another item for recipe here by changing _qtyI, \"Item_Classname\", and add recipe into build_list.sqf array!\n\tDont forget to add recipe to recipelist so your players can know how to make object via recipe\n//\t\tif (\"Item_Classname\" in _mags) then {\n//\t\t_qtyI = {_x == \"Item_Classname\"} count magazines player;\n//\t\t_buildables set [count _buildables, _qtyI]; \n//\t\t_itemG = \"Item_Classname\";\n//\t} else { _qtyI = 0; _buildables set [count _buildables, _qtyI]; };\n*/\n\t\n// Check what object is returned from global array, then return classname\n\tfor \"_i\" from 0 to ((count allbuildables) - 1) do\n\t{\n\t\t_buildable = (allbuildables select _i) select _i - _i;\n\t\t_result = [_buildables,_buildable] call BIS_fnc_areEqual;\n\t\t\tif (_result) exitWith {\n\t\t\t\t_classname = (allbuildables select _i) select _i - _i + 1;\n\t\t\t\t_requirements = (allbuildables select _i) select _i - _i + 2;\n\t\t\t\t_chosenRecipe = _buildable;\n\t\t\t};\n\t\t_buildable = [];\n\t};\n// Quit here if no proper recipe is acquired else set names properly\nif (_classname == \"\") then {cutText [\"You need the EXACT amount of whatever you are trying to build without extras.\", \"PLAIN DOWN\"];call _funcExitScript;};\nif (_classname == \"Grave\") then {_text = \"Booby Trap\";};\nif (_classname == \"Concrete_Wall_EP1\") then {_text = \"Gate Concrete Wall\";};\nif (_classname == \"Infostand_2_EP1\") then {_text = \"Gate Panel Keypad Access\";};\nif (_classname != \"Infostand_2_EP1\" \u0026amp;\u0026amp; \n\t_classname != \"Concrete_Wall_EP1\" \u0026amp;\u0026amp;  \n\t_classname != \"Grave\") then {\n//_text = _classname;\n_text = getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; _classname \u0026gt;\u0026gt; \"displayName\");\t\t\t\t\n};\n_buildable = [];\n\n//Get Requirements from build_list.sqf global array [_attachCoords, _startPos, _modDir, _toolBox, _eTool, _medWait, _longWait, _inBuilding, _roadAllowed, _inTown];\n_attachCoords \t= _requirements select 0;\n_startPos \t\t= _requirements select 1;\n_modDir \t\t= _requirements select 2;\n_toolBox \t\t= _requirements select 3;\n_eTool \t\t\t= _requirements select 4;\n_medWait \t\t= _requirements select 5;\n_longWait \t\t= _requirements select 6;\n_inBuilding \t= _requirements select 7;\n_roadAllowed \t= _requirements select 8;\n_inTown \t\t= _requirements select 9;\n_isSimulated \t= _requirements select 12;\n_isDestrutable\t= _requirements select 13;\n// Get _startPos for object\n_location \t\t= player modeltoworld _startPos;\n\n//Check Requirements\nif (_toolBox) then {\n\tif (!_hasToolbox) then {cutText [format[\"You need a tool box to build %1\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\nif (_eTool) then {\n\tif (!_hasEtool) then {cutText [format[\"You need an entrenching tool to build %1\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\nif (_inBuilding) then {\n\tif (_isOk) then {cutText [format[\"%1 cannot be built inside of buildings!\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\nif (!_roadAllowed) then { // Do another check for object being on road\n\t_onRoad = isOnRoad _locationPlayer;\n\tif(_onRoad) then {cutText [format[\"You cannot build %1 on the road\",_text], \"PLAIN DOWN\",1];call _funcExitScript;};\n};\nif (!_inTown) then {\n\tfor \"_i\" from 0 to ((count allbuild_notowns) - 1) do\n\t{\n\t\t_check_town = (allbuild_notowns select _i) select _i - _i;\n\t\tif (_town_name == _check_town) then {\n\t\t\t_townRange = (allbuild_notowns select _i) select _i - _i + 1;\n\t\t\tif (_locationPlayer distance _town_pos \u0026lt;= _townRange) then {\n\t\t\t\tcutText [format[\"You cannot build %1 within %2 meters of area %3\",_text, _townRange, _town_name], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t};\n\t\t};\n\t};\n};\n\n//Check if other panels nearby\n_panelNearest2 = nearestObjects [player, [\"Infostand_2_EP1\"], 30];\nif (_classname == \"Infostand_2_EP1\" \u0026amp;\u0026amp; (count _panelNearest2 \u0026gt; 1)) then {cutText [\"Only 2 gate panels per base in a 30 meter radius!\", \"PLAIN DOWN\"];call _funcExitScript;};\n\n// Begin building process\n_buildCheck = false;\n_buildReady = false;\nplayer allowdamage false;\n_object = createVehicle [_classname, _location, [], 0, \"CAN_COLLIDE\"];\n_object setDir (getDir player);\nif (_modDir \u0026gt; 0) then {\n_object setDir (getDir player) + _modDir;\n};\nplayer allowdamage true;\nhint \"\";\ncutText [\"-Build process started.  Move around to re-position\\n-Stay still to begin build timer\", \"PLAIN DOWN\", 10];\t\t\nwhile {!_buildReady} do {\n\thintsilent \"-Build process started.  \\n-Move around to re-position\\n-Stay still to begin build timer\";\n\t_playerCombat = player;\n\t_isInCombat = _playerCombat getVariable[\"startcombattimer\",0];\n\t_dialog = findDisplay 106;\n\t\tif ((speed player \u0026lt; 9 \u0026amp;\u0026amp; speed player \u0026gt; 0) || (speed player \u0026gt; -7 \u0026amp;\u0026amp; speed player \u0026lt; 0)) then {\n\t\t\t\t_object attachto [player, _attachCoords];\n\t\t\t\t_object setDir (getDir player) + _modDir;\n\t\t\t\t_inProgress = true;\n\t\t} else {\n\t\t\tif (_inProgress) then {\n\t\t\t\tdetach _object;\n\t\t\t\tsleep 0.03;\n\t\t\t\t_location = getposATL _object;\n\t\t\t\t_dir = getDir _object;\n\t\t\t\t_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];\n\t\t\t\t_location = _object modeltoworld [0,0,0];\n\t\t\t\tdeletevehicle _object;\n\t\t\t\t_object = createVehicle [_classname, _location, [], 0, \"CAN_COLLIDE\"];\n\t\t\t\t_object setDir _dir;\n\t\t\t\t_object setpos [(getposATL _object select 0),(getposATL _object select 1), 0];\n\t\t\t\t_cntLoop = 50;\n\t\t\t\t_inProgress = false;\n\t\t\t\t\twhile {speed player == 0 \u0026amp;\u0026amp; !_buildReady} do {\n\t\t\t\t\t\tsleep 0.1;\n\t\t\t\t\t\tif (_cntLoop \u0026lt;= 100 \u0026amp;\u0026amp; _cntLoop % 10 == 0) then {\n\t\t\t\t\t\tcutText [format[\"Building of %1 starts in %2 seconds. Move to restart timer and position\",_text, (_cntLoop / 10)], \"PLAIN DOWN\",1];\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Cancel build if rules broken\n\t\t\t\t\t\t_isInCombat = _playerCombat getVariable[\"startcombattimer\",0];\n\t\t\t\t\t\t_dialog = findDisplay 106;\n\t\t\t\t\t\tif ((!(isNull _dialog) || _isInCombat \u0026gt; 0) \u0026amp;\u0026amp; (isPlayer _playerCombat) ) then {\n\t\t\t\t\t\t\tdetach _object;\n\t\t\t\t\t\t\tdeletevehicle _object;\n\t\t\t\t\t\t\tcutText [format[\"Build canceled for %1. Player in combat or opened gear.\",_text], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t\t\t\t\tif (!_roadAllowed) then { // Check object being placed on road\n\t\t\t\t\t\t\t\t_onRoad = isOnRoad getposATL(_object);\n\t\t\t\t\t\t\t\tif(_onRoad) then {cutText [format[\"You cannot build %1 on the road\",_text], \"PLAIN DOWN\",1];call _funcExitScript;};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\t_cntLoop = _cntLoop - 1;\n\t\t\t\t\t\tif (_cntLoop \u0026lt;= 0) then {\n\t\t\t\t\t\t\t_buildReady = true;\n\t\t\t\t\t\t\t_cntLoop = 0;\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t};\n\t\t};\n\t\t// Cancel build if rules broken\n\t\tif ((!(isNull _dialog) || (speed player \u0026gt; 9 || speed player \u0026lt; -7) || _isInCombat \u0026gt; 0) \u0026amp;\u0026amp; (isPlayer _playerCombat) ) then {\n\t\t\tdetach _object;\n\t\t\tdeletevehicle _object;\n\t\t\tcutText [format[\"Build canceled for %1. Player moving too fast, in combat or opened gear.\",_text], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t};\n\tsleep 0.03;\n};\nif (_buildReady) then {\ncutText [format[\"Building beginning for %1.\",_text], \"PLAIN DOWN\",1];\n} else {cutText [format[\"Build canceled for %1. Something went wrong!\",_text], \"PLAIN DOWN\",1];call _funcExitScript;};\n// Begin Building\n//Do quick check to see if player is not playing nice after placing object\n_locationPlayer = player modeltoworld [0,0,0];\n_onLadder \t\t=\t(getNumber (configFile \u0026gt;\u0026gt; \"CfgMovesMaleSdr\" \u0026gt;\u0026gt; \"States\" \u0026gt;\u0026gt; (animationState player) \u0026gt;\u0026gt; \"onLadder\")) == 1;\n_canDo \t\t\t= (!r_drag_sqf and !r_player_unconscious and !_onLadder); //USE!!\n_isWater \t\t= \t(surfaceIsWater _locationPlayer) or dayz_isSwimming;\n_inVehicle \t\t= (vehicle player != player);\n_isOk = [player,_building] call fnc_isInsideBuilding;\nif (_inBuilding) then {\n\tif (_isOk) then {deletevehicle _object; cutText [format[\"%1 cannot be built inside of buildings!\",_text], \"PLAIN DOWN\",1];call _funcExitScript; };\n};\n// Did player walk object into restricted town?\n_closestTown = (nearestLocations [player,[\"NameCityCapital\",\"NameCity\",\"NameVillage\"],25600]) select 0;\n_town_name = text _closestTown;\n_town_pos = position _closestTown;\nif (!_inTown) then {\n\tfor \"_i\" from 0 to ((count allbuild_notowns) - 1) do\n\t{\n\t\t_check_town = (allbuild_notowns select _i) select _i - _i;\n\t\tif (_town_name == _check_town) then {\n\t\t\t_townRange = (allbuild_notowns select _i) select _i - _i + 1;\n\t\t\tif (_locationPlayer distance _town_pos \u0026lt;= _townRange) then {\n\t\t\t\t deletevehicle _object; cutText [format[\"You cannot build %1 within %2 meters of area %3\",_text, _townRange, _town_name], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t};\n\t\t};\n\t};\n};\n\nr_interrupt = false;\nr_doLoop = true;\n_cntLoop = 0;\n//Physically begin building \nswitch (true) do\n{\n\tcase(_longWait):\n\t{\n\t\t_cnt = _longWloop;\n\t\t_cnt = _cnt * 10;\n\t\tfor \"_i\" from 0 to _longWloop do\n\t\t{\n\t\t\tcutText [format[\"Building %1.  %2 seconds left.\\nMove from current position to cancel\",_text,_cnt + 10], \"PLAIN DOWN\",1];\n\t\t\tif (player distance _locationPlayer \u0026gt; 1) then {deletevehicle _object; cutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tif (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[\"Build canceled for %1, player is unable to continue\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tplayer playActionNow \"Medic\";\n\t\t\tsleep 1;\n\t\t\t[player,\"repair\",0,false] call dayz_zombieSpeak;\n\t\t\t_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;\n\t\t\t//DayZ interrupt feature like when canceling bandaging\n\t\t\twhile {r_doLoop} do {\n\t\t\t\tif (r_interrupt) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t};\n\t\t\t\tif (_cntLoop \u0026gt;= 100) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t\t_finished = true;\n\t\t\t\t};\n\t\t\t\tsleep .1;\n\t\t\t\t_cntLoop = _cntLoop + 1;\n\t\t\t};\n\t\t\tif (r_interrupt) then {\n\t\t\t\tdeletevehicle _object; \n\t\t\t\t[objNull, player, rSwitchMove,\"\"] call RE;\n\t\t\t\tplayer playActionNow \"stop\";\n\t\t\t\tcutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\t\t\tr_doLoop = true;\n\t\t\t_cntLoop = 0;\n\t\t\t_cnt = _cnt - 10;\n\t\t};\n\t\tsleep 1.5;\n\t};\n\tcase(_medWait):\n\t{\n\t\t_cnt = _medWloop;\n\t\t_cnt = _cnt * 10;\n\t\tfor \"_i\" from 0 to _medWloop do\n\t\t{\n\t\t\tcutText [format[\"Building %1.  %2 seconds left.\\nMove from current position to cancel\",_text,_cnt + 10], \"PLAIN DOWN\",1];\n\t\t\tif (player distance _locationPlayer \u0026gt; 1) then {deletevehicle _object; cutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tif (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[\"Build canceled for %1, player is unable to continue\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tplayer playActionNow \"Medic\";\n\t\t\tsleep 1;\n\t\t\t[player,\"repair\",0,false] call dayz_zombieSpeak;\n\t\t\t_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;\n\t\t\twhile {r_doLoop} do {\n\t\t\t\tif (r_interrupt) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t};\n\t\t\t\tif (_cntLoop \u0026gt;= 100) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t\t_finished = true;\n\t\t\t\t};\n\t\t\t\tsleep .1;\n\t\t\t\t_cntLoop = _cntLoop + 1;\n\t\t\t};\n\t\t\tif (r_interrupt) then {\n\t\t\t\tdeletevehicle _object; \n\t\t\t\t[objNull, player, rSwitchMove,\"\"] call RE;\n\t\t\t\tplayer playActionNow \"stop\";\n\t\t\t\tcutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\t\t\tr_doLoop = true;\n\t\t\t_cntLoop = 0;\n\t\t\t_cnt = _cnt - 10;\n\t\t};\n\t\tsleep 1.5;\n\t};\n\tcase(!_medWait \u0026amp;\u0026amp; !_longWait):\n\t{\n\t\t_cnt = _smallWloop;\n\t\t_cnt = _cnt * 10;\n\t\tfor \"_i\" from 0 to _smallWloop do\n\t\t{\n\t\t\tcutText [format[\"Building %1.  %2 seconds left.\\nMove from current position to cancel\",_text,_cnt + 10], \"PLAIN DOWN\",1];\n\t\t\tif (player distance _locationPlayer \u0026gt; 1) then {deletevehicle _object; cutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tif (!_canDo || _onLadder || _inVehicle || _isWater) then {deletevehicle _object; cutText [format[\"Build canceled for %1, player is unable to continue\",_text], \"PLAIN DOWN\",1]; call _funcExitScript;};\n\t\t\tplayer playActionNow \"Medic\";\n\t\t\tsleep 1;\n\t\t\t[player,\"repair\",0,false] call dayz_zombieSpeak;\n\t\t\t_id = [player,50,true,(getPosATL player)] spawn player_alertZombies;\n\t\t\twhile {r_doLoop} do {\n\t\t\t\tif (r_interrupt) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t};\n\t\t\t\tif (_cntLoop \u0026gt;= 100) then {\n\t\t\t\t\tr_doLoop = false;\n\t\t\t\t\t_finished = true;\n\t\t\t\t};\n\t\t\t\tsleep .1;\n\t\t\t\t_cntLoop = _cntLoop + 1;\n\t\t\t};\n\t\t\tif (r_interrupt) then {\n\t\t\t\tdeletevehicle _object; \n\t\t\t\t[objNull, player, rSwitchMove,\"\"] call RE;\n\t\t\t\tplayer playActionNow \"stop\";\n\t\t\t\tcutText [format[\"Build canceled for %1, position of player moved\",_text], \"PLAIN DOWN\",1]; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\t\t\tr_doLoop = true;\n\t\t\t_cntLoop = 0;\n\t\t\t_cnt = _cnt - 10;\n\t\t};\n\t\tsleep 1.5;\n\t};\n};\n// Do last check to see if player attempted to remvoe buildables\n_mags = magazines player;\n_buildables = []; // reset original buildables\n\tif (\"ItemTankTrap\" in _mags) then {\n\t\t_qtyT = {_x == \"ItemTankTrap\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyT]; \n\t} else { _qtyT = 0; _buildables set [count _buildables, _qtyT]; };\n\t\t\n\tif (\"ItemSandbag\" in _mags) then {\n\t\t_qtyS = {_x == \"ItemSandbag\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyS]; \n\t} else { _qtyS = 0; _buildables set [count _buildables, _qtyS]; };\n\t\n\tif (\"ItemWire\" in _mags) then {\n\t\t_qtyW = {_x == \"ItemWire\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyW]; \n\t\t} else { _qtyW = 0; _buildables set [count _buildables, _qtyW]; };\n\t\t\n\tif (\"PartWoodPile\" in _mags) then {\n\t\t_qtyL = {_x == \"PartWoodPile\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyL]; \n\t} else { _qtyL = 0; _buildables set [count _buildables, _qtyL]; };\n\t\n\tif (\"PartGeneric\" in _mags) then {\n\t\t_qtyM = {_x == \"PartGeneric\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyM]; \n\t} else { _qtyM = 0; _buildables set [count _buildables, _qtyM]; };\n\t\n\tif (\"HandGrenade_West\" in _mags) then {\n\t\t_qtyG = {_x == \"HandGrenade_West\"} count magazines player;\n\t\t_buildables set [count _buildables, _qtyG]; \n\t} else { _qtyG = 0; _buildables set [count _buildables, _qtyG]; };\n\t\n\t\n_distance = 30;\n_canBuildOnPlot = false;\nif(_isPole) then {\n\t_distance = 45;\n};\n// check for near plot\n_findNearestPoles = nearestObjects [(vehicle player), [\"Plastic_Pole_EP1_DZ\"], _distance];\n_findNearestPole = [];\n{if (alive _x) then {_findNearestPole set [(count _findNearestPole),_x];};} foreach _findNearestPoles;\n\n_IsNearPlot = count (_findNearestPole);\n\n// If item is plot pole and another one exists within 45m\nif(_isPole and _IsNearPlot \u0026gt; 0) exitWith {  TradeInprogress = false; cutText [\"Cannot build plot pole within 45m of an existing plot.\" , \"PLAIN DOWN\"];call _funcExitScript;};\n\nif(_IsNearPlot == 0) then {\n\n\t// Allow building of plot\n\tif(_isPole) then {\n\t\t_canBuildOnPlot = true;\t\n\t};\n\t\n} else {\n\t// Since there are plots nearby we check for ownership and then for friend status\n\n\t_nearestPole = _findNearestPole select 0;\n\n\t\t// Find owner \n\t\t_ownerID = _nearestPole getVariable[\"CharacterID\",\"0\"];\n\n\t\t// diag_log format[\"DEBUG BUILDING: %1 = %2\", dayz_playerUID, _ownerID];\n\n\t\t// check if friendly to owner\n\t\tif(dayz_playerUID == _ownerID) then {\n\t\t\t// owner can build anything within his plot except other plots\n\t\t\tif(!_isPole) then {\n\t\t\t\t_canBuildOnPlot = true;\n\t\t\t};\n\n\t\t} else {\n\t\t\t// disallow building plot\n\t\t\tif(!_isPole) then {\n\t\t\t\t_friendlies\t\t= player getVariable [\"friendlyTo\",[]];\n\t\t\t\t// check if friendly to owner\n\t\t\t\tif(_ownerID in _friendlies) then {\n\t\t\t\t\t_canBuildOnPlot = true;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n};\n\n// _message\nif(!_canBuildOnPlot) exitWith {deletevehicle _object; cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];call _funcExitScript;_playerCombat setVariable[\"startcombattimer\", 1, true];};\n\nif (_inBuilding) then {\n\tif (_isOk) then {deletevehicle _object; cutText [format[\"Abusing not allowed!\",_text], \"PLAIN DOWN\",1];call _funcExitScript;_playerCombat setVariable[\"startcombattimer\", 1, true];};\n};\n// Did player walk object into restricted town?\n_closestTown = (nearestLocations [player,[\"NameCityCapital\",\"NameCity\",\"NameVillage\"],25600]) select 0;\n_town_name = text _closestTown;\n_town_pos = position _closestTown;\nif (!_inTown) then {\n\tfor \"_i\" from 0 to ((count allbuild_notowns) - 1) do\n\t{\n\t\t_check_town = (allbuild_notowns select _i) select _i - _i;\n\t\tif (_town_name == _check_town) then {\n\t\t\t_townRange = (allbuild_notowns select _i) select _i - _i + 1;\n\t\t\tif (_locationPlayer distance _town_pos \u0026lt;= _townRange) then {\n\t\t\t\t deletevehicle _object; cutText [format[\"You cannot build %1 within %2 meters of area %3\",_text, _townRange, _town_name], \"PLAIN DOWN\",1];call _funcExitScript;\n\t\t\t};\n\t\t};\n\t};\n};\n\n/*/// testing new way of finding building\n\t_buildings = nearestObjects [(vehicle player), [\"Building\"], 100];\n\t{\n\t\t_isBuilding = [(vehicle player),_x] call fnc_isInsideBuilding;\n\t\tif(_isBuilding) exitWith {\n\t\t\t_cancel = true;\n\t\t\t_reason = \"Cannot build inside another building.\";\n\t\t};\n\t} forEach _buildings;\n*/\nif (!_roadAllowed) then { // Check object being placed on road\n_onRoad = isOnRoad getposATL(_object);\nif(_onRoad) then {deletevehicle _object;cutText [format[\"You cannot build %1 on the road. Abusing not allowed!\",_text], \"PLAIN DOWN\",1];deleteVehicle _object;call _funcExitScript;};\n};\n\nif(_isWater) then {cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[\"startcombattimer\", 1, true];};\nif(_onLadder) then {cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[\"startcombattimer\", 1, true];};\nif (_inVehicle) then {cutText [\"Abusing not allowed!\" , \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; _playerCombat setVariable[\"startcombattimer\", 1, true];};\n//Check if other panels nearby\n_panelNearest2 = nearestObjects [player, [\"Infostand_2_EP1\"], 30];\nif (_classname == \"Infostand_2_EP1\" \u0026amp;\u0026amp; (count _panelNearest2 \u0026gt; 2)) then {cutText [\"Only 2 gate panels per base in a 30 meter radius! Abusing not allowed!\", \"PLAIN DOWN\"];deleteVehicle _object;call _funcExitScript; \n\t\t\t\tprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true]; \n\t\t\t\tbreakOut \"exit\";\n\t\t\t};\n\n\t\n// Check if it matches again\n_result = [_buildables,_chosenRecipe] call BIS_fnc_areEqual;\n\nif (_result) then {\n//Build final product!\n//_object setpos [((_object modeltoworld [0,0,0]) select 0),((_object modeltoworld [0,0,0]) select 1), 0];\n//_location = getposATL _object;\n//_dir = getDir _object;\n\t//Finish last requirement checks, _isSimulated disables objects physics if specified, _isDestructable checks if object needs to be invincible\n\tif (!_isSimulated) then {\n\t\t_object enablesimulation false;\n\t};\n\tif (!_isDestructable) then {\n\t\t_object addEventHandler [\"HandleDamage\", {false}];\n\t};\n\t\n// set the codes for gate\n//--------------------------------\n\t/* Old Method\n\t_uidDir = _dir;\n\t_uidDir = round(_uidDir);\n\t_p1 = round(_location select 0);\n\t_p2 = round(_location select 1);\n\t//_p3 = round(_location select 2);\n\t_uid = format[\"%1,%2,%3\",_p1,_p2,_uidDir];\n\t*/\n\t// New Method\n\t_uidDir = _dir;\n\t_uidDir = round(_uidDir);\n\t_uid = \"\";\n\t{\n\t\t_x = _x * 10;\n\t\tif ( _x \u0026lt; 0 ) then { _x = _x * -10 };\n\t\t_uid = _uid + str(round(_x));\n\t} forEach _location;\n\t_uid = _uid + str(round(_dir));\n\t\n// ------------------------------------------------------------------------kikyou2 Random Keycode Start---------------------------------------------------------------------\n\t_coder = random(9999); //generating random number between 0-9999\n\tif (_coder \u0026lt; 1000) then { //checks whether the number is \u0026lt; 1000\n\t_coder = _coder + 1000; //adds 1000 to the number if its \u0026lt; 1000 to make sure that the code will be 4 digits long\n\t};\n\t_code = round _coder; //remove all digits after comma\n\t\n// ------------------------------------------------------------------------kikyou2 Random Keycode End-----------------------------------------------------------------------\t\n\n//--------------------------------\n\tswitch (_classname) do\n\t{\n\t\tcase \"Grave\":\n\t\t{\n\t\t\tcutText [format[\"You have constructed a %1, crawl away so you dont set it off!\",_text], \"PLAIN DOWN\",1];\n\t\t\t_object setVariable [\"isBomb\", true];\n\t\t};\n\t\tcase \"Infostand_2_EP1\":\n\t\t{\n\t\t\tcutText [format[\"You have constructed a %1, REMEMBER THIS PERMANENT KEYCODE: %2 .  Make sure to build 2 (one in/one out) Key Panels as soon as possible to get both codes!\",_text,_code], \"PLAIN DOWN\",60]; //Changed _uid to _code to show the right keycode\n\t\t};\n\t\tdefault {\n\t\t\tcutText [format[\"You have constructed a %1\\n .\",_text,_code], \"PLAIN DOWN\",60]; //Changed _uid to _code to show the right keycode\n\t\t\t//cutText [format[localize \"str_build_01\",_text], \"PLAIN DOWN\"];\n\t\t};\n\t};\n\t//Remove required magazines\n\tif (_qtyT \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyT do\n\t\t{\n\t\t\tplayer removeMagazine _itemT;\n\t\t};\n\t};\n\tif (_qtyS \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyS do\n\t\t{\n\t\t\tplayer removeMagazine _itemS;\n\t\t};\n\t};\n\tif (_qtyW \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyW do\n\t\t{\n\t\t\tplayer removeMagazine _itemW;\n\t\t};\n\t};\n\tif (_qtyL \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyL do\n\t\t{\n\t\t\tplayer removeMagazine _itemL;\n\t\t};\n\t};\n\tif (_qtyM \u0026gt; 0) then {\n\t\tfor \"_i\" from 0 to _qtyM do\n\t\t{\n\t\t\tplayer removeMagazine _itemM;\n\t\t};\n\t};\n\t//Grenade only is needed when building booby trap\n\tif (_qtyG \u0026gt; 0 \u0026amp;\u0026amp; _classname == \"Grave\") then {\n\t\tfor \"_i\" from 0 to _qtyG do\n\t\t{\n\t\t\tplayer removeMagazine _itemG;\n\t\t};\n\t};\n\n// Send to database\n_fuel = _code / 1000; //added to calculate valid fuel value for the database\n_object setVariable [\"characterID\",dayz_playerUID,true];\ndayzPublishObj2 = [dayz_playerUID,_object,[_dir,_location],_classname,_fuel,_code]; //added _code to pass to the publishObj function to prevent calculation errors\npublicVariableServer \"dayzPublishObj2\";\n\tif (isServer) then {\n\t\tdayzPublishObj2 call server_publishObj2;\n\t};\n\n} else {cutText [\"You need the EXACT amount of whatever you are trying to build without extras.\", \"PLAIN DOWN\"];call _funcExitScript;};\n\nplayer allowdamage true;\nprocBuild = false;_playerCombat setVariable[\"startcombattimer\", 1, true];\n\u00a0\n. \n",
        "answerCount": 0,
        "dateCreated": "2013-10-08T13:58:49+0000",
        "author": {
            "@type": "Person",
            "name": "Asian Kid"
        }
    },
    "publisher": {
        "member": {
            "@type": "Person",
            "name": "Asian Kid",
            "image": "https://epochmod.com/forum/uploads/profile/photo-thumb-1130.jpg",
            "url": "https://epochmod.com/forum/profile/1130-asian-kid/"
        }
    }
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "publisher": "https://epochmod.com/forum/#organization",
    "@type": "WebSite",
    "@id": "https://epochmod.com/forum/#website",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "potentialAction": {
        "type": "SearchAction",
        "query-input": "required name=query",
        "target": "https://epochmod.com/forum/search/?q={query}"
    },
    "inLanguage": [
        {
            "@type": "Language",
            "name": "English (USA)",
            "alternateName": "en-US"
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "@type": "Organization",
    "@id": "https://epochmod.com/forum/#organization",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "logo": {
        "@type": "ImageObject",
        "@id": "https://epochmod.com/forum/#logo",
        "url": "https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"
    },
    "sameAs": [
        "https://facebook.com/EpochMod",
        "https://twitter.com/EpochMod",
        "https://github.com/EpochModTeam/"
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "item": {
                "@id": "https://epochmod.com/forum/forum/1-arma-2/",
                "name": "ArmA 2"
            }
        },
        {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "@id": "https://epochmod.com/forum/forum/96-qa-section/",
                "name": "Q&amp;A Section"
            }
        },
        {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "@id": "https://epochmod.com/forum/forum/35-scripting/",
                "name": "Scripting"
            }
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "ContactPage",
    "url": "https://epochmod.com/forum/contact/"
}	
</script>
<script type="text/javascript">
    (() => {
        let gqlKeys = [];
        for (let [k, v] of Object.entries(gqlKeys)) {
            ips.setGraphQlData(k, v);
        }
    })();
</script>
<!--ipsQueryLog-->
<!--ipsCachingLog-->
</body>

</html>