<!DOCTYPE html>

<html dir="ltr" lang="en-US">

<!-- Added by HTTrack --><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8"/>
<title>Please help, SelfActions Error - Scripting - Epoch Mod Community</title>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52081052-1', 'auto');
  ga('send', 'pageview');

</script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" property="og:image"/>
<meta content="summary_large_image" name="twitter:card">
<meta content="@EpochMod" name="twitter:site">
<meta content="Please help, SelfActions Error" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/" property="og:url"/>
<meta content="This is the error that I'm getting, and it's random EVERY time I build an object, I have Snap Pro, and A plot for life installed. In game when i join it doesnt work, but if I relog I can place objects but snap pro doesnt work. I've tried re-installing it 10's of times.I think its an error in my s..." name="description"/>
<meta content="This is the error that I'm getting, and it's random EVERY time I build an object, I have Snap Pro, and A plot for life installed. In game when i join it doesnt work, but if I relog I can place objects but snap pro doesnt work. I've tried re-installing it 10's of times.I think its an error in my s..." property="og:description"/>
<meta content="2015-02-03T01:29:31Z" property="og:updated_time"/>
<meta content="Epoch Mod Community" property="og:site_name"/>
<meta content="en_US" property="og:locale"/>
<link href="index.html" rel="canonical"/>
<link href="https://epochmod.com/forum/manifest.webmanifest/" rel="manifest"/>
<meta content="https://epochmod.com/forum/browserconfig.xml/" name="msapplication-config"/>
<meta content="/" name="msapplication-starturl"/>
<meta content="Epoch Mod Community" name="application-name"/>
<meta content="Epoch Mod Community" name="apple-mobile-web-app-title"/>
<meta content="#000000" name="theme-color"/>
<link as="font" crossorigin="anonymous" href="http://epochmod.com/forum/applications/core/interface/font/fontawesome-webfont.woff2?v=4.7.0" rel="preload"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/341e4a57816af3ba440d891ca87450ff_framework.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/05e81b71abe4f22d6eb8d1a929494829_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/90eb5adf50a8c640f633d47fd7eb1778_core.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/5a0da001ccc2200dc5625c3f3934497d_core_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/62e269ced0fdab7e30e026f1d30ae516_forums.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/76e62c573090645fb99a15a363d8620e_forums_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/ebdea0c6a7dab6d37900b9190d3ac77b_topics.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/258adbb6e4f3e83cd3b355f84e3fa002_custom.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/monthly_2018_04/favicon.ico.c690be06d87a954c1dce2d924fe2a0f2.ico" rel="shortcut icon" type="image/x-icon"/>
</meta></meta></head>
<body class="ipsApp ipsApp_front ipsJS_none ipsClearfix" data-controller="core.front.core.app" data-message="" data-pageapp="forums" data-pagecontroller="topic" data-pageid="32046" data-pagelocation="front" data-pagemodule="forums">
<a accesskey="m" class="ipsHide" href="#ipsLayout_mainArea" title="Go to main content on this page">Jump to content</a>
<div class="ipsClearfix" id="ipsLayout_header">
<header>
<div class="ipsLayout_container">
<a accesskey="1" href="../../index.html" id="elLogo"><img alt="Epoch Mod Community" src="https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"/></a>
<ul class="ipsList_inline cSignedOut ipsResponsive_showDesktop" id="elUserNav">
<li id="elSignInLink">
<a data-ipsmenu="" data-ipsmenu-closeonclick="false" href="https://epochmod.com/forum/login/" id="elUserSignIn">
                    Existing user? Sign In  <i class="fa fa-caret-down"></i>
</a>
<div class="ipsMenu ipsMenu_auto ipsHide" id="elUserSignIn_menu">
<form accept-charset="utf-8" action="https://epochmod.com/forum/login/" method="post">
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<input name="ref" type="hidden" value="aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy8zMjA0Ni1wbGVhc2UtaGVscC1zZWxmYWN0aW9ucy1lcnJvci8="/>
<div data-role="loginForm">
<div class="ipsPad ipsForm ipsForm_vertical">
<h4 class="ipsType_sectionHead">Sign In</h4>
<br/><br/>
<ul class="ipsList_reset">
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="email" name="auth" placeholder="Display Name or Email Address" type="text"/>
</li>
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="current-password" name="password" placeholder="Password" type="password"/>
</li>
<li class="ipsFieldRow ipsFieldRow_checkbox ipsClearfix">
<span class="ipsCustomInput">
<input aria-checked="true" checked="" id="remember_me_checkbox" name="remember_me" type="checkbox" value="1"/>
<span></span>
</span>
<div class="ipsFieldRow_content">
<label class="ipsFieldRow_label" for="remember_me_checkbox">Remember me</label>
<span class="ipsFieldRow_desc">Not recommended on shared computers</span>
</div>
</li>
<li class="ipsFieldRow ipsFieldRow_fullWidth">
<button class="ipsButton ipsButton_primary ipsButton_small" id="elSignIn_submit" name="_processLogin" type="submit" value="usernamepassword">Sign In</button>
<p class="ipsType_right ipsType_small">
<a data-ipsdialog="" data-ipsdialog-title="Forgot your password?" href="https://epochmod.com/forum/lostpassword/">
					
					Forgot your password?</a>
</p>
</li>
</ul>
</div>
</div>
</form>
</div>
</li>
</ul>
<ul class="ipsMobileHamburger ipsList_reset ipsResponsive_hideDesktop">
<li data-ipsdrawer="" data-ipsdrawer-drawerelem="#elMobileDrawer">
<a href="#">
<i class="fa fa-navicon"></i>
</a>
</li>
</ul>
</div>
</header>
<nav class="ipsResponsive_showDesktop" data-controller="core.front.core.navBar">
<div class="ipsNavBar_primary ipsLayout_container">
<ul class="ipsClearfix" data-role="primaryNavBar">
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_18">
<a data-navitem-id="18" href="http://epochmod.com/">
					Home<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="cms" data-navext="Pages" data-role="navBarItem" id="elNavSecondary_12">
<a data-navitem-id="12" href="https://epochmod.com/forum/projects/">
					Downloads<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsNavBar_active" data-active="" data-navapp="forums" data-navext="Forums" data-role="navBarItem" id="elNavSecondary_8">
<a data-navdefault="" data-navitem-id="8" href="../../index.html">
					Forums<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_13">
<a data-navitem-id="13" href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">
					Wiki<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_1">
<a data-navitem-id="1" href="../../index.html">
					Browse<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="StaffDirectory" data-role="navBarItem" id="elNavSecondary_10">
<a data-navitem-id="10" href="https://epochmod.com/forum/staff/">
					Staff<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="OnlineUsers" data-role="navBarItem" id="elNavSecondary_11">
<a data-navitem-id="11" href="https://epochmod.com/forum/online/">
					Online Users<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_1">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_1" href="#" id="elNavigationMore_1_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_1_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_2">
<a data-navitem-id="2" href="https://epochmod.com/forum/discover/">
					Activity<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="AllActivity" data-role="navBarItem" id="elNavSecondary_3">
<a data-navitem-id="3" href="https://epochmod.com/forum/discover/">
					All Activity<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreams" data-role="navBarItem" id="elNavSecondary_4">
<a data-navitem-id="4" href="#">
					My Activity Streams<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_5">
<a data-navitem-id="5" href="https://epochmod.com/forum/discover/unread/">
					Unread Content<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_6">
<a data-navitem-id="6" href="https://epochmod.com/forum/discover/content-started/">
					Content I Started<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="Search" data-role="navBarItem" id="elNavSecondary_7">
<a data-navitem-id="7" href="https://epochmod.com/forum/search/">
					Search<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_2">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_2" href="#" id="elNavigationMore_2_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_2_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="Leaderboard" data-role="navBarItem" id="elNavSecondary_19">
<a data-navitem-id="19" href="https://epochmod.com/forum/leaderboard/">
					Leaderboard<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore" href="#" id="elNavigationMore_dropdown">More</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li class="ipsHide" data-role="navMore" id="elNavigationMore_more">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_more" href="#" id="elNavigationMore_more_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_more_dropdown_menu"></ul>
</li>
</ul>
</li>
</ul>
<div id="elSearchWrapper">
<div data-controller="core.front.core.quickSearch" id="elSearch">
<form accept-charset="utf-8" action="http://epochmod.com/forum/search/?do=quicksearch" method="post">
<input aria-label="Search" autocomplete="off" id="elSearchField" name="q" placeholder="Search..." type="search"/>
<details class="cSearchFilter">
<summary class="cSearchFilter__text"></summary>
<ul class="cSearchFilter__menu">
<li><label><input name="type" type="radio" value="all"/><span class="cSearchFilter__menuText">Everywhere</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","nodes":35}'/><span class="cSearchFilter__menuText">This Forum</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","item":32046}'/><span class="cSearchFilter__menuText">This Topic</span></label></li>
<li><label><input name="type" type="radio" value="core_statuses_status"/><span class="cSearchFilter__menuText">Status Updates</span></label></li>
<li><label><input name="type" type="radio" value="forums_topic"/><span class="cSearchFilter__menuText">Topics</span></label></li>
<li><label><input name="type" type="radio" value="cms_pages_pageitem"/><span class="cSearchFilter__menuText">Pages</span></label></li>
<li><label><input name="type" type="radio" value="cms_records1"/><span class="cSearchFilter__menuText">Article</span></label></li>
<li><label><input name="type" type="radio" value="core_members"/><span class="cSearchFilter__menuText">Members</span></label></li>
</ul>
</details>
<button aria-label="Search" class="cSearchSubmit" type="submit"><i class="fa fa-search"></i></button>
</form>
</div>
</div>
</div>
</nav>
<ul class="ipsResponsive_hideDesktop" data-controller="core.front.core.mobileNav" id="elMobileNav">
<li id="elMobileBreadcrumb">
<a href="../../forum/35-scripting/index.html">
<span>Scripting</span>
</a>
</li>
<li>
<a data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i></a>
</li>
<li class="ipsJS_show">
<a href="https://epochmod.com/forum/search/"><i class="fa fa-search"></i></a>
</li>
</ul>
</div>
<main class="ipsLayout_container" id="ipsLayout_body">
<div id="ipsLayout_contentArea">
<div id="ipsLayout_contentWrapper">
<nav class="ipsBreadcrumb ipsBreadcrumb_top ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/96-qa-section/index.html">
<span>Q&amp;A Section <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/35-scripting/index.html">
<span>Scripting <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Please help, SelfActions Error
				
			</li>
</ul>
</nav>
<div id="ipsLayout_mainArea">
<div class="ipsPageHeader ipsResponsive_pull ipsBox ipsPadding sm:ipsPadding:half ipsMargin_bottom">
<div class="ipsFlex ipsFlex-ai:stretch ipsFlex-jc:center">
<ul class="ipsList_reset cRatingColumn cRatingColumn_question ipsType_center ipsMargin_right ipsFlex-flex:00 ipsBorder_right">
<li>
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this question"><i class="fa fa-angle-up"></i></span>
</li>
<li><span class="cAnswerRating" data-role="voteCount" data-votecount="0">0</span></li>
</ul>
<div class="ipsFlex-flex:11">
<div class="ipsFlex ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:4">
<div class="ipsFlex-flex:11">
<h1 class="ipsType_pageTitle ipsContained_container">
<span class="ipsType_break ipsContained">
<span>Please help, SelfActions Error</span>
</span>
</h1>
</div>
</div>
<hr class="ipsHr"/>
<div class="ipsPageHeader__meta ipsFlex ipsFlex-jc:between ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:3">
<div class="ipsFlex-flex:11">
<div class="ipsPhotoPanel ipsPhotoPanel_mini ipsPhotoPanel_notPhone ipsClearfix">
<a class="ipsUserPhoto ipsUserPhoto_mini" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">
<img alt="thenutsoframbo" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%23c49662%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3ET%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<div>
<p class="ipsType_reset ipsType_blendLinks">
<span class="ipsType_normal">
<strong>Asked by 


<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F32046-please-help-selfactions-error%252F" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">thenutsoframbo</a>,</strong><br/><span class="ipsType_light"><time data-short="10 yr" datetime="2015-02-03T01:27:38Z" title="02/03/15 01:27  AM">February 3, 2015</time></span>
</span>
</p>
</div>
</div>
</div>
<div class="ipsFlex-flex:01 ipsResponsive_hidePhone">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_link ipsButton_link--light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span>  Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F&amp;title=Please+help%2C+SelfActions+Error" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/32046-please-help-selfactions-error/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Please help, SelfActions Error" data-websharetitle="Please help, SelfActions Error" data-webshareurl="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="32046">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall ipsButton_disabled" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">0</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ipsClearfix">
<ul class="ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_both ipsResponsive_hidePhone">
</ul>
</div>
<div class="cTopic ipsClear ipsSpacer_top" data-autopoll="" data-baseurl="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/" data-controller="core.front.core.commentFeed,forums.front.topic.view, core.front.core.ignoredComments" data-feedid="topic-32046" data-lastpage="" id="comments">
<div class="ipsBox ipsResponsive_pull">
<h2 class="ipsType_sectionTitle ipsType_reset">Question</h2>
<a id="comment-202533"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsBox--child sm:ipsPadding_horizontal:half ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_202533">
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">
<img alt="thenutsoframbo" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%23c49662%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3ET%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<a href="https://epochmod.com/forum/profile/26925-thenutsoframbo/badges/" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F32046-please-help-selfactions-error%252F" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile"><span style="color:#">thenutsoframbo</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202533" rel="nofollow">Posted <time data-short="10 yr" datetime="2015-02-03T01:27:38Z" title="02/03/15 01:27  AM">February 3, 2015</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F32046-please-help-selfactions-error%252F" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">thenutsoframbo</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">
<img alt="thenutsoframbo" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%23c49662%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3ET%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="https://epochmod.com/forum/profile/26925-thenutsoframbo/content/" rel="nofollow" title="16 posts">
<i class="fa fa-comment"></i> 16
							
								</a>
</li>
</ul>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="202533" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":26925,"username":"thenutsoframbo","timestamp":1422926858,"contentapp":"forums","contenttype":"forums","contentid":32046,"contentclass":"forums_Topic","contentcommentid":202533}' id="comment-202533_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-202533_wrap" href="#elControls_202533_menu" id="elControls_202533" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_202533_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=reportComment&amp;comment=202533" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_202533_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="index.html" id="elSharePost_202533" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202533" rel="nofollow">Posted <time data-short="10 yr" datetime="2015-02-03T01:27:38Z" title="02/03/15 01:27  AM">February 3, 2015</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<div>This is the error that I'm getting, and it's random EVERY time I build an object, I have Snap Pro, and A plot for life installed. In game when i join it doesnt work, but if I relog I can place objects but snap pro doesnt work. I've tried re-installing it 10's of times.I think its an error in my self actions.</div>
<div><pre class="ipsCode prettyprint">
Error in expression &lt;er_studybody = -1;
 
player removeAction s_clothes;
s_clothes = -1;
 
player remov&gt;
  Error position: &lt;s_clothes;
s_clothes = -1;
 
player remov&gt;
  Error Undefined variable in expression: s_clothes
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 1141
Error in expression &lt;,1];
};
};
} else {
player removeAction str1;
str1 = -1;
player removeAction str&gt;
  Error position: &lt;str1;
str1 = -1;
player removeAction str&gt;
  Error Undefined variable in expression: str1
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 1238
Error in expression &lt;false];
};
} else {
player removeAction s_player_manageDoor;
s_player_manageDoor&gt;
  Error position: &lt;s_player_manageDoor;
s_player_manageDoor&gt;
  Error Undefined variable in expression: s_player_managedoor
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 715
Error in expression &lt;"",""];
};
} else {
player removeAction s_player_packvehicle;
s_player_packvehic&gt;
  Error position: &lt;s_player_packvehicle;
s_player_packvehic&gt;
  Error Undefined variable in expression: s_player_packvehicle
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 969
</pre></div>
<div> </div>
<div><pre class="ipsCode prettyprint">

scriptName "Functions\misc\fn_selfActions.sqf";
/***********************************************************
ADD ACTIONS FOR SELF
- Function
- [] call fnc_usec_selfActions;
************************************************************/
private ["_isWreckBuilding","_temp_keys","_magazinesPlayer","_isPZombie","_vehicle","_inVehicle","_hasFuelE","_hasRawMeat","_hasKnife","_hasToolbox","_onLadder","_nearLight","_canPickLight","_canDo","_text","_isHarvested","_isVehicle","_isVehicletype","_isMan","_traderType","_ownerID","_isAnimal","_isDog","_isZombie","_isDestructable","_isTent","_isFuel","_isAlive","_Unlock","_lock","_buy","_dogHandle","_lieDown","_warn","_hastinitem","_allowedDistance","_menu","_menu1","_humanity_logic","_low_high","_cancel","_metals_trader","_traderMenu","_isWreck","_isRemovable","_isDisallowRepair","_rawmeat","_humanity","_speed","_dog","_hasbottleitem","_isAir","_isShip","_playersNear","_findNearestGens","_findNearestGen","_IsNearRunningGen","_cursorTarget","_isnewstorage","_itemsPlayer","_ownerKeyId","_typeOfCursorTarget","_hasKey","_oldOwner","_combi","_key_colors","_player_deleteBuild","_player_flipveh","_player_lockUnlock_crtl","_player_butcher","_player_studybody","_player_cook","_player_boil","_hasFuelBarrelE","_hasHotwireKit","_player_SurrenderedGear","_isSurrendered","_isModular","_isModularDoor","_ownerKeyName","_temp_keys_names","_hasAttached","_allowTow","_liftHeli","_found","_posL","_posC","_height","_liftHelis","_attached","_playerUID","_characterID","_plotDistance","_PlotsNear", "_classname","_isowner"];
 
if (DZE_ActionInProgress) exitWith {}; // Do not allow if any script is running.
 
_origins_buildings = ["Uroven1DrevenaBudka", "Uroven2KladaDomek", "Uroven3DrevenyDomek", "Uroven1VelkaBudka", "Uroven2MalyDomek", "Uroven3VelkyDomek", "malaGaraz", "velkaGaraz", "kingramida", "ori_safe","krepost"];
_vehicle = vehicle player;
_isPZombie = player isKindOf "PZombie_VB";
_inVehicle = (_vehicle != player);
 
_onLadder = (getNumber (configFile &gt;&gt; "CfgMovesMaleSdr" &gt;&gt; "States" &gt;&gt; (animationState player) &gt;&gt; "onLadder")) == 1;
_canDo = (!r_drag_sqf &amp;&amp; !r_player_unconscious &amp;&amp; !_onLadder);
 
_nearLight =  nearestObject [player,"LitObject"];
_canPickLight = false;
if (!isNull _nearLight) then {
if (_nearLight distance player &lt; 4) then {
_canPickLight = isNull (_nearLight getVariable ["owner",objNull]);
};
};
 
//Grab Flare
if (_canPickLight &amp;&amp; !dayz_hasLight &amp;&amp; !_isPZombie) then {
if (s_player_grabflare &lt; 0) then {
_text = getText (configFile &gt;&gt; "CfgAmmo" &gt;&gt; (typeOf _nearLight) &gt;&gt; "displayName");
s_player_grabflare = player addAction [format[localize "str_actions_medical_15",_text], "\z\addons\dayz_code\actions\flare_pickup.sqf",_nearLight, 1, false, true, "", ""];
s_player_removeflare = player addAction [format[localize "str_actions_medical_17",_text], "\z\addons\dayz_code\actions\flare_remove.sqf",_nearLight, 1, false, true, "", ""];
};
} else {
player removeAction s_player_grabflare;
player removeAction s_player_removeflare;
s_player_grabflare = -1;
s_player_removeflare = -1;
};
//OriginsDoors
if(isNil "s_player_openhouse") then {
        s_player_openhouse = -1;
};
if(isNil "HouseState") then {
HouseState = 0;
};
if(isNil "GarageState") then {
GarageState = 0;
};
if(isNil "s_player_opengarage") then {
s_player_opengarage = -1;
};
_houses = ["Uroven1DrevenaBudka", "Uroven2KladaDomek", "Uroven3DrevenyDomek", "Uroven1VelkaBudka", "Uroven2MalyDomek", "Uroven3VelkyDomek"];
_garages = ["malaGaraz", "velkaGaraz","Uroven3DrevenyDomek","Uroven3VelkyDomek","kingramida"];
        DoorToOpen = objnull;
                _obj = player;
                _cursorTarget = cursorTarget;
                if (!isNull _cursorTarget) then {
                        if (player distance _cursorTarget &lt; 10) then {
                                _ownerID = _cursorTarget getVariable['CharacterID','0'];
                               if (getPlayerUIDOld player == _ownerID) then {
                                        DoorToOpen = _cursorTarget;
                                        if (s_player_openhouse &lt; 0) then {
if(typeOf(DoorToOpen) in _houses) then {
                                                _OpenClose = "";
if (_cursorTarget isKindOf "Uroven1DrevenaBudka") then { _OpenClose = 'Unlock Bandit Level 1 House';};
if (_cursorTarget isKindOf "Uroven2KladaDomek") then { _OpenClose = 'Unlock Bandit Level 2 House';};
if (_cursorTarget isKindOf "Uroven3DrevenyDomek") then { _OpenClose = 'Unlock Bandit Level 3 House';};
if (_cursorTarget isKindOf "Uroven1VelkaBudka") then { _OpenClose = 'Unlock Hero Level 1 House';};
if (_cursorTarget isKindOf "Uroven2MalyDomek") then { _OpenClose = 'Unlock Hero Level 2 House';};
if (_cursorTarget isKindOf "Uroven3VelkyDomek") then { _OpenClose = 'Unlock Hero Level 3 House';};
                                                if (HouseState == 1) then {
                                                _OpenClose = "";
if (_cursorTarget isKindOf "Uroven1DrevenaBudka") then { _OpenClose = 'Lock Bandit Level 1 House';};
if (_cursorTarget isKindOf "Uroven2KladaDomek") then { _OpenClose = 'Lock Bandit Level 2 House';};
if (_cursorTarget isKindOf "Uroven3DrevenyDomek") then { _OpenClose = 'Lock Bandit Level 3 House';};
if (_cursorTarget isKindOf "Uroven1VelkaBudka") then { _OpenClose = 'Lock Hero Level 1 House';};
if (_cursorTarget isKindOf "Uroven2MalyDomek") then { _OpenClose = 'Lock Hero Level 2 House';};
if (_cursorTarget isKindOf "Uroven3VelkyDomek") then { _OpenClose = 'Lock Hero Level 3 House';};
                                                };
                                                s_player_openhouse = player addAction [_OpenClose, 'Scripts\Credited\build\originsHouses.sqf'];
};
                                        };
if (s_player_opengarage &lt; 0) then
                                        {
if(typeOf(DoorToOpen) in _garages) then {
                                                _OpenClose = "";
if (_cursorTarget isKindOf "malaGaraz") then { _OpenClose = 'Unlock Small Garage';};
if (_cursorTarget isKindOf "velkaGaraz") then { _OpenClose = 'Unlock Large Garage';};
if (_cursorTarget isKindOf "Uroven3DrevenyDomek") then { _OpenClose = 'Unlock Level 3 Garage';};
if (_cursorTarget isKindOf "Uroven3VelkyDomek") then { _OpenClose = 'Unlock Level 3 Garage';};
if (_cursorTarget isKindOf "kingramida") then { _OpenClose = 'Unlock Pyramid';};
                                                if (GarageState == 1) then {
                                                _OpenClose = "";
if (_cursorTarget isKindOf "malaGaraz") then { _OpenClose = 'Lock Small Garage';};
if (_cursorTarget isKindOf "velkaGaraz") then { _OpenClose = 'Lock Large Garage';};
if (_cursorTarget isKindOf "Uroven3DrevenyDomek") then { _OpenClose = 'Lock Level 3 Garage';};
if (_cursorTarget isKindOf "Uroven3VelkyDomek") then { _OpenClose = 'Lock Level 3 Garage';};
if (_cursorTarget isKindOf "kingramida") then { _OpenClose = 'Lock Pyramid';};
};
                                                s_player_opengarage = player addAction [_OpenClose, 'Scripts\Credited\build\originsGarages.sqf'];
};
};
                                };
                        };            
                };
                if ((_obj != player) || (_cursorTarget != cursorTarget)) then {
                        _obj removeAction s_player_openhouse;
_obj removeAction s_player_opengarage;
                         s_player_openhouse = -1;
s_player_opengarage = -1;
                };
 
       
if (DZE_HeliLift) then {
_hasAttached = _vehicle getVariable["hasAttached",false];
if(_inVehicle &amp;&amp; (_vehicle isKindOf "Air") &amp;&amp; ((([_vehicle] call FNC_getPos) select 2) &lt; 30) &amp;&amp; (speed _vehicle &lt; 5) &amp;&amp; (typeName _hasAttached == "OBJECT")) then {
if (s_player_heli_detach &lt; 0) then {
dayz_myLiftVehicle = _vehicle;
s_player_heli_detach = dayz_myLiftVehicle addAction ["Detach Vehicle","\z\addons\dayz_code\actions\player_heliDetach.sqf",[dayz_myLiftVehicle,_hasAttached],2,false,true,"",""];
};
} else {
dayz_myLiftVehicle removeAction s_player_heli_detach;
s_player_heli_detach = -1;
};
};
 
if(DZE_HaloJump) then {
if(_inVehicle &amp;&amp; (_vehicle isKindOf "Air") &amp;&amp; ((([_vehicle] call FNC_getPos) select 2) &gt; 400)) then {
if (s_halo_action &lt; 0) then {
DZE_myHaloVehicle = _vehicle;
s_halo_action = DZE_myHaloVehicle addAction [localize "STR_EPOCH_ACTIONS_HALO","\z\addons\dayz_code\actions\halo_jump.sqf",[],2,false,true,"",""];
};
} else {
DZE_myHaloVehicle removeAction s_halo_action;
s_halo_action = -1;
};
};
 
if (!DZE_ForceNameTagsOff) then {
if (s_player_showname &lt; 0 &amp;&amp; !_isPZombie) then {
if (DZE_ForceNameTags) then {
s_player_showname = 1;
player setVariable["DZE_display_name",true,true];
} else {
s_player_showname = player addAction [localize "STR_EPOCH_ACTIONS_NAMEYES", "\z\addons\dayz_code\actions\display_name.sqf",true, 0, true, false, "",""];
s_player_showname1 = player addAction [localize "STR_EPOCH_ACTIONS_NAMENO", "\z\addons\dayz_code\actions\display_name.sqf",false, 0, true, false, "",""];
};
};
};
 
if(_isPZombie) then {
if (s_player_callzombies &lt; 0) then {
s_player_callzombies = player addAction [localize "STR_EPOCH_ACTIONS_RAISEHORDE", "\z\addons\dayz_code\actions\call_zombies.sqf",player, 5, true, false, "",""];
};
if (DZE_PZATTACK) then {
call pz_attack;
DZE_PZATTACK = false;
};
if (s_player_pzombiesvision &lt; 0) then {
s_player_pzombiesvision = player addAction [localize "STR_EPOCH_ACTIONS_NIGHTVIS", "\z\addons\dayz_code\actions\pzombie\pz_vision.sqf", [], 4, false, true, "nightVision", "_this == _target"];
};
if (!isNull cursorTarget &amp;&amp; (player distance cursorTarget &lt; 3)) then { //Has some kind of target
_isAnimal = cursorTarget isKindOf "Animal";
_isZombie = cursorTarget isKindOf "zZombie_base";
_isHarvested = cursorTarget getVariable["meatHarvested",false];
_isMan = cursorTarget isKindOf "Man";
// Pzombie Gut human corpse || animal
if (!alive cursorTarget &amp;&amp; (_isAnimal || _isMan) &amp;&amp; !_isZombie &amp;&amp; !_isHarvested) then {
if (s_player_pzombiesfeed &lt; 0) then {
s_player_pzombiesfeed = player addAction [localize "STR_EPOCH_ACTIONS_FEED", "\z\addons\dayz_code\actions\pzombie\pz_feed.sqf",cursorTarget, 3, true, false, "",""];
};
} else {
player removeAction s_player_pzombiesfeed;
s_player_pzombiesfeed = -1;
};
} else {
player removeAction s_player_pzombiesfeed;
s_player_pzombiesfeed = -1;
};
};
 
// Increase distance only if AIR || SHIP
_allowedDistance = 4;
_isAir = cursorTarget isKindOf "Air";
_isShip = cursorTarget isKindOf "Ship";
if(_isAir || _isShip) then {
_allowedDistance = 8;
};
 
if (!isNull cursorTarget &amp;&amp; !_inVehicle &amp;&amp; !_isPZombie &amp;&amp; (player distance cursorTarget &lt; _allowedDistance) &amp;&amp; _canDo) then { //Has some kind of target
 
// set cursortarget to variable
_cursorTarget = cursorTarget;
 
// get typeof cursortarget once
_typeOfCursorTarget = typeOf _cursorTarget;
 
// hintsilent _typeOfCursorTarget;
 
_isVehicle = _cursorTarget isKindOf "AllVehicles";
_isVehicletype = _typeOfCursorTarget in ["ATV_US_EP1","ATV_CZ_EP1"];
_isnewstorage = _typeOfCursorTarget in DZE_isNewStorage;
 
// get items &amp;&amp; magazines only once
_magazinesPlayer = magazines player;
 
//boiled Water
_hasbottleitem = "ItemWaterbottle" in _magazinesPlayer;
_hastinitem = false;
{
if (_x in _magazinesPlayer) then {
_hastinitem = true;
};
} count boil_tin_cans;
_hasFuelE =  "ItemJerrycanEmpty" in _magazinesPlayer;
_hasFuelBarrelE =  "ItemFuelBarrelEmpty" in _magazinesPlayer;
_hasHotwireKit =  "ItemHotwireKit" in _magazinesPlayer;
 
_itemsPlayer = items player;
 
_temp_keys = [];
_temp_keys_names = [];
// find available keys
_key_colors = ["ItemKeyYellow","ItemKeyBlue","ItemKeyRed","ItemKeyGreen","ItemKeyBlack"];
{
if (configName(inheritsFrom(configFile &gt;&gt; "CfgWeapons" &gt;&gt; _x)) in _key_colors) then {
_ownerKeyId = getNumber(configFile &gt;&gt; "CfgWeapons" &gt;&gt; _x &gt;&gt; "keyid");
_ownerKeyName = getText(configFile &gt;&gt; "CfgWeapons" &gt;&gt; _x &gt;&gt; "displayName");
_temp_keys_names set [_ownerKeyId,_ownerKeyName];
_temp_keys set [count _temp_keys,str(_ownerKeyId)];
};
} count _itemsPlayer;
 
_hasKnife =  "ItemKnife" in _itemsPlayer;
_hasToolbox =  "ItemToolbox" in _itemsPlayer;
 
if (DZE_APlotforLife) then { 
               _playerUID = [player] call FNC_GetPlayerUID; 
       }else{ 
               _playerUID = dayz_characterID; 
};
 
 
_isMan = _cursorTarget isKindOf "Man";
_traderType = _typeOfCursorTarget;
_ownerID = _cursorTarget getVariable ["ownerPUID","0"];
_characterID = _cursorTarget getVariable ["CharacterID","0"];
_isAnimal = _cursorTarget isKindOf "Animal";
_isDog =  (_cursorTarget isKindOf "DZ_Pastor" || _cursorTarget isKindOf "DZ_Fin");
_isZombie = _cursorTarget isKindOf "zZombie_base";
_isDestructable = _cursorTarget isKindOf "BuiltItems";
_isWreck = _typeOfCursorTarget in DZE_isWreck;
_isWreckBuilding = _typeOfCursorTarget in DZE_isWreckBuilding;
_isModular = _cursorTarget isKindOf "ModularItems" or ((typeOf _cursorTarget) in Custom_Buildables);
_isModularDoor = _typeOfCursorTarget in ["Land_DZE_WoodDoor","Land_DZE_LargeWoodDoor","Land_DZE_GarageWoodDoor","CinderWallDoor_DZ","CinderWallDoorSmall_DZ"];
 
_isRemovable = _typeOfCursorTarget in DZE_isRemovable;
_isDisallowRepair = _typeOfCursorTarget in ["M240Nest_DZ"];
 
_isTent = _cursorTarget isKindOf "TentStorage";
 
_isAlive = alive _cursorTarget;
 
_text = getText (configFile &gt;&gt; "CfgVehicles" &gt;&gt; _typeOfCursorTarget &gt;&gt; "displayName");
 
_rawmeat = meatraw;
_hasRawMeat = false;
{
if (_x in _magazinesPlayer) then {
_hasRawMeat = true;
};
} count _rawmeat; 
 
_isFuel = false;
if (_hasFuelE || _hasFuelBarrelE) then {
{
if(_cursorTarget isKindOf _x) exitWith {_isFuel = true;};
} count dayz_fuelsources;
};
 
// diag_log ("OWNERID = " + _ownerID + " CHARID = " + dayz_characterID + " " + str(_ownerID == dayz_characterID));
 
// logic vars
_player_flipveh = false;
_player_deleteBuild = false;
_player_lockUnlock_crtl = false;
 
if (_canDo &amp;&amp; (speed player &lt;= 1) &amp;&amp; (_cursorTarget isKindOf "Plastic_Pole_EP1_DZ")) then {
if (s_player_plotManagement &lt; 0) then {
_adminList = ["0152"]; // Add admins here if you admins to able to manage all plotpoles
_owner = _cursorTarget getVariable ["ownerPUID","0"];
_friends = _cursorTarget getVariable ["plotfriends", []];
_fuid = [];
{
_friendUID = _x select 0;
_fuid = _fuid + [_friendUID];
} forEach _friends;
_allowed = [_owner];    
_allowed = [_owner] + _adminList + _fuid;
if((getPlayerUID player) in _allowed)then{            
s_player_plotManagement = player addAction ["&lt;t color='#0059FF'&gt;Manage Plot&lt;/t&gt;", "plotManagement\initPlotManagement.sqf", [], 5, false];
};
};
if (s_player_maintain_area &lt; 0) then {
  s_player_maintain_area = player addAction [format["&lt;t color='#ff0000'&gt;%1&lt;/t&gt;",localize "STR_EPOCH_ACTIONS_MAINTAREA"], "\z\addons\dayz_code\actions\maintain_area.sqf", "maintain", 5, false];
s_player_maintain_area_preview = player addAction [format["&lt;t color='#ff0000'&gt;%1&lt;/t&gt;",localize "STR_EPOCH_ACTIONS_MAINTPREV"], "\z\addons\dayz_code\actions\maintain_area.sqf", "preview", 5, false];
};
                 _plotDistance = (DZE_PlotPole select 0); 
               _PlotsmarkersNear = count (_cursorTarget nearEntities ["Land_coneLight", _PlotDistance]); 
 
               if (s_player_plot_boundary_on &lt; 0) then { 
                       If (_PlotsmarkersNear == 0 ) then{ 
                               s_player_plot_boundary_on = player addAction ["Show plot boundary", "Scripts\Credited\A_Plot_for_Life\Action\object_showPlotRadius.sqf", "", 1, false]; 
                       }; 
                };         
                if (s_player_plot_boundary_off &lt; 0) then { 
                       If (_PlotsmarkersNear &gt; 0 ) then{ 
                               s_player_plot_boundary_off = player addAction ["Remove plot boundary", "Scripts\Credited\A_Plot_for_Life\Action\object_removePlotRadius.sqf", "", 1, false]; 
                       }; 
               }; 
               if (s_player_plot_take_ownership &lt; 0) then { 
                       if (DZE_PlotOwnership) then { 
                               _isowner = [player, _cursorTarget] call FNC_check_owner; 
                               If (( _isowner select 0 )) then{ 
                                       s_player_plot_take_ownership = player addAction ["Take plot items ownership", "Scripts\Credited\A_Plot_for_Life\Action\plot_take_ownership.sqf", "", 1, false]; 
                               }; 
                       }; 
               };
} else {
     player removeAction s_player_plotManagement;
s_player_plotManagement = -1;
     player removeAction s_player_maintain_area;
     s_player_maintain_area = -1;
     player removeAction s_player_maintain_area_preview;
     s_player_maintain_area_preview = -1;
player removeAction s_player_plot_boundary_on; 
               s_player_plot_boundary_on = -1; 
               player removeAction s_player_plot_boundary_off; 
               s_player_plot_boundary_off = -1; 
               player removeAction s_player_plot_take_ownership; 
               s_player_plot_take_ownership = -1;
};
 
// CURSOR TARGET ALIVE
if(_isAlive) then {
 
//Allow player to delete objects
if(_isDestructable || _isWreck || _isRemovable || _isWreckBuilding) then {
if(_hasToolbox &amp;&amp; "ItemCrowbar" in _itemsPlayer) then {
_player_deleteBuild = true;
};
};
 
///Allow owners to delete modulars
    if(_isModular) then {
            if(_hasToolbox &amp;&amp; "ItemCrowbar" in _itemsPlayer) then {
_findNearestPoles = nearestObjects[player, ["Plastic_Pole_EP1_DZ"], DZE_PlotPole select 0];
_IsNearPlot = count (_findNearestPoles);
_fuid  = [];
_allowed = [];
if(_IsNearPlot &gt; 0)then{
_thePlot = _findNearestPoles select 0;
_owner =  _thePlot getVariable ["ownerPUID","010"];
_friends = _thePlot getVariable ["plotfriends", []];
{
 _friendUID = _x select 0;
 _fuid  =  _fuid  + [_friendUID];
} forEach _friends;
_allowed = [_owner];    
_allowed = [_owner] +  _fuid; 
if ( _playerUID in _allowed &amp;&amp; _ownerID in _allowed ) then {  
_player_deleteBuild = true;
}; 
}else{
if(_ownerID == _playerUID)then{
_player_deleteBuild = true;
};
};                   
            };
    };
//Allow owners to delete modular doors without locks
    if(_isModularDoor) then {
            if(_hasToolbox &amp;&amp; "ItemCrowbar" in _itemsPlayer) then { 
_findNearestPoles = nearestObjects[player, ["Plastic_Pole_EP1_DZ"], DZE_PlotPole select 0];
_IsNearPlot = count (_findNearestPoles);
_fuid  = [];
_allowed = [];
if(_IsNearPlot &gt; 0)then{
_thePlot = _findNearestPoles select 0;
_owner =  _thePlot getVariable ["ownerPUID","010"];
_friends = _thePlot getVariable ["plotfriends", []];
{
 _friendUID = _x select 0;
 _fuid  =  _fuid  + [_friendUID];
} forEach _friends;
_allowed = [_owner];    
_allowed = [_owner] +  _fuid; 
if ( _playerUID in _allowed &amp;&amp; _ownerID in _allowed) then {
_player_deleteBuild = true;
}; 
}else{
if(_ownerID == _playerUID)then{
_player_deleteBuild = true;
};
}; 
            };      
    };
// CURSOR TARGET VEHICLE
if(_isVehicle) then {
 
//flip vehicle small vehicles by your self &amp;&amp; all other vehicles with help nearby
if (!(canmove _cursorTarget) &amp;&amp; (player distance _cursorTarget &gt;= 2) &amp;&amp; (count (crew _cursorTarget))== 0 &amp;&amp; ((vectorUp _cursorTarget) select 2) &lt; 0.5) then {
_playersNear = {isPlayer _x} count (player nearEntities ["CAManBase", 6]);
if(_isVehicletype || (_playersNear &gt;= 2)) then {
_player_flipveh = true; 
};
};
 
 
if(!_isMan &amp;&amp; _characterID != "0" &amp;&amp; !(_cursorTarget isKindOf "Bicycle")) then {
_player_lockUnlock_crtl = true;
};
 
};
 
};
 
if(_player_deleteBuild) then {
if (s_player_deleteBuild &lt; 0) then {
s_player_deleteBuild = player addAction [format[localize "str_actions_delete",_text], "Scripts\Credited\A_Plot_for_Life\Action\remove.sqf",_cursorTarget, 1, true, true, "", ""];
};
} else {
player removeAction s_player_deleteBuild;
s_player_deleteBuild = -1;
};
 
if (DZE_HeliLift) then {
_liftHeli = objNull;
_found = false;
 
_allowTow = false;
if ((count (crew _cursorTarget)) == 0) then {
{
if(!_allowTow) then {
_allowTow = _cursorTarget isKindOf _x;
};
} count DZE_HeliAllowToTow;
};
 
//diag_log format["CREW: %1 ALLOW: %2",(count (crew _cursorTarget)),_allowTow];
 
if (_allowTow) then {
_liftHelis = nearestObjects [player, DZE_HeliAllowTowFrom, 15];
{
if(!_found) then {
_posL = [_x] call FNC_getPos;
_posC = [_cursorTarget] call FNC_getPos;
_height = (_posL select 2) - (_posC select 2);
_hasAttached = _x getVariable["hasAttached",false];
if(_height &lt; 15 &amp;&amp; _height &gt; 5 &amp;&amp; (typeName _hasAttached != "OBJECT")) then {
if(((abs((_posL select 0) - (_posC select 0))) &lt; 10) &amp;&amp; ((abs((_posL select 1) - (_posC select 1))) &lt; 10)) then {
_liftHeli = _x;
_found = true;
};
};
};
} count _liftHelis;
};
 
//diag_log format["HELI: %1 TARGET: %2",_found,_cursorTarget];
 
_attached = _cursorTarget getVariable["attached",false];
if(_found &amp;&amp; _allowTow &amp;&amp; _canDo &amp;&amp; !locked _cursorTarget &amp;&amp; !_isPZombie &amp;&amp; (typeName _attached != "OBJECT")) then {
if (s_player_heli_lift &lt; 0) then {
s_player_heli_lift = player addAction ["Attach to Heli", "\z\addons\dayz_code\actions\player_heliLift.sqf",[_liftHeli,_cursorTarget], -10, false, true, "",""];
};
} else {
player removeAction s_player_heli_lift;
s_player_heli_lift = -1;
};
};
 
// Allow Owner to lock &amp;&amp; unlock vehicle  
if(_player_lockUnlock_crtl) then {
if (s_player_lockUnlock_crtl &lt; 0) then {
_hasKey = _characterID in _temp_keys;
_oldOwner = (_characterID == dayz_playerUID);
if(locked _cursorTarget) then {
if(_hasKey || _oldOwner) then {
_Unlock = player addAction [format[localize "STR_EPOCH_ACTIONS_UNLOCK",_text], "\z\addons\dayz_code\actions\unlock_veh.sqf",[_cursorTarget,(_temp_keys_names select (parseNumber _characterID))], 2, true, true, "", ""];
s_player_lockunlock set [count s_player_lockunlock,_Unlock];
s_player_lockUnlock_crtl = 1;
} else {
if(_hasHotwireKit) then {
_Unlock = player addAction [format[localize "STR_EPOCH_ACTIONS_HOTWIRE",_text], "\z\addons\dayz_code\actions\hotwire_veh.sqf",_cursorTarget, 2, true, true, "", ""];
} else {
_Unlock = player addAction [format["&lt;t color='#ff0000'&gt;%1&lt;/t&gt;",localize "STR_EPOCH_ACTIONS_VEHLOCKED"], "",_cursorTarget, 2, true, true, "", ""];
};
s_player_lockunlock set [count s_player_lockunlock,_Unlock];
s_player_lockUnlock_crtl = 1;
};
} else {
if(_hasKey || _oldOwner) then {
_lock = player addAction [format[localize "STR_EPOCH_ACTIONS_LOCK",_text], "\z\addons\dayz_code\actions\lock_veh.sqf",_cursorTarget, 1, true, true, "", ""];
s_player_lockunlock set [count s_player_lockunlock,_lock];
if (_typeOfCursorTarget in ColourVehicles) then {
private ["_paint"];
_paint = player addAction ["Paint", "Scripts\Modified\Paint\player_paint_init.sqf",_cursorTarget, 2, true, true, "", ""];
s_player_lockunlock set [count s_player_lockunlock,_paint];
};
s_player_lockUnlock_crtl = 1;
};
};
};
 
} else {
{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];
s_player_lockUnlock_crtl = -1;
};
 
if(DZE_AllowForceSave) then {
//Allow player to force save
if((_isVehicle || _isTent) &amp;&amp; !_isMan) then {
if (s_player_forceSave &lt; 0) then {
s_player_forceSave = player addAction [format[localize "str_actions_save",_text], "\z\addons\dayz_code\actions\forcesave.sqf",_cursorTarget, 1, true, true, "", ""];
};
} else {
player removeAction s_player_forceSave;
s_player_forceSave = -1;
};
};
 
 
 
If(DZE_AllowCargoCheck) then {
if((_isVehicle || _isTent || _isnewstorage) &amp;&amp; _isAlive &amp;&amp; !_isMan &amp;&amp; !locked _cursorTarget) then {
if (s_player_checkGear &lt; 0) then {
s_player_checkGear = player addAction [localize "STR_EPOCH_PLAYER_CARGO", "\z\addons\dayz_code\actions\cargocheck.sqf",_cursorTarget, 1, true, true, "", ""];
};
} else {
player removeAction s_player_checkGear;
s_player_checkGear = -1;
};
};
 
 
//flip vehicle small vehicles by your self &amp;&amp; all other vehicles with help nearby
if(_player_flipveh) then {
if (s_player_flipveh  &lt; 0) then {
s_player_flipveh = player addAction [format[localize "str_actions_flipveh",_text], "\z\addons\dayz_code\actions\player_flipvehicle.sqf",_cursorTarget, 1, true, true, "", ""]; 
};
} else {
player removeAction s_player_flipveh;
s_player_flipveh = -1;
}; 
 
//Allow player to fill jerrycan
if((_hasFuelE || _hasFuelBarrelE) &amp;&amp; _isFuel) then {
if (s_player_fillfuel &lt; 0) then {
s_player_fillfuel = player addAction [localize "str_actions_self_10", "\z\addons\dayz_code\actions\jerry_fill.sqf",[], 1, false, true, "", ""];
};
} else {
player removeAction s_player_fillfuel;
s_player_fillfuel = -1;
};
 
// logic vars for addactions
_player_butcher = false;
_player_studybody = false;
_player_SurrenderedGear = false;
 
// CURSOR TARGET NOT ALIVE
if (!_isAlive) then {
 
// Gut animal/zed
if((_isAnimal || _isZombie) &amp;&amp; _hasKnife) then {
_isHarvested = _cursorTarget getVariable["meatHarvested",false];
if (!_isHarvested) then {
_player_butcher = true;
};
};
 
// Study body
if (_isMan &amp;&amp; !_isZombie &amp;&amp; !_isAnimal) then {
_player_studybody = true;
}
} else {
// unit alive
 
// gear access on surrendered player
if(_isMan &amp;&amp; !_isZombie &amp;&amp; !_isAnimal) then {
_isSurrendered = _cursorTarget getVariable ["DZE_Surrendered",false];
if (_isSurrendered) then {
_player_SurrenderedGear = true;
};
};
};
 
 
// Human Gut animal || zombie
if (_player_butcher) then {
if (s_player_butcher &lt; 0) then {
if(_isZombie) then {
s_player_butcher = player addAction [localize "STR_EPOCH_ACTIONS_GUTZOM", "\z\addons\dayz_code\actions\gather_zparts.sqf",_cursorTarget, 0, true, true, "", ""];
} else {
s_player_butcher = player addAction [localize "str_actions_self_04", "\z\addons\dayz_code\actions\gather_meat.sqf",_cursorTarget, 3, true, true, "", ""];
};
};
} else {
player removeAction s_player_butcher;
s_player_butcher = -1;
};
 
// Study Body
if (_player_studybody) then {
if (s_player_studybody &lt; 0) then {
s_player_studybody = player addAction [("&lt;t color=""#FF0000""&gt;"+("Check Wallet") + "&lt;/t&gt;"), "ZSC\actions\check_wallet.sqf",_cursorTarget, 0, false, true, "",""];
};
} else {
player removeAction s_player_studybody;
s_player_studybody = -1;
};
 
//Remove CLOTHES
if (_isMan and !_isAlive and !_isZombie and !_isAnimal) then {
if (s_clothes &lt; 0) then {
s_clothes = player addAction [("" + ("Take Clothes") + ""), "Scripts\Modified\skins\removeclothes.sqf",cursorTarget, 1, false, true, "",""];
};
} else {
player removeAction s_clothes;
s_clothes = -1;
};
 
// logic vars
_player_cook = false;
_player_boil = false;
 
// CURSOR TARGET IS FIRE
if (inflamed _cursorTarget) then {
 
//Fireplace Actions check
if (_hasRawMeat) then {
_player_cook = true; 
};
 
// Boil water
if (_hasbottleitem &amp;&amp; _hastinitem) then {
_player_boil = true;
};
};
 
if (_player_SurrenderedGear) then {
if (s_player_SurrenderedGear &lt; 0) then {
s_player_SurrenderedGear = player addAction [localize "STR_EPOCH_ACTIONS_GEAR", "\z\addons\dayz_code\actions\surrender_gear.sqf",_cursorTarget, 1, true, true, "", ""];
};
} else {
player removeAction s_player_SurrenderedGear;
s_player_SurrenderedGear = -1;
};
 
//Fireplace Actions check
if (_player_cook) then {
if (s_player_cook &lt; 0) then {
s_player_cook = player addAction [localize "str_actions_self_05", "\z\addons\dayz_code\actions\cook.sqf",_cursorTarget, 3, true, true, "", ""];
};
} else {
player removeAction s_player_cook;
s_player_cook = -1;
};
 
// Boil water
if (_player_boil) then {
if (s_player_boil &lt; 0) then {
s_player_boil = player addAction [localize "str_actions_boilwater", "\z\addons\dayz_code\actions\boil.sqf",_cursorTarget, 3, true, true, "", ""];
};
} else {
player removeAction s_player_boil;
s_player_boil = -1;
};
 
if(_cursorTarget == dayz_hasFire) then {
if ((s_player_fireout &lt; 0) &amp;&amp; !(inflamed _cursorTarget) &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
s_player_fireout = player addAction [localize "str_actions_self_06", "\z\addons\dayz_code\actions\fire_pack.sqf",_cursorTarget, 0, false, true, "",""];
};
} else {
player removeAction s_player_fireout;
s_player_fireout = -1;
};
 
//Packing my tent
if(_isTent &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
if (_ownerID == _playerUID) then {
if (s_player_packtent &lt; 0) then {
s_player_packtent = player addAction [localize "str_actions_self_07", "\z\addons\dayz_code\actions\tent_pack.sqf",_cursorTarget, 0, false, true, "",""];
};
} else {
if(("ItemJerrycan" in _magazinesPlayer) &amp;&amp; ("ItemMatchbox_DZE" in weapons player)) then {
if (s_player_packtent &lt; 0) then {
s_player_packtent = player addAction [localize "STR_EPOCH_ACTIONS_DESTROYTENT", "Scripts\Credited\A_Plot_for_Life\Action\remove.sqf",_cursorTarget, 1, true, true, "", ""];
};
};
};
} else {
player removeAction s_player_packtent;
s_player_packtent = -1;
};
 
//Allow manage door
if((_typeOfCursorTarget in DZE_DoorsLocked)) then {
if (s_player_manageDoor &lt; 0) then { 
     s_player_manageDoor = player addAction ["&lt;t color='#0059FF'&gt;Manage Door&lt;/t&gt;", "doorManagement\initDoorManagement.sqf", _cursorTarget, 5, false];
};
} else {
player removeAction s_player_manageDoor;
s_player_manageDoor = -1;
};
 
//Allow owner to unlock vault
if((_typeOfCursorTarget in DZE_LockableStorage) &amp;&amp; _characterID != "0" &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
if (s_player_unlockvault &lt; 0) then {
if(_typeOfCursorTarget in DZE_LockedStorage) then {
if(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {
_combi = player addAction [format[localize "STR_EPOCH_ACTIONS_OPEN",_text], "\z\addons\dayz_code\actions\vault_unlock.sqf",_cursorTarget, 0, false, true, "",""];
s_player_combi set [count s_player_combi,_combi];
} else {
_combi = player addAction [format[localize "STR_EPOCH_ACTIONS_UNLOCK",_text], "\z\addons\dayz_code\actions\vault_combination_1.sqf",_cursorTarget, 0, false, true, "",""];
s_player_combi set [count s_player_combi,_combi];
};
s_player_unlockvault = 1;
} else {
if(_characterID != dayz_combination &amp;&amp; _ownerID != dayz_playerUID) then {
_combi = player addAction [localize "STR_EPOCH_ACTIONS_RECOMBO", "\z\addons\dayz_code\actions\vault_combination_1.sqf",_cursorTarget, 0, false, true, "",""];
s_player_combi set [count s_player_combi,_combi];
s_player_unlockvault = 1;
};
};
};
} else {
{player removeAction _x} count s_player_combi;s_player_combi = [];
s_player_unlockvault = -1;
};
 
if(_typeOfCursorTarget in ZSC_MoneyStorage &amp;&amp; (player distance _cursorTarget &lt; 5)) then {
if (s_bank_dialog &lt; 0) then {
s_bank_dialog = player addAction ["Money Storage", "ZSC\actions\bank_dialog.sqf",_cursorTarget, 3, true, true, "", ""]; 
};
} else {
      player removeAction s_bank_dialog;
s_bank_dialog = -1;
};
 
// cars 
if( _isVehicle &amp;&amp; !_isMan &amp;&amp;_isAlive &amp;&amp; !_isMan &amp;&amp; !locked _cursorTarget &amp;&amp; !(_cursorTarget isKindOf "Bicycle") &amp;&amp; (player distance _cursorTarget &lt; 5)) then { 
if (s_bank_dialog2 &lt; 0) then {
s_bank_dialog2 = player addAction ["Money Storage", "ZSC\actions\bank_dialog.sqf",_cursorTarget, 3, true, true, "", ""];
}; 
} else { 
player removeAction s_bank_dialog2;
s_bank_dialog2 = -1;
};
 
//Allow owner to pack vault
if(_typeOfCursorTarget in DZE_UnLockedStorage &amp;&amp; _characterID != "0" &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
 
if (s_player_lockvault &lt; 0) then {
if(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {
s_player_lockvault = player addAction [format[localize "STR_EPOCH_ACTIONS_LOCK",_text], "\z\addons\dayz_code\actions\vault_lock.sqf",_cursorTarget, 0, false, true, "",""];
};
};
if (s_player_packvault &lt; 0 &amp;&amp; (_characterID == dayz_combination || _ownerID == dayz_playerUID)) then {
s_player_packvault = player addAction [format["&lt;t color='#ff0000'&gt;%1&lt;/t&gt;",(format[localize "STR_EPOCH_ACTIONS_PACK",_text])], "\z\addons\dayz_code\actions\vault_pack.sqf",_cursorTarget, 0, false, true, "",""];
};
} else {
player removeAction s_player_packvault;
s_player_packvault = -1;
player removeAction s_player_lockvault;
s_player_lockvault = -1;
};
 
 
 
    //Player Deaths
if(_typeOfCursorTarget == "Info_Board_EP1") then {
if (s_player_information &lt; 0) then {
s_player_information = player addAction [localize "STR_EPOCH_ACTIONS_MURDERS", "\z\addons\dayz_code\actions\list_playerDeaths.sqf",[], 7, false, true, "",""];
};
} else {
player removeAction s_player_information;
s_player_information = -1;
};
 
if (_isMan and _isAlive and !_isZombie and !_isAnimal and !(_traderType in serverTraders)) then {
if (s_givemoney_dialog &lt; 0) then {
s_givemoney_dialog = player addAction [format["Give Money to %1", (name _cursorTarget)], "ZSC\actions\give_player_dialog.sqf",_cursorTarget, 3, true, true, "", ""];
};
} else {
player removeAction s_givemoney_dialog;
s_givemoney_dialog = -1;
};
 
//Fuel Pump
if(_typeOfCursorTarget in dayz_fuelpumparray) then { 
if (s_player_fuelauto &lt; 0) then {
 
// check if Generator_DZ is running within 30 meters
_findNearestGens = nearestObjects [player, ["Generator_DZ"], 30];
_findNearestGen = [];
{
if (alive _x &amp;&amp; (_x getVariable ["GeneratorRunning", false])) then {
_findNearestGen set [(count _findNearestGen),_x];
};
} count _findNearestGens;
_IsNearRunningGen = count (_findNearestGen);
 
// show that pump needs power if no generator nearby.
if(_IsNearRunningGen &gt; 0) then {
s_player_fuelauto = player addAction [localize "STR_EPOCH_ACTIONS_FILLVEH", "\z\addons\dayz_code\actions\fill_nearestVehicle.sqf",objNull, 0, false, true, "",""];
} else {
s_player_fuelauto = player addAction [format["&lt;t color='#ff0000'&gt;%1&lt;/t&gt;",localize "STR_EPOCH_ACTIONS_NEEDPOWER"], "",[], 0, false, true, "",""];
};
};
} else {
player removeAction s_player_fuelauto;
s_player_fuelauto = -1;
};
 
//Fuel Pump on truck
if(_typeOfCursorTarget in DZE_fueltruckarray &amp;&amp; alive _cursorTarget) then { 
if (s_player_fuelauto2 &lt; 0) then {
// show that fuel truck pump needs power.
if(isEngineOn _cursorTarget) then {
s_player_fuelauto2 = player addAction [localize "STR_EPOCH_ACTIONS_FILLVEH", "\z\addons\dayz_code\actions\fill_nearestVehicle.sqf",_cursorTarget, 0, false, true, "",""];
} else {
s_player_fuelauto2 = player addAction [format["&lt;t color='#ff0000'&gt;%1&lt;/t&gt;",localize "STR_EPOCH_ACTIONS_NEEDPOWER"], "",[], 0, false, true, "",""];
};
};
} else {
player removeAction s_player_fuelauto2;
s_player_fuelauto2 = -1;
};
 
// inplace upgrade tool
if ((_cursorTarget isKindOf "ModularItems") || (_cursorTarget isKindOf "Land_DZE_WoodDoor_Base") || (_cursorTarget isKindOf "CinderWallDoor_DZ_Base")) then {
if ((s_player_lastTarget select 0) != _cursorTarget) then {
if (s_player_upgrade_build &gt; 0) then {
player removeAction s_player_upgrade_build;
s_player_upgrade_build = -1;
};
};
if (s_player_upgrade_build &lt; 0) then {
// s_player_lastTarget = _cursorTarget;
s_player_lastTarget set [0,_cursorTarget];
s_player_upgrade_build = player addAction [format[localize "STR_EPOCH_ACTIONS_UPGRADE",_text], "Scripts\Credited\A_Plot_for_Life\Action\player_upgrade.sqf",_cursorTarget, -1, false, true, "",""];
};
} else {
player removeAction s_player_upgrade_build;
s_player_upgrade_build = -1;
};
 
// downgrade system
if((_isDestructable || _cursorTarget isKindOf "Land_DZE_WoodDoorLocked_Base" || _cursorTarget isKindOf "CinderWallDoorLocked_DZ_Base") &amp;&amp; (DZE_Lock_Door == _characterID)) then {
if ((s_player_lastTarget select 1) != _cursorTarget) then {
if (s_player_downgrade_build &gt; 0) then { 
player removeAction s_player_downgrade_build;
s_player_downgrade_build = -1;
};
};
 
if (s_player_downgrade_build &lt; 0) then {
s_player_lastTarget set [1,_cursorTarget];
s_player_downgrade_build = player addAction [format[localize "STR_EPOCH_ACTIONS_REMLOCK",_text], "Scripts\Credited\A_Plot_for_Life\Action\player_buildingDowngrade.sqf",_cursorTarget, -2, false, true, "",""];
};
} else {
player removeAction s_player_downgrade_build;
s_player_downgrade_build = -1;
};
 
// inplace maintenance tool
if((_cursorTarget isKindOf "ModularItems" || _cursorTarget isKindOf "DZE_Housebase" || _typeOfCursorTarget == "LightPole_DZ") &amp;&amp; (damage _cursorTarget &gt;= DZE_DamageBeforeMaint)) then {
if ((s_player_lastTarget select 2) != _cursorTarget) then {
if (s_player_maint_build &gt; 0) then { 
player removeAction s_player_maint_build;
s_player_maint_build = -1;
};
};
 
if (s_player_maint_build &lt; 0) then {
s_player_lastTarget set [2,_cursorTarget];
s_player_maint_build = player addAction [format[localize "STR_EPOCH_ACTIONS_MAINTAIN",_text], "\z\addons\dayz_code\actions\player_buildingMaint.sqf",_cursorTarget, -2, false, true, "",""];
};
} else {
player removeAction s_player_maint_build;
s_player_maint_build = -1;
};
 
 
//Start Generator
if(_cursorTarget isKindOf "Generator_DZ") then {
if (s_player_fillgen &lt; 0) then {
 
// check if not running 
if((_cursorTarget getVariable ["GeneratorRunning", false])) then {
s_player_fillgen = player addAction [localize "STR_EPOCH_ACTIONS_GENERATOR1", "\z\addons\dayz_code\actions\stopGenerator.sqf",_cursorTarget, 0, false, true, "",""]; 
} else {
// check if not filled &amp;&amp; player has jerry.
if((_cursorTarget getVariable ["GeneratorFilled", false])) then {
s_player_fillgen = player addAction [localize "STR_EPOCH_ACTIONS_GENERATOR2", "\z\addons\dayz_code\actions\fill_startGenerator.sqf",_cursorTarget, 0, false, true, "",""];
} else {
if("ItemJerrycan" in _magazinesPlayer) then {
s_player_fillgen = player addAction [localize "STR_EPOCH_ACTIONS_GENERATOR3", "\z\addons\dayz_code\actions\fill_startGenerator.sqf",_cursorTarget, 0, false, true, "",""];
};
};
};
};
} else {
player removeAction s_player_fillgen;
s_player_fillgen = -1;
};
 
//Towing with tow truck
/*
if(_typeOfCursorTarget == "TOW_DZE") then {
if (s_player_towing &lt; 0) then {
if(!(_cursorTarget getVariable ["DZEinTow", false])) then {
s_player_towing = player addAction [localize "STR_EPOCH_ACTIONS_ATTACH" "\z\addons\dayz_code\actions\tow_AttachStraps.sqf",_cursorTarget, 0, false, true, "",""]; 
} else {
s_player_towing = player addAction [localize "STR_EPOCH_ACTIONS_DETACH", "\z\addons\dayz_code\actions\tow_DetachStraps.sqf",_cursorTarget, 0, false, true, "",""]; 
};
};
} else {
player removeAction s_player_towing;
s_player_towing = -1;
};
*/
 
 
    //Sleep
if(_isTent &amp;&amp; _ownerID == _playerUID) then {
if ((s_player_sleep &lt; 0) &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
s_player_sleep = player addAction [localize "str_actions_self_sleep", "\z\addons\dayz_code\actions\player_sleep.sqf",_cursorTarget, 0, false, true, "",""];
};
} else {
player removeAction s_player_sleep;
s_player_sleep = -1;
};
 
//Repairing Vehicles
if ((dayz_myCursorTarget != _cursorTarget) &amp;&amp; _isVehicle &amp;&amp; !_isMan &amp;&amp; _hasToolbox &amp;&amp; (damage _cursorTarget &lt; 1) &amp;&amp; !_isDisallowRepair) then {
if (s_player_repair_crtl &lt; 0) then {
dayz_myCursorTarget = _cursorTarget;
_menu = dayz_myCursorTarget addAction [localize "STR_EPOCH_PLAYER_REPAIRV", "\z\addons\dayz_code\actions\repair_vehicle.sqf",_cursorTarget, 0, true, false, "",""];
_menu1 = dayz_myCursorTarget addAction [localize "STR_EPOCH_PLAYER_SALVAGEV", "\z\addons\dayz_code\actions\salvage_vehicle.sqf",_cursorTarget, 0, true, false, "",""];
s_player_repairActions set [count s_player_repairActions,_menu];
s_player_repairActions set [count s_player_repairActions,_menu1];
s_player_repair_crtl = 1;
} else {
{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];
s_player_repair_crtl = -1;
};
};
 
//Pack Vehicles
if (_typeOfCursorTarget in EVDVehicleArray and _hasToolbox and !(locked _cursorTarget) and (damage _cursorTarget &lt; 1)) then {
if (s_player_packvehicle &lt; 0) then {
s_player_packvehicle = player addAction ["Pack Vehicle", "Scripts\Modified\EVD\EVD_pack.sqf",_cursorTarget, 0, false, true, "",""];
};
} else {
player removeAction s_player_packvehicle;
s_player_packvehicle = -1;
};
 
 
// All Traders
if (_isMan &amp;&amp; !_isPZombie &amp;&amp; _traderType in serverTraders) then {
 
if (s_player_parts_crtl &lt; 0) then {
 
// get humanity
_humanity = player getVariable ["humanity",0];
_traderMenu = call compile format["menu_%1;",_traderType];
 
// diag_log ("TRADER = " + str(_traderMenu));
 
_low_high = "low";
_humanity_logic = false;
if((_traderMenu select 2) == "friendly") then {
_humanity_logic = (_humanity &lt; -5000);
};
if((_traderMenu select 2) == "hostile") then {
_low_high = "high";
_humanity_logic = (_humanity &gt; -5000);
};
if((_traderMenu select 2) == "hero") then {
_humanity_logic = (_humanity &lt; 5000);
};
if(_humanity_logic) then {
_cancel = player addAction [format[localize "STR_EPOCH_ACTIONS_HUMANITY",_low_high], "\z\addons\dayz_code\actions\trade_cancel.sqf",["na"], 0, true, false, "",""];
s_player_parts set [count s_player_parts,_cancel];
} else {
 
// Static Menu
{
//diag_log format["DEBUG TRADER: %1", _x];
_buy = player addAction [format["Trade %1 %2 for %3 %4",(_x select 3),(_x select 5),(_x select 2),(_x select 6)], "\z\addons\dayz_code\actions\trade_items_wo_db.sqf",[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, "",""];
s_player_parts set [count s_player_parts,_buy];
 
} count (_traderMenu select 1);
_buyV = player addAction ["&lt;t color='#0059FF'&gt;Advanced Trading&lt;/t&gt;", "Traders\advancedTrading\init.sqf",(_traderMenu select 0), 999, true, false, "",""];
s_player_parts set [count s_player_parts,_buyV];
// Database menu
_buy = player addAction [localize "STR_EPOCH_PLAYER_289", "\z\addons\dayz_code\actions\show_dialog.sqf",(_traderMenu select 0), 999, true, false, "",""];
s_player_parts set [count s_player_parts,_buy];
 
};
s_player_parts_crtl = 1;
 
};
} else {
{player removeAction _x} count s_player_parts;s_player_parts = [];
s_player_parts_crtl = -1;
};
 
 
if(dayz_tameDogs) then {
 
//Dog
if (_isDog &amp;&amp; _isAlive &amp;&amp; (_hasRawMeat) &amp;&amp; _characterID == "0" &amp;&amp; player getVariable ["dogID", 0] == 0) then {
if (s_player_tamedog &lt; 0) then {
s_player_tamedog = player addAction [localize "str_actions_tamedog", "\z\addons\dayz_code\actions\tame_dog.sqf", _cursorTarget, 1, false, true, "", ""];
};
} else {
player removeAction s_player_tamedog;
s_player_tamedog = -1;
};
if (_isDog &amp;&amp; _characterID == dayz_characterID &amp;&amp; _isAlive) then {
_dogHandle = player getVariable ["dogID", 0];
if (s_player_feeddog &lt; 0 &amp;&amp; _hasRawMeat) then {
s_player_feeddog = player addAction [localize "str_actions_feeddog","\z\addons\dayz_code\actions\dog\feed.sqf",[_dogHandle,0], 0, false, true,"",""];
};
if (s_player_waterdog &lt; 0 &amp;&amp; "ItemWaterbottle" in _magazinesPlayer) then {
s_player_waterdog = player addAction [localize "str_actions_waterdog","\z\addons\dayz_code\actions\dog\feed.sqf",[_dogHandle,1], 0, false, true,"",""];
};
if (s_player_staydog &lt; 0) then {
_lieDown = _dogHandle getFSMVariable "_actionLieDown";
if (_lieDown) then { _text = "str_actions_liedog"; } else { _text = "str_actions_sitdog"; };
s_player_staydog = player addAction [localize _text,"\z\addons\dayz_code\actions\dog\stay.sqf", _dogHandle, 5, false, true,"",""];
};
if (s_player_trackdog &lt; 0) then {
s_player_trackdog = player addAction [localize "str_actions_trackdog","\z\addons\dayz_code\actions\dog\track.sqf", _dogHandle, 4, false, true,"",""];
};
if (s_player_barkdog &lt; 0) then {
s_player_barkdog = player addAction [localize "str_actions_barkdog","\z\addons\dayz_code\actions\dog\speak.sqf", _cursorTarget, 3, false, true,"",""];
};
if (s_player_warndog &lt; 0) then {
_warn = _dogHandle getFSMVariable "_watchDog";
if (_warn) then { _text = (localize "str_epoch_player_247"); _warn = false; } else { _text = (localize "str_epoch_player_248"); _warn = true; };
s_player_warndog = player addAction [format[localize "str_actions_warndog",_text],"\z\addons\dayz_code\actions\dog\warn.sqf",[_dogHandle, _warn], 2, false, true,"",""]; 
};
if (s_player_followdog &lt; 0) then {
s_player_followdog = player addAction [localize "str_actions_followdog","\z\addons\dayz_code\actions\dog\follow.sqf",[_dogHandle,true], 6, false, true,"",""];
};
} else {
player removeAction s_player_feeddog;
s_player_feeddog = -1;
player removeAction s_player_waterdog;
s_player_waterdog = -1;
player removeAction s_player_staydog;
s_player_staydog = -1;
player removeAction s_player_trackdog;
s_player_trackdog = -1;
player removeAction s_player_barkdog;
s_player_barkdog = -1;
player removeAction s_player_warndog;
s_player_warndog = -1;
player removeAction s_player_followdog;
s_player_followdog = -1;
player removeAction s_player_manageDoor;
s_player_manageDoor = -1; // u might also want to add this to variables reset in your variables.sqf
};
};
 
} else {
//Engineering
player removeAction s_player_plotManagement;
s_player_plotManagement = -1;
{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];
s_player_repair_crtl = -1;
 
{player removeAction _x} count s_player_combi;s_player_combi = [];
 
dayz_myCursorTarget = objNull;
s_player_lastTarget = [objNull,objNull,objNull,objNull,objNull];
 
{player removeAction _x} count s_player_parts;s_player_parts = [];
s_player_parts_crtl = -1;
 
{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];
s_player_lockUnlock_crtl = -1;
 
player removeAction s_player_checkGear;
s_player_checkGear = -1;
 
player removeAction s_player_SurrenderedGear;
s_player_SurrenderedGear = -1;
 
//Others
player removeAction s_player_maintain_area; 
s_player_maintain_area = -1; 
player removeAction s_player_maintain_area_preview; 
s_player_maintain_area_preview = -1; 
player removeAction s_player_plot_boundary_on; 
s_player_plot_boundary_on = -1; 
player removeAction s_player_plot_boundary_off; 
s_player_plot_boundary_off = -1; 
player removeAction s_player_plot_take_ownership; 
s_player_plot_take_ownership = -1;
player removeAction s_player_forceSave;
s_player_forceSave = -1;
player removeAction s_player_flipveh;
s_player_flipveh = -1;
player removeAction s_player_sleep;
s_player_sleep = -1;
player removeAction s_player_deleteBuild;
s_player_deleteBuild = -1;
player removeAction s_player_butcher;
s_player_butcher = -1;
player removeAction s_player_cook;
s_player_cook = -1;
player removeAction s_player_boil;
s_player_boil = -1;
player removeAction s_player_fireout;
s_player_fireout = -1;
player removeAction s_player_packtent;
s_player_packtent = -1;
player removeAction s_player_fillfuel;
s_player_fillfuel = -1;
player removeAction s_player_studybody;
s_player_studybody = -1;
//remove clothes
player removeAction s_clothes;
s_clothes = -1;
//Dog
player removeAction s_player_tamedog;
s_player_tamedog = -1;
player removeAction s_player_feeddog;
s_player_feeddog = -1;
player removeAction s_player_waterdog;
s_player_waterdog = -1;
player removeAction s_player_staydog;
s_player_staydog = -1;
player removeAction s_player_trackdog;
s_player_trackdog = -1;
player removeAction s_player_barkdog;
s_player_barkdog = -1;
player removeAction s_player_warndog;
s_player_warndog = -1;
player removeAction s_player_followdog;
s_player_followdog = -1;
    
    // vault
player removeAction s_player_unlockvault;
s_player_unlockvault = -1;
player removeAction s_player_packvault;
s_player_packvault = -1;
player removeAction s_player_lockvault;
s_player_lockvault = -1;
 
player removeAction s_player_information;
s_player_information = -1;
player removeAction s_player_fillgen;
s_player_fillgen = -1;
player removeAction s_player_upgrade_build;
s_player_upgrade_build = -1;
player removeAction s_player_maint_build;
s_player_maint_build = -1;
player removeAction s_player_downgrade_build;
s_player_downgrade_build = -1;
player removeAction s_player_towing;
s_player_towing = -1;
player removeAction s_player_fuelauto;
s_player_fuelauto = -1;
player removeAction s_player_fuelauto2;
s_player_fuelauto2 = -1;
player removeAction s_givemoney_dialog;
s_givemoney_dialog = -1;
player removeAction s_bank_dialog;
s_bank_dialog = -1;
player removeAction s_bank_dialog2;
s_bank_dialog2 = -1;
};
 
 
 
//Dog actions on player self
_dogHandle = player getVariable ["dogID", 0];
if (_dogHandle &gt; 0) then {
_dog = _dogHandle getFSMVariable "_dog";
_characterID = "0";
if (!isNull cursorTarget) then { _characterID = cursorTarget getVariable ["CharacterID","0"]; };
if (_canDo &amp;&amp; !_inVehicle &amp;&amp; alive _dog &amp;&amp; _characterID != dayz_characterID) then {
if (s_player_movedog &lt; 0) then {
s_player_movedog = player addAction [localize "str_actions_movedog", "\z\addons\dayz_code\actions\dog\move.sqf", player getVariable ["dogID", 0], 1, false, true, "", ""];
};
if (s_player_speeddog &lt; 0) then {
_text = (localize "str_epoch_player_249");
_speed = 0;
if (_dog getVariable ["currentSpeed",1] == 0) then { _speed = 1; _text = (localize "str_epoch_player_250"); };
s_player_speeddog = player addAction [format[localize "str_actions_speeddog", _text], "\z\addons\dayz_code\actions\dog\speed.sqf",[player getVariable ["dogID", 0],_speed], 0, false, true, "", ""];
};
if (s_player_calldog &lt; 0) then {
s_player_calldog = player addAction [localize "str_actions_calldog", "\z\addons\dayz_code\actions\dog\follow.sqf", [player getVariable ["dogID", 0], true], 2, false, true, "", ""];
};
};
} else {
player removeAction s_player_movedog; 
s_player_movedog = -1;
player removeAction s_player_speeddog;
s_player_speeddog = -1;
player removeAction s_player_calldog;
s_player_calldog =  -1;
};
 
if((typeOf cursorTarget == "krepost") and (player distance cursorTarget &lt; 23)) then {
   if (str1 &lt; 0) then {
     if ((cursorTarget getVariable ["CharacterID","0"] == dayz_combination) or (cursorTarget getVariable ["CharacterID","0"] == dayz_playerUID)) then {
       str1 = player addAction [format[ "Open %1",getText (configFile &gt;&gt; "CfgVehicles" &gt;&gt; typeOf cursorTarget &gt;&gt; "displayName")], "Scripts\Credited\build\stronghold\s_open.sqf",cursorTarget, 0, false, true];
       str2 = player addAction [format[ "Open interior doors",_text], "custom\build\stronghold\s_openall.sqf",_cursorTarget, 0, false, true];
       str3 = player addAction [format[ "Close interior doors",_text], "custom\build\stronghold\s_closeall.sqf",_cursorTarget, 0, false, true];
       str4 = player addAction [format[ "Lock %1",getText (configFile &gt;&gt; "CfgVehicles" &gt;&gt; typeOf cursorTarget &gt;&gt; "displayName")], "Scripts\Credited\build\stronghold\s_lock.sqf",_cursorTarget, 0, false, true];
  _open set [count _open,5];
     } else {
       str1 = player addAction [format["Unlock %1",getText (configFile &gt;&gt; "CfgVehicles" &gt;&gt; typeOf cursorTarget &gt;&gt; "displayName")], "Scripts\Credited\build\stronghold\s_unlock.sqf",cursorTarget, 0, false, true];
   _open set [count _open,1];
     };
   };
} else {
   player removeAction str1;
   str1 = -1;
   player removeAction str2;
   str2 = -1;
   player removeAction str3;
   str3 = -1;
   player removeAction str4;
   str4 = -1;
};

</pre></div>
<div> </div>
<div> </div>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_202533_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F%3Fdo%3DfindComment%26comment%3D202533" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F%3Fdo%3DfindComment%26comment%3D202533" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F%3Fdo%3DfindComment%26comment%3D202533&amp;title=Please+help%2C+SelfActions+Error" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment%26comment=202533&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="This is the error that I'm getting, and it's random EVERY time I build an object, I have Snap Pro, and A plot for life installed. In game when i join it doesnt work, but if I relog I can place objects but snap pro doesnt work. I've tried re-installing it 10's of times.I think its an error in my self actions.

Error in expression &lt;er_studybody = -1;
 
player removeAction s_clothes;
s_clothes = -1;
 
player remov&gt;
  Error position: &lt;s_clothes;
s_clothes = -1;
 
player remov&gt;
  Error Undefined variable in expression: s_clothes
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 1141
Error in expression &lt;,1];
};
};
} else {
player removeAction str1;
str1 = -1;
player removeAction str&gt;
  Error position: &lt;str1;
str1 = -1;
player removeAction str&gt;
  Error Undefined variable in expression: str1
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 1238
Error in expression &lt;false];
};
} else {
player removeAction s_player_manageDoor;
s_player_manageDoor&gt;
  Error position: &lt;s_player_manageDoor;
s_player_manageDoor&gt;
  Error Undefined variable in expression: s_player_managedoor
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 715
Error in expression &lt;&quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_packvehicle;
s_player_packvehic&gt;
  Error position: &lt;s_player_packvehicle;
s_player_packvehic&gt;
  Error Undefined variable in expression: s_player_packvehicle
File mpmissions\__CUR_MP.Tavi\Main\init\fn_selfActions.sqf, line 969

 


scriptName &quot;Functions\misc\fn_selfActions.sqf&quot;;
/***********************************************************
ADD ACTIONS FOR SELF
- Function
- [] call fnc_usec_selfActions;
************************************************************/
private [&quot;_isWreckBuilding&quot;,&quot;_temp_keys&quot;,&quot;_magazinesPlayer&quot;,&quot;_isPZombie&quot;,&quot;_vehicle&quot;,&quot;_inVehicle&quot;,&quot;_hasFuelE&quot;,&quot;_hasRawMeat&quot;,&quot;_hasKnife&quot;,&quot;_hasToolbox&quot;,&quot;_onLadder&quot;,&quot;_nearLight&quot;,&quot;_canPickLight&quot;,&quot;_canDo&quot;,&quot;_text&quot;,&quot;_isHarvested&quot;,&quot;_isVehicle&quot;,&quot;_isVehicletype&quot;,&quot;_isMan&quot;,&quot;_traderType&quot;,&quot;_ownerID&quot;,&quot;_isAnimal&quot;,&quot;_isDog&quot;,&quot;_isZombie&quot;,&quot;_isDestructable&quot;,&quot;_isTent&quot;,&quot;_isFuel&quot;,&quot;_isAlive&quot;,&quot;_Unlock&quot;,&quot;_lock&quot;,&quot;_buy&quot;,&quot;_dogHandle&quot;,&quot;_lieDown&quot;,&quot;_warn&quot;,&quot;_hastinitem&quot;,&quot;_allowedDistance&quot;,&quot;_menu&quot;,&quot;_menu1&quot;,&quot;_humanity_logic&quot;,&quot;_low_high&quot;,&quot;_cancel&quot;,&quot;_metals_trader&quot;,&quot;_traderMenu&quot;,&quot;_isWreck&quot;,&quot;_isRemovable&quot;,&quot;_isDisallowRepair&quot;,&quot;_rawmeat&quot;,&quot;_humanity&quot;,&quot;_speed&quot;,&quot;_dog&quot;,&quot;_hasbottleitem&quot;,&quot;_isAir&quot;,&quot;_isShip&quot;,&quot;_playersNear&quot;,&quot;_findNearestGens&quot;,&quot;_findNearestGen&quot;,&quot;_IsNearRunningGen&quot;,&quot;_cursorTarget&quot;,&quot;_isnewstorage&quot;,&quot;_itemsPlayer&quot;,&quot;_ownerKeyId&quot;,&quot;_typeOfCursorTarget&quot;,&quot;_hasKey&quot;,&quot;_oldOwner&quot;,&quot;_combi&quot;,&quot;_key_colors&quot;,&quot;_player_deleteBuild&quot;,&quot;_player_flipveh&quot;,&quot;_player_lockUnlock_crtl&quot;,&quot;_player_butcher&quot;,&quot;_player_studybody&quot;,&quot;_player_cook&quot;,&quot;_player_boil&quot;,&quot;_hasFuelBarrelE&quot;,&quot;_hasHotwireKit&quot;,&quot;_player_SurrenderedGear&quot;,&quot;_isSurrendered&quot;,&quot;_isModular&quot;,&quot;_isModularDoor&quot;,&quot;_ownerKeyName&quot;,&quot;_temp_keys_names&quot;,&quot;_hasAttached&quot;,&quot;_allowTow&quot;,&quot;_liftHeli&quot;,&quot;_found&quot;,&quot;_posL&quot;,&quot;_posC&quot;,&quot;_height&quot;,&quot;_liftHelis&quot;,&quot;_attached&quot;,&quot;_playerUID&quot;,&quot;_characterID&quot;,&quot;_plotDistance&quot;,&quot;_PlotsNear&quot;, &quot;_classname&quot;,&quot;_isowner&quot;];
 
if (DZE_ActionInProgress) exitWith {}; // Do not allow if any script is running.
 
_origins_buildings = [&quot;Uroven1DrevenaBudka&quot;, &quot;Uroven2KladaDomek&quot;, &quot;Uroven3DrevenyDomek&quot;, &quot;Uroven1VelkaBudka&quot;, &quot;Uroven2MalyDomek&quot;, &quot;Uroven3VelkyDomek&quot;, &quot;malaGaraz&quot;, &quot;velkaGaraz&quot;, &quot;kingramida&quot;, &quot;ori_safe&quot;,&quot;krepost&quot;];
_vehicle = vehicle player;
_isPZombie = player isKindOf &quot;PZombie_VB&quot;;
_inVehicle = (_vehicle != player);
 
_onLadder = (getNumber (configFile &gt;&gt; &quot;CfgMovesMaleSdr&quot; &gt;&gt; &quot;States&quot; &gt;&gt; (animationState player) &gt;&gt; &quot;onLadder&quot;)) == 1;
_canDo = (!r_drag_sqf &amp;&amp; !r_player_unconscious &amp;&amp; !_onLadder);
 
_nearLight =  nearestObject [player,&quot;LitObject&quot;];
_canPickLight = false;
if (!isNull _nearLight) then {
if (_nearLight distance player &lt; 4) then {
_canPickLight = isNull (_nearLight getVariable [&quot;owner&quot;,objNull]);
};
};
 
//Grab Flare
if (_canPickLight &amp;&amp; !dayz_hasLight &amp;&amp; !_isPZombie) then {
if (s_player_grabflare &lt; 0) then {
_text = getText (configFile &gt;&gt; &quot;CfgAmmo&quot; &gt;&gt; (typeOf _nearLight) &gt;&gt; &quot;displayName&quot;);
s_player_grabflare = player addAction [format[localize &quot;str_actions_medical_15&quot;,_text], &quot;\z\addons\dayz_code\actions\flare_pickup.sqf&quot;,_nearLight, 1, false, true, &quot;&quot;, &quot;&quot;];
s_player_removeflare = player addAction [format[localize &quot;str_actions_medical_17&quot;,_text], &quot;\z\addons\dayz_code\actions\flare_remove.sqf&quot;,_nearLight, 1, false, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_grabflare;
player removeAction s_player_removeflare;
s_player_grabflare = -1;
s_player_removeflare = -1;
};
//OriginsDoors
if(isNil &quot;s_player_openhouse&quot;) then {
        s_player_openhouse = -1;
};
if(isNil &quot;HouseState&quot;) then {
HouseState = 0;
};
if(isNil &quot;GarageState&quot;) then {
GarageState = 0;
};
if(isNil &quot;s_player_opengarage&quot;) then {
s_player_opengarage = -1;
};
_houses = [&quot;Uroven1DrevenaBudka&quot;, &quot;Uroven2KladaDomek&quot;, &quot;Uroven3DrevenyDomek&quot;, &quot;Uroven1VelkaBudka&quot;, &quot;Uroven2MalyDomek&quot;, &quot;Uroven3VelkyDomek&quot;];
_garages = [&quot;malaGaraz&quot;, &quot;velkaGaraz&quot;,&quot;Uroven3DrevenyDomek&quot;,&quot;Uroven3VelkyDomek&quot;,&quot;kingramida&quot;];
        DoorToOpen = objnull;
                _obj = player;
                _cursorTarget = cursorTarget;
                if (!isNull _cursorTarget) then {
                        if (player distance _cursorTarget &lt; 10) then {
                                _ownerID = _cursorTarget getVariable['CharacterID','0'];
                               if (getPlayerUIDOld player == _ownerID) then {
                                        DoorToOpen = _cursorTarget;
                                        if (s_player_openhouse &lt; 0) then {
if(typeOf(DoorToOpen) in _houses) then {
                                                _OpenClose = &quot;&quot;;
if (_cursorTarget isKindOf &quot;Uroven1DrevenaBudka&quot;) then { _OpenClose = 'Unlock Bandit Level 1 House';};
if (_cursorTarget isKindOf &quot;Uroven2KladaDomek&quot;) then { _OpenClose = 'Unlock Bandit Level 2 House';};
if (_cursorTarget isKindOf &quot;Uroven3DrevenyDomek&quot;) then { _OpenClose = 'Unlock Bandit Level 3 House';};
if (_cursorTarget isKindOf &quot;Uroven1VelkaBudka&quot;) then { _OpenClose = 'Unlock Hero Level 1 House';};
if (_cursorTarget isKindOf &quot;Uroven2MalyDomek&quot;) then { _OpenClose = 'Unlock Hero Level 2 House';};
if (_cursorTarget isKindOf &quot;Uroven3VelkyDomek&quot;) then { _OpenClose = 'Unlock Hero Level 3 House';};
                                                if (HouseState == 1) then {
                                                _OpenClose = &quot;&quot;;
if (_cursorTarget isKindOf &quot;Uroven1DrevenaBudka&quot;) then { _OpenClose = 'Lock Bandit Level 1 House';};
if (_cursorTarget isKindOf &quot;Uroven2KladaDomek&quot;) then { _OpenClose = 'Lock Bandit Level 2 House';};
if (_cursorTarget isKindOf &quot;Uroven3DrevenyDomek&quot;) then { _OpenClose = 'Lock Bandit Level 3 House';};
if (_cursorTarget isKindOf &quot;Uroven1VelkaBudka&quot;) then { _OpenClose = 'Lock Hero Level 1 House';};
if (_cursorTarget isKindOf &quot;Uroven2MalyDomek&quot;) then { _OpenClose = 'Lock Hero Level 2 House';};
if (_cursorTarget isKindOf &quot;Uroven3VelkyDomek&quot;) then { _OpenClose = 'Lock Hero Level 3 House';};
                                                };
                                                s_player_openhouse = player addAction [_OpenClose, 'Scripts\Credited\build\originsHouses.sqf'];
};
                                        };
if (s_player_opengarage &lt; 0) then
                                        {
if(typeOf(DoorToOpen) in _garages) then {
                                                _OpenClose = &quot;&quot;;
if (_cursorTarget isKindOf &quot;malaGaraz&quot;) then { _OpenClose = 'Unlock Small Garage';};
if (_cursorTarget isKindOf &quot;velkaGaraz&quot;) then { _OpenClose = 'Unlock Large Garage';};
if (_cursorTarget isKindOf &quot;Uroven3DrevenyDomek&quot;) then { _OpenClose = 'Unlock Level 3 Garage';};
if (_cursorTarget isKindOf &quot;Uroven3VelkyDomek&quot;) then { _OpenClose = 'Unlock Level 3 Garage';};
if (_cursorTarget isKindOf &quot;kingramida&quot;) then { _OpenClose = 'Unlock Pyramid';};
                                                if (GarageState == 1) then {
                                                _OpenClose = &quot;&quot;;
if (_cursorTarget isKindOf &quot;malaGaraz&quot;) then { _OpenClose = 'Lock Small Garage';};
if (_cursorTarget isKindOf &quot;velkaGaraz&quot;) then { _OpenClose = 'Lock Large Garage';};
if (_cursorTarget isKindOf &quot;Uroven3DrevenyDomek&quot;) then { _OpenClose = 'Lock Level 3 Garage';};
if (_cursorTarget isKindOf &quot;Uroven3VelkyDomek&quot;) then { _OpenClose = 'Lock Level 3 Garage';};
if (_cursorTarget isKindOf &quot;kingramida&quot;) then { _OpenClose = 'Lock Pyramid';};
};
                                                s_player_opengarage = player addAction [_OpenClose, 'Scripts\Credited\build\originsGarages.sqf'];
};
};
                                };
                        };            
                };
                if ((_obj != player) || (_cursorTarget != cursorTarget)) then {
                        _obj removeAction s_player_openhouse;
_obj removeAction s_player_opengarage;
                         s_player_openhouse = -1;
s_player_opengarage = -1;
                };
 
       
if (DZE_HeliLift) then {
_hasAttached = _vehicle getVariable[&quot;hasAttached&quot;,false];
if(_inVehicle &amp;&amp; (_vehicle isKindOf &quot;Air&quot;) &amp;&amp; ((([_vehicle] call FNC_getPos) select 2) &lt; 30) &amp;&amp; (speed _vehicle &lt; 5) &amp;&amp; (typeName _hasAttached == &quot;OBJECT&quot;)) then {
if (s_player_heli_detach &lt; 0) then {
dayz_myLiftVehicle = _vehicle;
s_player_heli_detach = dayz_myLiftVehicle addAction [&quot;Detach Vehicle&quot;,&quot;\z\addons\dayz_code\actions\player_heliDetach.sqf&quot;,[dayz_myLiftVehicle,_hasAttached],2,false,true,&quot;&quot;,&quot;&quot;];
};
} else {
dayz_myLiftVehicle removeAction s_player_heli_detach;
s_player_heli_detach = -1;
};
};
 
if(DZE_HaloJump) then {
if(_inVehicle &amp;&amp; (_vehicle isKindOf &quot;Air&quot;) &amp;&amp; ((([_vehicle] call FNC_getPos) select 2) &gt; 400)) then {
if (s_halo_action &lt; 0) then {
DZE_myHaloVehicle = _vehicle;
s_halo_action = DZE_myHaloVehicle addAction [localize &quot;STR_EPOCH_ACTIONS_HALO&quot;,&quot;\z\addons\dayz_code\actions\halo_jump.sqf&quot;,[],2,false,true,&quot;&quot;,&quot;&quot;];
};
} else {
DZE_myHaloVehicle removeAction s_halo_action;
s_halo_action = -1;
};
};
 
if (!DZE_ForceNameTagsOff) then {
if (s_player_showname &lt; 0 &amp;&amp; !_isPZombie) then {
if (DZE_ForceNameTags) then {
s_player_showname = 1;
player setVariable[&quot;DZE_display_name&quot;,true,true];
} else {
s_player_showname = player addAction [localize &quot;STR_EPOCH_ACTIONS_NAMEYES&quot;, &quot;\z\addons\dayz_code\actions\display_name.sqf&quot;,true, 0, true, false, &quot;&quot;,&quot;&quot;];
s_player_showname1 = player addAction [localize &quot;STR_EPOCH_ACTIONS_NAMENO&quot;, &quot;\z\addons\dayz_code\actions\display_name.sqf&quot;,false, 0, true, false, &quot;&quot;,&quot;&quot;];
};
};
};
 
if(_isPZombie) then {
if (s_player_callzombies &lt; 0) then {
s_player_callzombies = player addAction [localize &quot;STR_EPOCH_ACTIONS_RAISEHORDE&quot;, &quot;\z\addons\dayz_code\actions\call_zombies.sqf&quot;,player, 5, true, false, &quot;&quot;,&quot;&quot;];
};
if (DZE_PZATTACK) then {
call pz_attack;
DZE_PZATTACK = false;
};
if (s_player_pzombiesvision &lt; 0) then {
s_player_pzombiesvision = player addAction [localize &quot;STR_EPOCH_ACTIONS_NIGHTVIS&quot;, &quot;\z\addons\dayz_code\actions\pzombie\pz_vision.sqf&quot;, [], 4, false, true, &quot;nightVision&quot;, &quot;_this == _target&quot;];
};
if (!isNull cursorTarget &amp;&amp; (player distance cursorTarget &lt; 3)) then { //Has some kind of target
_isAnimal = cursorTarget isKindOf &quot;Animal&quot;;
_isZombie = cursorTarget isKindOf &quot;zZombie_base&quot;;
_isHarvested = cursorTarget getVariable[&quot;meatHarvested&quot;,false];
_isMan = cursorTarget isKindOf &quot;Man&quot;;
// Pzombie Gut human corpse || animal
if (!alive cursorTarget &amp;&amp; (_isAnimal || _isMan) &amp;&amp; !_isZombie &amp;&amp; !_isHarvested) then {
if (s_player_pzombiesfeed &lt; 0) then {
s_player_pzombiesfeed = player addAction [localize &quot;STR_EPOCH_ACTIONS_FEED&quot;, &quot;\z\addons\dayz_code\actions\pzombie\pz_feed.sqf&quot;,cursorTarget, 3, true, false, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_pzombiesfeed;
s_player_pzombiesfeed = -1;
};
} else {
player removeAction s_player_pzombiesfeed;
s_player_pzombiesfeed = -1;
};
};
 
// Increase distance only if AIR || SHIP
_allowedDistance = 4;
_isAir = cursorTarget isKindOf &quot;Air&quot;;
_isShip = cursorTarget isKindOf &quot;Ship&quot;;
if(_isAir || _isShip) then {
_allowedDistance = 8;
};
 
if (!isNull cursorTarget &amp;&amp; !_inVehicle &amp;&amp; !_isPZombie &amp;&amp; (player distance cursorTarget &lt; _allowedDistance) &amp;&amp; _canDo) then { //Has some kind of target
 
// set cursortarget to variable
_cursorTarget = cursorTarget;
 
// get typeof cursortarget once
_typeOfCursorTarget = typeOf _cursorTarget;
 
// hintsilent _typeOfCursorTarget;
 
_isVehicle = _cursorTarget isKindOf &quot;AllVehicles&quot;;
_isVehicletype = _typeOfCursorTarget in [&quot;ATV_US_EP1&quot;,&quot;ATV_CZ_EP1&quot;];
_isnewstorage = _typeOfCursorTarget in DZE_isNewStorage;
 
// get items &amp;&amp; magazines only once
_magazinesPlayer = magazines player;
 
//boiled Water
_hasbottleitem = &quot;ItemWaterbottle&quot; in _magazinesPlayer;
_hastinitem = false;
{
if (_x in _magazinesPlayer) then {
_hastinitem = true;
};
} count boil_tin_cans;
_hasFuelE =  &quot;ItemJerrycanEmpty&quot; in _magazinesPlayer;
_hasFuelBarrelE =  &quot;ItemFuelBarrelEmpty&quot; in _magazinesPlayer;
_hasHotwireKit =  &quot;ItemHotwireKit&quot; in _magazinesPlayer;
 
_itemsPlayer = items player;
 
_temp_keys = [];
_temp_keys_names = [];
// find available keys
_key_colors = [&quot;ItemKeyYellow&quot;,&quot;ItemKeyBlue&quot;,&quot;ItemKeyRed&quot;,&quot;ItemKeyGreen&quot;,&quot;ItemKeyBlack&quot;];
{
if (configName(inheritsFrom(configFile &gt;&gt; &quot;CfgWeapons&quot; &gt;&gt; _x)) in _key_colors) then {
_ownerKeyId = getNumber(configFile &gt;&gt; &quot;CfgWeapons&quot; &gt;&gt; _x &gt;&gt; &quot;keyid&quot;);
_ownerKeyName = getText(configFile &gt;&gt; &quot;CfgWeapons&quot; &gt;&gt; _x &gt;&gt; &quot;displayName&quot;);
_temp_keys_names set [_ownerKeyId,_ownerKeyName];
_temp_keys set [count _temp_keys,str(_ownerKeyId)];
};
} count _itemsPlayer;
 
_hasKnife =  &quot;ItemKnife&quot; in _itemsPlayer;
_hasToolbox =  &quot;ItemToolbox&quot; in _itemsPlayer;
 
if (DZE_APlotforLife) then { 
               _playerUID = [player] call FNC_GetPlayerUID; 
       }else{ 
               _playerUID = dayz_characterID; 
};
 
 
_isMan = _cursorTarget isKindOf &quot;Man&quot;;
_traderType = _typeOfCursorTarget;
_ownerID = _cursorTarget getVariable [&quot;ownerPUID&quot;,&quot;0&quot;];
_characterID = _cursorTarget getVariable [&quot;CharacterID&quot;,&quot;0&quot;];
_isAnimal = _cursorTarget isKindOf &quot;Animal&quot;;
_isDog =  (_cursorTarget isKindOf &quot;DZ_Pastor&quot; || _cursorTarget isKindOf &quot;DZ_Fin&quot;);
_isZombie = _cursorTarget isKindOf &quot;zZombie_base&quot;;
_isDestructable = _cursorTarget isKindOf &quot;BuiltItems&quot;;
_isWreck = _typeOfCursorTarget in DZE_isWreck;
_isWreckBuilding = _typeOfCursorTarget in DZE_isWreckBuilding;
_isModular = _cursorTarget isKindOf &quot;ModularItems&quot; or ((typeOf _cursorTarget) in Custom_Buildables);
_isModularDoor = _typeOfCursorTarget in [&quot;Land_DZE_WoodDoor&quot;,&quot;Land_DZE_LargeWoodDoor&quot;,&quot;Land_DZE_GarageWoodDoor&quot;,&quot;CinderWallDoor_DZ&quot;,&quot;CinderWallDoorSmall_DZ&quot;];
 
_isRemovable = _typeOfCursorTarget in DZE_isRemovable;
_isDisallowRepair = _typeOfCursorTarget in [&quot;M240Nest_DZ&quot;];
 
_isTent = _cursorTarget isKindOf &quot;TentStorage&quot;;
 
_isAlive = alive _cursorTarget;
 
_text = getText (configFile &gt;&gt; &quot;CfgVehicles&quot; &gt;&gt; _typeOfCursorTarget &gt;&gt; &quot;displayName&quot;);
 
_rawmeat = meatraw;
_hasRawMeat = false;
{
if (_x in _magazinesPlayer) then {
_hasRawMeat = true;
};
} count _rawmeat; 
 
_isFuel = false;
if (_hasFuelE || _hasFuelBarrelE) then {
{
if(_cursorTarget isKindOf _x) exitWith {_isFuel = true;};
} count dayz_fuelsources;
};
 
// diag_log (&quot;OWNERID = &quot; + _ownerID + &quot; CHARID = &quot; + dayz_characterID + &quot; &quot; + str(_ownerID == dayz_characterID));
 
// logic vars
_player_flipveh = false;
_player_deleteBuild = false;
_player_lockUnlock_crtl = false;
 
if (_canDo &amp;&amp; (speed player &lt;= 1) &amp;&amp; (_cursorTarget isKindOf &quot;Plastic_Pole_EP1_DZ&quot;)) then {
if (s_player_plotManagement &lt; 0) then {
_adminList = [&quot;0152&quot;]; // Add admins here if you admins to able to manage all plotpoles
_owner = _cursorTarget getVariable [&quot;ownerPUID&quot;,&quot;0&quot;];
_friends = _cursorTarget getVariable [&quot;plotfriends&quot;, []];
_fuid = [];
{
_friendUID = _x select 0;
_fuid = _fuid + [_friendUID];
} forEach _friends;
_allowed = [_owner];    
_allowed = [_owner] + _adminList + _fuid;
if((getPlayerUID player) in _allowed)then{            
s_player_plotManagement = player addAction [&quot;&lt;t color='#0059FF'&gt;Manage Plot&lt;/t&gt;&quot;, &quot;plotManagement\initPlotManagement.sqf&quot;, [], 5, false];
};
};
if (s_player_maintain_area &lt; 0) then {
  s_player_maintain_area = player addAction [format[&quot;&lt;t color='#ff0000'&gt;%1&lt;/t&gt;&quot;,localize &quot;STR_EPOCH_ACTIONS_MAINTAREA&quot;], &quot;\z\addons\dayz_code\actions\maintain_area.sqf&quot;, &quot;maintain&quot;, 5, false];
s_player_maintain_area_preview = player addAction [format[&quot;&lt;t color='#ff0000'&gt;%1&lt;/t&gt;&quot;,localize &quot;STR_EPOCH_ACTIONS_MAINTPREV&quot;], &quot;\z\addons\dayz_code\actions\maintain_area.sqf&quot;, &quot;preview&quot;, 5, false];
};
                 _plotDistance = (DZE_PlotPole select 0); 
               _PlotsmarkersNear = count (_cursorTarget nearEntities [&quot;Land_coneLight&quot;, _PlotDistance]); 
 
               if (s_player_plot_boundary_on &lt; 0) then { 
                       If (_PlotsmarkersNear == 0 ) then{ 
                               s_player_plot_boundary_on = player addAction [&quot;Show plot boundary&quot;, &quot;Scripts\Credited\A_Plot_for_Life\Action\object_showPlotRadius.sqf&quot;, &quot;&quot;, 1, false]; 
                       }; 
                };         
                if (s_player_plot_boundary_off &lt; 0) then { 
                       If (_PlotsmarkersNear &gt; 0 ) then{ 
                               s_player_plot_boundary_off = player addAction [&quot;Remove plot boundary&quot;, &quot;Scripts\Credited\A_Plot_for_Life\Action\object_removePlotRadius.sqf&quot;, &quot;&quot;, 1, false]; 
                       }; 
               }; 
               if (s_player_plot_take_ownership &lt; 0) then { 
                       if (DZE_PlotOwnership) then { 
                               _isowner = [player, _cursorTarget] call FNC_check_owner; 
                               If (( _isowner select 0 )) then{ 
                                       s_player_plot_take_ownership = player addAction [&quot;Take plot items ownership&quot;, &quot;Scripts\Credited\A_Plot_for_Life\Action\plot_take_ownership.sqf&quot;, &quot;&quot;, 1, false]; 
                               }; 
                       }; 
               };
} else {
     player removeAction s_player_plotManagement;
s_player_plotManagement = -1;
     player removeAction s_player_maintain_area;
     s_player_maintain_area = -1;
     player removeAction s_player_maintain_area_preview;
     s_player_maintain_area_preview = -1;
player removeAction s_player_plot_boundary_on; 
               s_player_plot_boundary_on = -1; 
               player removeAction s_player_plot_boundary_off; 
               s_player_plot_boundary_off = -1; 
               player removeAction s_player_plot_take_ownership; 
               s_player_plot_take_ownership = -1;
};
 
// CURSOR TARGET ALIVE
if(_isAlive) then {
 
//Allow player to delete objects
if(_isDestructable || _isWreck || _isRemovable || _isWreckBuilding) then {
if(_hasToolbox &amp;&amp; &quot;ItemCrowbar&quot; in _itemsPlayer) then {
_player_deleteBuild = true;
};
};
 
///Allow owners to delete modulars
    if(_isModular) then {
            if(_hasToolbox &amp;&amp; &quot;ItemCrowbar&quot; in _itemsPlayer) then {
_findNearestPoles = nearestObjects[player, [&quot;Plastic_Pole_EP1_DZ&quot;], DZE_PlotPole select 0];
_IsNearPlot = count (_findNearestPoles);
_fuid  = [];
_allowed = [];
if(_IsNearPlot &gt; 0)then{
_thePlot = _findNearestPoles select 0;
_owner =  _thePlot getVariable [&quot;ownerPUID&quot;,&quot;010&quot;];
_friends = _thePlot getVariable [&quot;plotfriends&quot;, []];
{
 _friendUID = _x select 0;
 _fuid  =  _fuid  + [_friendUID];
} forEach _friends;
_allowed = [_owner];    
_allowed = [_owner] +  _fuid; 
if ( _playerUID in _allowed &amp;&amp; _ownerID in _allowed ) then {  
_player_deleteBuild = true;
}; 
}else{
if(_ownerID == _playerUID)then{
_player_deleteBuild = true;
};
};                   
            };
    };
//Allow owners to delete modular doors without locks
    if(_isModularDoor) then {
            if(_hasToolbox &amp;&amp; &quot;ItemCrowbar&quot; in _itemsPlayer) then { 
_findNearestPoles = nearestObjects[player, [&quot;Plastic_Pole_EP1_DZ&quot;], DZE_PlotPole select 0];
_IsNearPlot = count (_findNearestPoles);
_fuid  = [];
_allowed = [];
if(_IsNearPlot &gt; 0)then{
_thePlot = _findNearestPoles select 0;
_owner =  _thePlot getVariable [&quot;ownerPUID&quot;,&quot;010&quot;];
_friends = _thePlot getVariable [&quot;plotfriends&quot;, []];
{
 _friendUID = _x select 0;
 _fuid  =  _fuid  + [_friendUID];
} forEach _friends;
_allowed = [_owner];    
_allowed = [_owner] +  _fuid; 
if ( _playerUID in _allowed &amp;&amp; _ownerID in _allowed) then {
_player_deleteBuild = true;
}; 
}else{
if(_ownerID == _playerUID)then{
_player_deleteBuild = true;
};
}; 
            };      
    };
// CURSOR TARGET VEHICLE
if(_isVehicle) then {
 
//flip vehicle small vehicles by your self &amp;&amp; all other vehicles with help nearby
if (!(canmove _cursorTarget) &amp;&amp; (player distance _cursorTarget &gt;= 2) &amp;&amp; (count (crew _cursorTarget))== 0 &amp;&amp; ((vectorUp _cursorTarget) select 2) &lt; 0.5) then {
_playersNear = {isPlayer _x} count (player nearEntities [&quot;CAManBase&quot;, 6]);
if(_isVehicletype || (_playersNear &gt;= 2)) then {
_player_flipveh = true; 
};
};
 
 
if(!_isMan &amp;&amp; _characterID != &quot;0&quot; &amp;&amp; !(_cursorTarget isKindOf &quot;Bicycle&quot;)) then {
_player_lockUnlock_crtl = true;
};
 
};
 
};
 
if(_player_deleteBuild) then {
if (s_player_deleteBuild &lt; 0) then {
s_player_deleteBuild = player addAction [format[localize &quot;str_actions_delete&quot;,_text], &quot;Scripts\Credited\A_Plot_for_Life\Action\remove.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_deleteBuild;
s_player_deleteBuild = -1;
};
 
if (DZE_HeliLift) then {
_liftHeli = objNull;
_found = false;
 
_allowTow = false;
if ((count (crew _cursorTarget)) == 0) then {
{
if(!_allowTow) then {
_allowTow = _cursorTarget isKindOf _x;
};
} count DZE_HeliAllowToTow;
};
 
//diag_log format[&quot;CREW: %1 ALLOW: %2&quot;,(count (crew _cursorTarget)),_allowTow];
 
if (_allowTow) then {
_liftHelis = nearestObjects [player, DZE_HeliAllowTowFrom, 15];
{
if(!_found) then {
_posL = [_x] call FNC_getPos;
_posC = [_cursorTarget] call FNC_getPos;
_height = (_posL select 2) - (_posC select 2);
_hasAttached = _x getVariable[&quot;hasAttached&quot;,false];
if(_height &lt; 15 &amp;&amp; _height &gt; 5 &amp;&amp; (typeName _hasAttached != &quot;OBJECT&quot;)) then {
if(((abs((_posL select 0) - (_posC select 0))) &lt; 10) &amp;&amp; ((abs((_posL select 1) - (_posC select 1))) &lt; 10)) then {
_liftHeli = _x;
_found = true;
};
};
};
} count _liftHelis;
};
 
//diag_log format[&quot;HELI: %1 TARGET: %2&quot;,_found,_cursorTarget];
 
_attached = _cursorTarget getVariable[&quot;attached&quot;,false];
if(_found &amp;&amp; _allowTow &amp;&amp; _canDo &amp;&amp; !locked _cursorTarget &amp;&amp; !_isPZombie &amp;&amp; (typeName _attached != &quot;OBJECT&quot;)) then {
if (s_player_heli_lift &lt; 0) then {
s_player_heli_lift = player addAction [&quot;Attach to Heli&quot;, &quot;\z\addons\dayz_code\actions\player_heliLift.sqf&quot;,[_liftHeli,_cursorTarget], -10, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_heli_lift;
s_player_heli_lift = -1;
};
};
 
// Allow Owner to lock &amp;&amp; unlock vehicle  
if(_player_lockUnlock_crtl) then {
if (s_player_lockUnlock_crtl &lt; 0) then {
_hasKey = _characterID in _temp_keys;
_oldOwner = (_characterID == dayz_playerUID);
if(locked _cursorTarget) then {
if(_hasKey || _oldOwner) then {
_Unlock = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_UNLOCK&quot;,_text], &quot;\z\addons\dayz_code\actions\unlock_veh.sqf&quot;,[_cursorTarget,(_temp_keys_names select (parseNumber _characterID))], 2, true, true, &quot;&quot;, &quot;&quot;];
s_player_lockunlock set [count s_player_lockunlock,_Unlock];
s_player_lockUnlock_crtl = 1;
} else {
if(_hasHotwireKit) then {
_Unlock = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_HOTWIRE&quot;,_text], &quot;\z\addons\dayz_code\actions\hotwire_veh.sqf&quot;,_cursorTarget, 2, true, true, &quot;&quot;, &quot;&quot;];
} else {
_Unlock = player addAction [format[&quot;&lt;t color='#ff0000'&gt;%1&lt;/t&gt;&quot;,localize &quot;STR_EPOCH_ACTIONS_VEHLOCKED&quot;], &quot;&quot;,_cursorTarget, 2, true, true, &quot;&quot;, &quot;&quot;];
};
s_player_lockunlock set [count s_player_lockunlock,_Unlock];
s_player_lockUnlock_crtl = 1;
};
} else {
if(_hasKey || _oldOwner) then {
_lock = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_LOCK&quot;,_text], &quot;\z\addons\dayz_code\actions\lock_veh.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;];
s_player_lockunlock set [count s_player_lockunlock,_lock];
if (_typeOfCursorTarget in ColourVehicles) then {
private [&quot;_paint&quot;];
_paint = player addAction [&quot;Paint&quot;, &quot;Scripts\Modified\Paint\player_paint_init.sqf&quot;,_cursorTarget, 2, true, true, &quot;&quot;, &quot;&quot;];
s_player_lockunlock set [count s_player_lockunlock,_paint];
};
s_player_lockUnlock_crtl = 1;
};
};
};
 
} else {
{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];
s_player_lockUnlock_crtl = -1;
};
 
if(DZE_AllowForceSave) then {
//Allow player to force save
if((_isVehicle || _isTent) &amp;&amp; !_isMan) then {
if (s_player_forceSave &lt; 0) then {
s_player_forceSave = player addAction [format[localize &quot;str_actions_save&quot;,_text], &quot;\z\addons\dayz_code\actions\forcesave.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_forceSave;
s_player_forceSave = -1;
};
};
 
 
 
If(DZE_AllowCargoCheck) then {
if((_isVehicle || _isTent || _isnewstorage) &amp;&amp; _isAlive &amp;&amp; !_isMan &amp;&amp; !locked _cursorTarget) then {
if (s_player_checkGear &lt; 0) then {
s_player_checkGear = player addAction [localize &quot;STR_EPOCH_PLAYER_CARGO&quot;, &quot;\z\addons\dayz_code\actions\cargocheck.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_checkGear;
s_player_checkGear = -1;
};
};
 
 
//flip vehicle small vehicles by your self &amp;&amp; all other vehicles with help nearby
if(_player_flipveh) then {
if (s_player_flipveh  &lt; 0) then {
s_player_flipveh = player addAction [format[localize &quot;str_actions_flipveh&quot;,_text], &quot;\z\addons\dayz_code\actions\player_flipvehicle.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;]; 
};
} else {
player removeAction s_player_flipveh;
s_player_flipveh = -1;
}; 
 
//Allow player to fill jerrycan
if((_hasFuelE || _hasFuelBarrelE) &amp;&amp; _isFuel) then {
if (s_player_fillfuel &lt; 0) then {
s_player_fillfuel = player addAction [localize &quot;str_actions_self_10&quot;, &quot;\z\addons\dayz_code\actions\jerry_fill.sqf&quot;,[], 1, false, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_fillfuel;
s_player_fillfuel = -1;
};
 
// logic vars for addactions
_player_butcher = false;
_player_studybody = false;
_player_SurrenderedGear = false;
 
// CURSOR TARGET NOT ALIVE
if (!_isAlive) then {
 
// Gut animal/zed
if((_isAnimal || _isZombie) &amp;&amp; _hasKnife) then {
_isHarvested = _cursorTarget getVariable[&quot;meatHarvested&quot;,false];
if (!_isHarvested) then {
_player_butcher = true;
};
};
 
// Study body
if (_isMan &amp;&amp; !_isZombie &amp;&amp; !_isAnimal) then {
_player_studybody = true;
}
} else {
// unit alive
 
// gear access on surrendered player
if(_isMan &amp;&amp; !_isZombie &amp;&amp; !_isAnimal) then {
_isSurrendered = _cursorTarget getVariable [&quot;DZE_Surrendered&quot;,false];
if (_isSurrendered) then {
_player_SurrenderedGear = true;
};
};
};
 
 
// Human Gut animal || zombie
if (_player_butcher) then {
if (s_player_butcher &lt; 0) then {
if(_isZombie) then {
s_player_butcher = player addAction [localize &quot;STR_EPOCH_ACTIONS_GUTZOM&quot;, &quot;\z\addons\dayz_code\actions\gather_zparts.sqf&quot;,_cursorTarget, 0, true, true, &quot;&quot;, &quot;&quot;];
} else {
s_player_butcher = player addAction [localize &quot;str_actions_self_04&quot;, &quot;\z\addons\dayz_code\actions\gather_meat.sqf&quot;,_cursorTarget, 3, true, true, &quot;&quot;, &quot;&quot;];
};
};
} else {
player removeAction s_player_butcher;
s_player_butcher = -1;
};
 
// Study Body
if (_player_studybody) then {
if (s_player_studybody &lt; 0) then {
s_player_studybody = player addAction [(&quot;&lt;t color=&quot;&quot;#FF0000&quot;&quot;&gt;&quot;+(&quot;Check Wallet&quot;) + &quot;&lt;/t&gt;&quot;), &quot;ZSC\actions\check_wallet.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_studybody;
s_player_studybody = -1;
};
 
//Remove CLOTHES
if (_isMan and !_isAlive and !_isZombie and !_isAnimal) then {
if (s_clothes &lt; 0) then {
s_clothes = player addAction [(&quot;&quot; + (&quot;Take Clothes&quot;) + &quot;&quot;), &quot;Scripts\Modified\skins\removeclothes.sqf&quot;,cursorTarget, 1, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_clothes;
s_clothes = -1;
};
 
// logic vars
_player_cook = false;
_player_boil = false;
 
// CURSOR TARGET IS FIRE
if (inflamed _cursorTarget) then {
 
//Fireplace Actions check
if (_hasRawMeat) then {
_player_cook = true; 
};
 
// Boil water
if (_hasbottleitem &amp;&amp; _hastinitem) then {
_player_boil = true;
};
};
 
if (_player_SurrenderedGear) then {
if (s_player_SurrenderedGear &lt; 0) then {
s_player_SurrenderedGear = player addAction [localize &quot;STR_EPOCH_ACTIONS_GEAR&quot;, &quot;\z\addons\dayz_code\actions\surrender_gear.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_SurrenderedGear;
s_player_SurrenderedGear = -1;
};
 
//Fireplace Actions check
if (_player_cook) then {
if (s_player_cook &lt; 0) then {
s_player_cook = player addAction [localize &quot;str_actions_self_05&quot;, &quot;\z\addons\dayz_code\actions\cook.sqf&quot;,_cursorTarget, 3, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_cook;
s_player_cook = -1;
};
 
// Boil water
if (_player_boil) then {
if (s_player_boil &lt; 0) then {
s_player_boil = player addAction [localize &quot;str_actions_boilwater&quot;, &quot;\z\addons\dayz_code\actions\boil.sqf&quot;,_cursorTarget, 3, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_boil;
s_player_boil = -1;
};
 
if(_cursorTarget == dayz_hasFire) then {
if ((s_player_fireout &lt; 0) &amp;&amp; !(inflamed _cursorTarget) &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
s_player_fireout = player addAction [localize &quot;str_actions_self_06&quot;, &quot;\z\addons\dayz_code\actions\fire_pack.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_fireout;
s_player_fireout = -1;
};
 
//Packing my tent
if(_isTent &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
if (_ownerID == _playerUID) then {
if (s_player_packtent &lt; 0) then {
s_player_packtent = player addAction [localize &quot;str_actions_self_07&quot;, &quot;\z\addons\dayz_code\actions\tent_pack.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
if((&quot;ItemJerrycan&quot; in _magazinesPlayer) &amp;&amp; (&quot;ItemMatchbox_DZE&quot; in weapons player)) then {
if (s_player_packtent &lt; 0) then {
s_player_packtent = player addAction [localize &quot;STR_EPOCH_ACTIONS_DESTROYTENT&quot;, &quot;Scripts\Credited\A_Plot_for_Life\Action\remove.sqf&quot;,_cursorTarget, 1, true, true, &quot;&quot;, &quot;&quot;];
};
};
};
} else {
player removeAction s_player_packtent;
s_player_packtent = -1;
};
 
//Allow manage door
if((_typeOfCursorTarget in DZE_DoorsLocked)) then {
if (s_player_manageDoor &lt; 0) then { 
     s_player_manageDoor = player addAction [&quot;&lt;t color='#0059FF'&gt;Manage Door&lt;/t&gt;&quot;, &quot;doorManagement\initDoorManagement.sqf&quot;, _cursorTarget, 5, false];
};
} else {
player removeAction s_player_manageDoor;
s_player_manageDoor = -1;
};
 
//Allow owner to unlock vault
if((_typeOfCursorTarget in DZE_LockableStorage) &amp;&amp; _characterID != &quot;0&quot; &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
if (s_player_unlockvault &lt; 0) then {
if(_typeOfCursorTarget in DZE_LockedStorage) then {
if(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {
_combi = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_OPEN&quot;,_text], &quot;\z\addons\dayz_code\actions\vault_unlock.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
s_player_combi set [count s_player_combi,_combi];
} else {
_combi = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_UNLOCK&quot;,_text], &quot;\z\addons\dayz_code\actions\vault_combination_1.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
s_player_combi set [count s_player_combi,_combi];
};
s_player_unlockvault = 1;
} else {
if(_characterID != dayz_combination &amp;&amp; _ownerID != dayz_playerUID) then {
_combi = player addAction [localize &quot;STR_EPOCH_ACTIONS_RECOMBO&quot;, &quot;\z\addons\dayz_code\actions\vault_combination_1.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
s_player_combi set [count s_player_combi,_combi];
s_player_unlockvault = 1;
};
};
};
} else {
{player removeAction _x} count s_player_combi;s_player_combi = [];
s_player_unlockvault = -1;
};
 
if(_typeOfCursorTarget in ZSC_MoneyStorage &amp;&amp; (player distance _cursorTarget &lt; 5)) then {
if (s_bank_dialog &lt; 0) then {
s_bank_dialog = player addAction [&quot;Money Storage&quot;, &quot;ZSC\actions\bank_dialog.sqf&quot;,_cursorTarget, 3, true, true, &quot;&quot;, &quot;&quot;]; 
};
} else {
      player removeAction s_bank_dialog;
s_bank_dialog = -1;
};
 
// cars 
if( _isVehicle &amp;&amp; !_isMan &amp;&amp;_isAlive &amp;&amp; !_isMan &amp;&amp; !locked _cursorTarget &amp;&amp; !(_cursorTarget isKindOf &quot;Bicycle&quot;) &amp;&amp; (player distance _cursorTarget &lt; 5)) then { 
if (s_bank_dialog2 &lt; 0) then {
s_bank_dialog2 = player addAction [&quot;Money Storage&quot;, &quot;ZSC\actions\bank_dialog.sqf&quot;,_cursorTarget, 3, true, true, &quot;&quot;, &quot;&quot;];
}; 
} else { 
player removeAction s_bank_dialog2;
s_bank_dialog2 = -1;
};
 
//Allow owner to pack vault
if(_typeOfCursorTarget in DZE_UnLockedStorage &amp;&amp; _characterID != &quot;0&quot; &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
 
if (s_player_lockvault &lt; 0) then {
if(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {
s_player_lockvault = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_LOCK&quot;,_text], &quot;\z\addons\dayz_code\actions\vault_lock.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
};
if (s_player_packvault &lt; 0 &amp;&amp; (_characterID == dayz_combination || _ownerID == dayz_playerUID)) then {
s_player_packvault = player addAction [format[&quot;&lt;t color='#ff0000'&gt;%1&lt;/t&gt;&quot;,(format[localize &quot;STR_EPOCH_ACTIONS_PACK&quot;,_text])], &quot;\z\addons\dayz_code\actions\vault_pack.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_packvault;
s_player_packvault = -1;
player removeAction s_player_lockvault;
s_player_lockvault = -1;
};
 
 
 
    //Player Deaths
if(_typeOfCursorTarget == &quot;Info_Board_EP1&quot;) then {
if (s_player_information &lt; 0) then {
s_player_information = player addAction [localize &quot;STR_EPOCH_ACTIONS_MURDERS&quot;, &quot;\z\addons\dayz_code\actions\list_playerDeaths.sqf&quot;,[], 7, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_information;
s_player_information = -1;
};
 
if (_isMan and _isAlive and !_isZombie and !_isAnimal and !(_traderType in serverTraders)) then {
if (s_givemoney_dialog &lt; 0) then {
s_givemoney_dialog = player addAction [format[&quot;Give Money to %1&quot;, (name _cursorTarget)], &quot;ZSC\actions\give_player_dialog.sqf&quot;,_cursorTarget, 3, true, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_givemoney_dialog;
s_givemoney_dialog = -1;
};
 
//Fuel Pump
if(_typeOfCursorTarget in dayz_fuelpumparray) then { 
if (s_player_fuelauto &lt; 0) then {
 
// check if Generator_DZ is running within 30 meters
_findNearestGens = nearestObjects [player, [&quot;Generator_DZ&quot;], 30];
_findNearestGen = [];
{
if (alive _x &amp;&amp; (_x getVariable [&quot;GeneratorRunning&quot;, false])) then {
_findNearestGen set [(count _findNearestGen),_x];
};
} count _findNearestGens;
_IsNearRunningGen = count (_findNearestGen);
 
// show that pump needs power if no generator nearby.
if(_IsNearRunningGen &gt; 0) then {
s_player_fuelauto = player addAction [localize &quot;STR_EPOCH_ACTIONS_FILLVEH&quot;, &quot;\z\addons\dayz_code\actions\fill_nearestVehicle.sqf&quot;,objNull, 0, false, true, &quot;&quot;,&quot;&quot;];
} else {
s_player_fuelauto = player addAction [format[&quot;&lt;t color='#ff0000'&gt;%1&lt;/t&gt;&quot;,localize &quot;STR_EPOCH_ACTIONS_NEEDPOWER&quot;], &quot;&quot;,[], 0, false, true, &quot;&quot;,&quot;&quot;];
};
};
} else {
player removeAction s_player_fuelauto;
s_player_fuelauto = -1;
};
 
//Fuel Pump on truck
if(_typeOfCursorTarget in DZE_fueltruckarray &amp;&amp; alive _cursorTarget) then { 
if (s_player_fuelauto2 &lt; 0) then {
// show that fuel truck pump needs power.
if(isEngineOn _cursorTarget) then {
s_player_fuelauto2 = player addAction [localize &quot;STR_EPOCH_ACTIONS_FILLVEH&quot;, &quot;\z\addons\dayz_code\actions\fill_nearestVehicle.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
} else {
s_player_fuelauto2 = player addAction [format[&quot;&lt;t color='#ff0000'&gt;%1&lt;/t&gt;&quot;,localize &quot;STR_EPOCH_ACTIONS_NEEDPOWER&quot;], &quot;&quot;,[], 0, false, true, &quot;&quot;,&quot;&quot;];
};
};
} else {
player removeAction s_player_fuelauto2;
s_player_fuelauto2 = -1;
};
 
// inplace upgrade tool
if ((_cursorTarget isKindOf &quot;ModularItems&quot;) || (_cursorTarget isKindOf &quot;Land_DZE_WoodDoor_Base&quot;) || (_cursorTarget isKindOf &quot;CinderWallDoor_DZ_Base&quot;)) then {
if ((s_player_lastTarget select 0) != _cursorTarget) then {
if (s_player_upgrade_build &gt; 0) then {
player removeAction s_player_upgrade_build;
s_player_upgrade_build = -1;
};
};
if (s_player_upgrade_build &lt; 0) then {
// s_player_lastTarget = _cursorTarget;
s_player_lastTarget set [0,_cursorTarget];
s_player_upgrade_build = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_UPGRADE&quot;,_text], &quot;Scripts\Credited\A_Plot_for_Life\Action\player_upgrade.sqf&quot;,_cursorTarget, -1, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_upgrade_build;
s_player_upgrade_build = -1;
};
 
// downgrade system
if((_isDestructable || _cursorTarget isKindOf &quot;Land_DZE_WoodDoorLocked_Base&quot; || _cursorTarget isKindOf &quot;CinderWallDoorLocked_DZ_Base&quot;) &amp;&amp; (DZE_Lock_Door == _characterID)) then {
if ((s_player_lastTarget select 1) != _cursorTarget) then {
if (s_player_downgrade_build &gt; 0) then { 
player removeAction s_player_downgrade_build;
s_player_downgrade_build = -1;
};
};
 
if (s_player_downgrade_build &lt; 0) then {
s_player_lastTarget set [1,_cursorTarget];
s_player_downgrade_build = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_REMLOCK&quot;,_text], &quot;Scripts\Credited\A_Plot_for_Life\Action\player_buildingDowngrade.sqf&quot;,_cursorTarget, -2, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_downgrade_build;
s_player_downgrade_build = -1;
};
 
// inplace maintenance tool
if((_cursorTarget isKindOf &quot;ModularItems&quot; || _cursorTarget isKindOf &quot;DZE_Housebase&quot; || _typeOfCursorTarget == &quot;LightPole_DZ&quot;) &amp;&amp; (damage _cursorTarget &gt;= DZE_DamageBeforeMaint)) then {
if ((s_player_lastTarget select 2) != _cursorTarget) then {
if (s_player_maint_build &gt; 0) then { 
player removeAction s_player_maint_build;
s_player_maint_build = -1;
};
};
 
if (s_player_maint_build &lt; 0) then {
s_player_lastTarget set [2,_cursorTarget];
s_player_maint_build = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_MAINTAIN&quot;,_text], &quot;\z\addons\dayz_code\actions\player_buildingMaint.sqf&quot;,_cursorTarget, -2, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_maint_build;
s_player_maint_build = -1;
};
 
 
//Start Generator
if(_cursorTarget isKindOf &quot;Generator_DZ&quot;) then {
if (s_player_fillgen &lt; 0) then {
 
// check if not running 
if((_cursorTarget getVariable [&quot;GeneratorRunning&quot;, false])) then {
s_player_fillgen = player addAction [localize &quot;STR_EPOCH_ACTIONS_GENERATOR1&quot;, &quot;\z\addons\dayz_code\actions\stopGenerator.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;]; 
} else {
// check if not filled &amp;&amp; player has jerry.
if((_cursorTarget getVariable [&quot;GeneratorFilled&quot;, false])) then {
s_player_fillgen = player addAction [localize &quot;STR_EPOCH_ACTIONS_GENERATOR2&quot;, &quot;\z\addons\dayz_code\actions\fill_startGenerator.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
} else {
if(&quot;ItemJerrycan&quot; in _magazinesPlayer) then {
s_player_fillgen = player addAction [localize &quot;STR_EPOCH_ACTIONS_GENERATOR3&quot;, &quot;\z\addons\dayz_code\actions\fill_startGenerator.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
};
};
};
} else {
player removeAction s_player_fillgen;
s_player_fillgen = -1;
};
 
//Towing with tow truck
/*
if(_typeOfCursorTarget == &quot;TOW_DZE&quot;) then {
if (s_player_towing &lt; 0) then {
if(!(_cursorTarget getVariable [&quot;DZEinTow&quot;, false])) then {
s_player_towing = player addAction [localize &quot;STR_EPOCH_ACTIONS_ATTACH&quot; &quot;\z\addons\dayz_code\actions\tow_AttachStraps.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;]; 
} else {
s_player_towing = player addAction [localize &quot;STR_EPOCH_ACTIONS_DETACH&quot;, &quot;\z\addons\dayz_code\actions\tow_DetachStraps.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;]; 
};
};
} else {
player removeAction s_player_towing;
s_player_towing = -1;
};
*/
 
 
    //Sleep
if(_isTent &amp;&amp; _ownerID == _playerUID) then {
if ((s_player_sleep &lt; 0) &amp;&amp; (player distance _cursorTarget &lt; 3)) then {
s_player_sleep = player addAction [localize &quot;str_actions_self_sleep&quot;, &quot;\z\addons\dayz_code\actions\player_sleep.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_sleep;
s_player_sleep = -1;
};
 
//Repairing Vehicles
if ((dayz_myCursorTarget != _cursorTarget) &amp;&amp; _isVehicle &amp;&amp; !_isMan &amp;&amp; _hasToolbox &amp;&amp; (damage _cursorTarget &lt; 1) &amp;&amp; !_isDisallowRepair) then {
if (s_player_repair_crtl &lt; 0) then {
dayz_myCursorTarget = _cursorTarget;
_menu = dayz_myCursorTarget addAction [localize &quot;STR_EPOCH_PLAYER_REPAIRV&quot;, &quot;\z\addons\dayz_code\actions\repair_vehicle.sqf&quot;,_cursorTarget, 0, true, false, &quot;&quot;,&quot;&quot;];
_menu1 = dayz_myCursorTarget addAction [localize &quot;STR_EPOCH_PLAYER_SALVAGEV&quot;, &quot;\z\addons\dayz_code\actions\salvage_vehicle.sqf&quot;,_cursorTarget, 0, true, false, &quot;&quot;,&quot;&quot;];
s_player_repairActions set [count s_player_repairActions,_menu];
s_player_repairActions set [count s_player_repairActions,_menu1];
s_player_repair_crtl = 1;
} else {
{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];
s_player_repair_crtl = -1;
};
};
 
//Pack Vehicles
if (_typeOfCursorTarget in EVDVehicleArray and _hasToolbox and !(locked _cursorTarget) and (damage _cursorTarget &lt; 1)) then {
if (s_player_packvehicle &lt; 0) then {
s_player_packvehicle = player addAction [&quot;Pack Vehicle&quot;, &quot;Scripts\Modified\EVD\EVD_pack.sqf&quot;,_cursorTarget, 0, false, true, &quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_packvehicle;
s_player_packvehicle = -1;
};
 
 
// All Traders
if (_isMan &amp;&amp; !_isPZombie &amp;&amp; _traderType in serverTraders) then {
 
if (s_player_parts_crtl &lt; 0) then {
 
// get humanity
_humanity = player getVariable [&quot;humanity&quot;,0];
_traderMenu = call compile format[&quot;menu_%1;&quot;,_traderType];
 
// diag_log (&quot;TRADER = &quot; + str(_traderMenu));
 
_low_high = &quot;low&quot;;
_humanity_logic = false;
if((_traderMenu select 2) == &quot;friendly&quot;) then {
_humanity_logic = (_humanity &lt; -5000);
};
if((_traderMenu select 2) == &quot;hostile&quot;) then {
_low_high = &quot;high&quot;;
_humanity_logic = (_humanity &gt; -5000);
};
if((_traderMenu select 2) == &quot;hero&quot;) then {
_humanity_logic = (_humanity &lt; 5000);
};
if(_humanity_logic) then {
_cancel = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_HUMANITY&quot;,_low_high], &quot;\z\addons\dayz_code\actions\trade_cancel.sqf&quot;,[&quot;na&quot;], 0, true, false, &quot;&quot;,&quot;&quot;];
s_player_parts set [count s_player_parts,_cancel];
} else {
 
// Static Menu
{
//diag_log format[&quot;DEBUG TRADER: %1&quot;, _x];
_buy = player addAction [format[&quot;Trade %1 %2 for %3 %4&quot;,(_x select 3),(_x select 5),(_x select 2),(_x select 6)], &quot;\z\addons\dayz_code\actions\trade_items_wo_db.sqf&quot;,[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, &quot;&quot;,&quot;&quot;];
s_player_parts set [count s_player_parts,_buy];
 
} count (_traderMenu select 1);
_buyV = player addAction [&quot;&lt;t color='#0059FF'&gt;Advanced Trading&lt;/t&gt;&quot;, &quot;Traders\advancedTrading\init.sqf&quot;,(_traderMenu select 0), 999, true, false, &quot;&quot;,&quot;&quot;];
s_player_parts set [count s_player_parts,_buyV];
// Database menu
_buy = player addAction [localize &quot;STR_EPOCH_PLAYER_289&quot;, &quot;\z\addons\dayz_code\actions\show_dialog.sqf&quot;,(_traderMenu select 0), 999, true, false, &quot;&quot;,&quot;&quot;];
s_player_parts set [count s_player_parts,_buy];
 
};
s_player_parts_crtl = 1;
 
};
} else {
{player removeAction _x} count s_player_parts;s_player_parts = [];
s_player_parts_crtl = -1;
};
 
 
if(dayz_tameDogs) then {
 
//Dog
if (_isDog &amp;&amp; _isAlive &amp;&amp; (_hasRawMeat) &amp;&amp; _characterID == &quot;0&quot; &amp;&amp; player getVariable [&quot;dogID&quot;, 0] == 0) then {
if (s_player_tamedog &lt; 0) then {
s_player_tamedog = player addAction [localize &quot;str_actions_tamedog&quot;, &quot;\z\addons\dayz_code\actions\tame_dog.sqf&quot;, _cursorTarget, 1, false, true, &quot;&quot;, &quot;&quot;];
};
} else {
player removeAction s_player_tamedog;
s_player_tamedog = -1;
};
if (_isDog &amp;&amp; _characterID == dayz_characterID &amp;&amp; _isAlive) then {
_dogHandle = player getVariable [&quot;dogID&quot;, 0];
if (s_player_feeddog &lt; 0 &amp;&amp; _hasRawMeat) then {
s_player_feeddog = player addAction [localize &quot;str_actions_feeddog&quot;,&quot;\z\addons\dayz_code\actions\dog\feed.sqf&quot;,[_dogHandle,0], 0, false, true,&quot;&quot;,&quot;&quot;];
};
if (s_player_waterdog &lt; 0 &amp;&amp; &quot;ItemWaterbottle&quot; in _magazinesPlayer) then {
s_player_waterdog = player addAction [localize &quot;str_actions_waterdog&quot;,&quot;\z\addons\dayz_code\actions\dog\feed.sqf&quot;,[_dogHandle,1], 0, false, true,&quot;&quot;,&quot;&quot;];
};
if (s_player_staydog &lt; 0) then {
_lieDown = _dogHandle getFSMVariable &quot;_actionLieDown&quot;;
if (_lieDown) then { _text = &quot;str_actions_liedog&quot;; } else { _text = &quot;str_actions_sitdog&quot;; };
s_player_staydog = player addAction [localize _text,&quot;\z\addons\dayz_code\actions\dog\stay.sqf&quot;, _dogHandle, 5, false, true,&quot;&quot;,&quot;&quot;];
};
if (s_player_trackdog &lt; 0) then {
s_player_trackdog = player addAction [localize &quot;str_actions_trackdog&quot;,&quot;\z\addons\dayz_code\actions\dog\track.sqf&quot;, _dogHandle, 4, false, true,&quot;&quot;,&quot;&quot;];
};
if (s_player_barkdog &lt; 0) then {
s_player_barkdog = player addAction [localize &quot;str_actions_barkdog&quot;,&quot;\z\addons\dayz_code\actions\dog\speak.sqf&quot;, _cursorTarget, 3, false, true,&quot;&quot;,&quot;&quot;];
};
if (s_player_warndog &lt; 0) then {
_warn = _dogHandle getFSMVariable &quot;_watchDog&quot;;
if (_warn) then { _text = (localize &quot;str_epoch_player_247&quot;); _warn = false; } else { _text = (localize &quot;str_epoch_player_248&quot;); _warn = true; };
s_player_warndog = player addAction [format[localize &quot;str_actions_warndog&quot;,_text],&quot;\z\addons\dayz_code\actions\dog\warn.sqf&quot;,[_dogHandle, _warn], 2, false, true,&quot;&quot;,&quot;&quot;]; 
};
if (s_player_followdog &lt; 0) then {
s_player_followdog = player addAction [localize &quot;str_actions_followdog&quot;,&quot;\z\addons\dayz_code\actions\dog\follow.sqf&quot;,[_dogHandle,true], 6, false, true,&quot;&quot;,&quot;&quot;];
};
} else {
player removeAction s_player_feeddog;
s_player_feeddog = -1;
player removeAction s_player_waterdog;
s_player_waterdog = -1;
player removeAction s_player_staydog;
s_player_staydog = -1;
player removeAction s_player_trackdog;
s_player_trackdog = -1;
player removeAction s_player_barkdog;
s_player_barkdog = -1;
player removeAction s_player_warndog;
s_player_warndog = -1;
player removeAction s_player_followdog;
s_player_followdog = -1;
player removeAction s_player_manageDoor;
s_player_manageDoor = -1; // u might also want to add this to variables reset in your variables.sqf
};
};
 
} else {
//Engineering
player removeAction s_player_plotManagement;
s_player_plotManagement = -1;
{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];
s_player_repair_crtl = -1;
 
{player removeAction _x} count s_player_combi;s_player_combi = [];
 
dayz_myCursorTarget = objNull;
s_player_lastTarget = [objNull,objNull,objNull,objNull,objNull];
 
{player removeAction _x} count s_player_parts;s_player_parts = [];
s_player_parts_crtl = -1;
 
{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];
s_player_lockUnlock_crtl = -1;
 
player removeAction s_player_checkGear;
s_player_checkGear = -1;
 
player removeAction s_player_SurrenderedGear;
s_player_SurrenderedGear = -1;
 
//Others
player removeAction s_player_maintain_area; 
s_player_maintain_area = -1; 
player removeAction s_player_maintain_area_preview; 
s_player_maintain_area_preview = -1; 
player removeAction s_player_plot_boundary_on; 
s_player_plot_boundary_on = -1; 
player removeAction s_player_plot_boundary_off; 
s_player_plot_boundary_off = -1; 
player removeAction s_player_plot_take_ownership; 
s_player_plot_take_ownership = -1;
player removeAction s_player_forceSave;
s_player_forceSave = -1;
player removeAction s_player_flipveh;
s_player_flipveh = -1;
player removeAction s_player_sleep;
s_player_sleep = -1;
player removeAction s_player_deleteBuild;
s_player_deleteBuild = -1;
player removeAction s_player_butcher;
s_player_butcher = -1;
player removeAction s_player_cook;
s_player_cook = -1;
player removeAction s_player_boil;
s_player_boil = -1;
player removeAction s_player_fireout;
s_player_fireout = -1;
player removeAction s_player_packtent;
s_player_packtent = -1;
player removeAction s_player_fillfuel;
s_player_fillfuel = -1;
player removeAction s_player_studybody;
s_player_studybody = -1;
//remove clothes
player removeAction s_clothes;
s_clothes = -1;
//Dog
player removeAction s_player_tamedog;
s_player_tamedog = -1;
player removeAction s_player_feeddog;
s_player_feeddog = -1;
player removeAction s_player_waterdog;
s_player_waterdog = -1;
player removeAction s_player_staydog;
s_player_staydog = -1;
player removeAction s_player_trackdog;
s_player_trackdog = -1;
player removeAction s_player_barkdog;
s_player_barkdog = -1;
player removeAction s_player_warndog;
s_player_warndog = -1;
player removeAction s_player_followdog;
s_player_followdog = -1;
    
    // vault
player removeAction s_player_unlockvault;
s_player_unlockvault = -1;
player removeAction s_player_packvault;
s_player_packvault = -1;
player removeAction s_player_lockvault;
s_player_lockvault = -1;
 
player removeAction s_player_information;
s_player_information = -1;
player removeAction s_player_fillgen;
s_player_fillgen = -1;
player removeAction s_player_upgrade_build;
s_player_upgrade_build = -1;
player removeAction s_player_maint_build;
s_player_maint_build = -1;
player removeAction s_player_downgrade_build;
s_player_downgrade_build = -1;
player removeAction s_player_towing;
s_player_towing = -1;
player removeAction s_player_fuelauto;
s_player_fuelauto = -1;
player removeAction s_player_fuelauto2;
s_player_fuelauto2 = -1;
player removeAction s_givemoney_dialog;
s_givemoney_dialog = -1;
player removeAction s_bank_dialog;
s_bank_dialog = -1;
player removeAction s_bank_dialog2;
s_bank_dialog2 = -1;
};
 
 
 
//Dog actions on player self
_dogHandle = player getVariable [&quot;dogID&quot;, 0];
if (_dogHandle &gt; 0) then {
_dog = _dogHandle getFSMVariable &quot;_dog&quot;;
_characterID = &quot;0&quot;;
if (!isNull cursorTarget) then { _characterID = cursorTarget getVariable [&quot;CharacterID&quot;,&quot;0&quot;]; };
if (_canDo &amp;&amp; !_inVehicle &amp;&amp; alive _dog &amp;&amp; _characterID != dayz_characterID) then {
if (s_player_movedog &lt; 0) then {
s_player_movedog = player addAction [localize &quot;str_actions_movedog&quot;, &quot;\z\addons\dayz_code\actions\dog\move.sqf&quot;, player getVariable [&quot;dogID&quot;, 0], 1, false, true, &quot;&quot;, &quot;&quot;];
};
if (s_player_speeddog &lt; 0) then {
_text = (localize &quot;str_epoch_player_249&quot;);
_speed = 0;
if (_dog getVariable [&quot;currentSpeed&quot;,1] == 0) then { _speed = 1; _text = (localize &quot;str_epoch_player_250&quot;); };
s_player_speeddog = player addAction [format[localize &quot;str_actions_speeddog&quot;, _text], &quot;\z\addons\dayz_code\actions\dog\speed.sqf&quot;,[player getVariable [&quot;dogID&quot;, 0],_speed], 0, false, true, &quot;&quot;, &quot;&quot;];
};
if (s_player_calldog &lt; 0) then {
s_player_calldog = player addAction [localize &quot;str_actions_calldog&quot;, &quot;\z\addons\dayz_code\actions\dog\follow.sqf&quot;, [player getVariable [&quot;dogID&quot;, 0], true], 2, false, true, &quot;&quot;, &quot;&quot;];
};
};
} else {
player removeAction s_player_movedog; 
s_player_movedog = -1;
player removeAction s_player_speeddog;
s_player_speeddog = -1;
player removeAction s_player_calldog;
s_player_calldog =  -1;
};
 
if((typeOf cursorTarget == &quot;krepost&quot;) and (player distance cursorTarget &lt; 23)) then {
   if (str1 &lt; 0) then {
     if ((cursorTarget getVariable [&quot;CharacterID&quot;,&quot;0&quot;] == dayz_combination) or (cursorTarget getVariable [&quot;CharacterID&quot;,&quot;0&quot;] == dayz_playerUID)) then {
       str1 = player addAction [format[ &quot;Open %1&quot;,getText (configFile &gt;&gt; &quot;CfgVehicles&quot; &gt;&gt; typeOf cursorTarget &gt;&gt; &quot;displayName&quot;)], &quot;Scripts\Credited\build\stronghold\s_open.sqf&quot;,cursorTarget, 0, false, true];
       str2 = player addAction [format[ &quot;Open interior doors&quot;,_text], &quot;custom\build\stronghold\s_openall.sqf&quot;,_cursorTarget, 0, false, true];
       str3 = player addAction [format[ &quot;Close interior doors&quot;,_text], &quot;custom\build\stronghold\s_closeall.sqf&quot;,_cursorTarget, 0, false, true];
       str4 = player addAction [format[ &quot;Lock %1&quot;,getText (configFile &gt;&gt; &quot;CfgVehicles&quot; &gt;&gt; typeOf cursorTarget &gt;&gt; &quot;displayName&quot;)], &quot;Scripts\Credited\build\stronghold\s_lock.sqf&quot;,_cursorTarget, 0, false, true];
  _open set [count _open,5];
     } else {
       str1 = player addAction [format[&quot;Unlock %1&quot;,getText (configFile &gt;&gt; &quot;CfgVehicles&quot; &gt;&gt; typeOf cursorTarget &gt;&gt; &quot;displayName&quot;)], &quot;Scripts\Credited\build\stronghold\s_unlock.sqf&quot;,cursorTarget, 0, false, true];
   _open set [count _open,1];
     };
   };
} else {
   player removeAction str1;
   str1 = -1;
   player removeAction str2;
   str2 = -1;
   player removeAction str3;
   str3 = -1;
   player removeAction str4;
   str4 = -1;
};


 
 
" data-websharetitle="Please help, SelfActions Error" data-webshareurl="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202533">More sharing options...</button>
</div>
</div>
</div>
</article>
</div>
<div class="ipsSpacer_both">
<div class="ipsBox ipsResponsive_pull ipsMargin_bottom">
<h2 class="ipsType_sectionTitle ipsType_reset ipsHide">1 answer to this question</h2>
<div class="ipsPadding:half ipsClearfix">
<ul class="ipsPos_right ipsButtonRow ipsClearfix sm:ipsMargin_bottom:half">
<li>
<a class="ipsButtonRow_active" href="index.html" id="elSortBy_answers">Sort by votes</a>
</li>
<li>
<a href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?sortby=date" id="elSortBy_date">Sort by date</a>
</li>
</ul>
</div>
</div>
</div>
<div class="ipsRecommendedComments ipsHide" data-controller="core.front.core.recommendedComments" data-url="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?recommended=comments">
<div data-role="recommendedComments">
<h2 class="ipsType_sectionHead ipsType_large ipsType_bold ipsMargin_bottom">Recommended Posts</h2>
</div>
</div>
<div data-controller="core.front.core.moderation" data-role="commentFeed" id="elPostFeed">
<form action="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?csrfKey=bbd96aef55be1a90d685e56a4524d73a&amp;do=multimodComment" data-ipspageaction="" data-role="moderationTools" method="post">
<a id="comment-202534"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_202534">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">
<img alt="thenutsoframbo" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%23c49662%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3ET%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<a href="https://epochmod.com/forum/profile/26925-thenutsoframbo/badges/" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F32046-please-help-selfactions-error%252F" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile"><span style="color:#">thenutsoframbo</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202534" rel="nofollow">Posted <time data-short="10 yr" datetime="2015-02-03T01:29:31Z" title="02/03/15 01:29  AM">February 3, 2015</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F32046-please-help-selfactions-error%252F" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">thenutsoframbo</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/26925-thenutsoframbo/?do=hovercard" data-ipshover-width="370" href="../../profile/26925-thenutsoframbo/index.html" rel="nofollow" title="Go to thenutsoframbo's profile">
<img alt="thenutsoframbo" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%23c49662%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3ET%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="https://epochmod.com/forum/profile/26925-thenutsoframbo/content/" rel="nofollow" title="16 posts">
<i class="fa fa-comment"></i> 16
							
								</a>
</li>
</ul>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="202534" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":26925,"username":"thenutsoframbo","timestamp":1422926971,"contentapp":"forums","contenttype":"forums","contentid":32046,"contentclass":"forums_Topic","contentcommentid":202534}' id="comment-202534_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
<li><strong class="ipsBadge ipsBadge_large ipsComment_authorBadge">Author</strong></li>
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-202534_wrap" href="#elControls_202534_menu" id="elControls_202534" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_202534_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=reportComment&amp;comment=202534" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_202534_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202534" id="elSharePost_202534" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202534" rel="nofollow">Posted <time data-short="10 yr" datetime="2015-02-03T01:29:31Z" title="02/03/15 01:29  AM">February 3, 2015</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>I'm willing to pay, if someone can figure out the problem with the code. You can join me at ts.brainlessgaming.com</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_202534_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202534"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F%3Fdo%3DfindComment%26comment%3D202534" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F%3Fdo%3DfindComment%26comment%3D202534" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F%3Fdo%3DfindComment%26comment%3D202534&amp;title=Please+help%2C+SelfActions+Error" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment%26comment=202534&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="I'm willing to pay, if someone can figure out the problem with the code. You can join me at ts.brainlessgaming.com 
" data-websharetitle="Please help, SelfActions Error" data-webshareurl="https://epochmod.com/forum/topic/32046-please-help-selfactions-error/?do=findComment&amp;comment=202534">More sharing options...</button>
</div>
</div>
</div>
</article>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a">
</input></form>
</div>
<a id="replyForm"></a>
<div class="cTopicPostArea ipsBox ipsResponsive_pull ipsPadding cTopicPostArea_noSize ipsSpacer_top" data-role="replyArea">
<div>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<div class="ipsType_center ipsPad">
<h2 class="ipsType_pageTitle">Please sign in to comment</h2>
<p class="ipsType_light ipsType_normal ipsType_reset ipsSpacer_top ipsSpacer_half">You will be able to leave a comment after signing in</p>
<br/>
<br/>
<a class="ipsButton ipsButton_alternate ipsButton_large" data-ipsdialog="" data-ipsdialog-remoteverify="false" data-ipsdialog-size="medium" data-ipsdialog-title="Sign In Now" href="https://epochmod.com/forum/login/?ref=aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy8zMjA0Ni1wbGVhc2UtaGVscC1zZWxmYWN0aW9ucy1lcnJvci8jcmVwbHlGb3Jt">Sign In Now</a>
</div>
</div>
</div>
<div class="ipsBox ipsPadding ipsResponsive_pull ipsResponsive_showPhone ipsMargin_top">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span>  Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F32046-please-help-selfactions-error%2F&amp;title=Please+help%2C+SelfActions+Error" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/32046-please-help-selfactions-error/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Please help, SelfActions Error" data-websharetitle="Please help, SelfActions Error" data-webshareurl="index.html">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="32046">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall ipsButton_disabled" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">0</span>
</a>
</div>
</div>
</div>
</div>
<div class="ipsPager ipsSpacer_top">
<div class="ipsPager_prev">
<a href="../../forum/35-scripting/index.html" rel="parent" title="Go to Scripting">
<span class="ipsPager_type">Go to question listing</span>
</a>
</div>
</div>
<div class="cWidgetContainer" data-orientation="horizontal" data-role="widgetReceiver" data-widgetarea="footer">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_horizontal ipsBox ipsWidgetHide ipsHide" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_core_relatedContent_sido2emh4" data-blocktitle="Similar Content" data-controller="core.front.widgets.block"></li>
<li class="ipsWidget ipsWidget_horizontal ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Blocks_mtkskjhzs" data-blocktitle="Custom Blocks" data-controller="core.front.widgets.block">
Advertisement


</li>
</ul>
</div>
</div>
<div class="ipsLayout_sidebarright" data-controller="core.front.widgets.sidebar" id="ipsLayout_sidebar">
<div class="cWidgetContainer" data-orientation="vertical" data-role="widgetReceiver" data-widgetarea="sidebar">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_vertical ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Wysiwyg_hbjjvq53w" data-blocktitle="WYSIWYG Editor" data-controller="core.front.widgets.block">
<div class="ipsWidget_inner ipsPad ipsType_richText" data-controller="core.front.core.lightboxedImages">
<p>
<a href="https://discord.gg/0k4ynDDCsnMzkxk7" rel="external nofollow" style="color:inherit;"><img alt="Discord" src="http://i.imgur.com/hFgq3Rt.png" style="width:300px;height:auto;"/></a>
</p>
</div>
</li>
</ul>
</div>
</div>
<nav class="ipsBreadcrumb ipsBreadcrumb_bottom ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/96-qa-section/index.html">
<span>Q&amp;A Section <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/35-scripting/index.html">
<span>Scripting <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Please help, SelfActions Error
				
			</li>
</ul>
</nav>
</div>
</div>
</main>
<footer class="ipsClearfix" id="ipsLayout_footer">
<div class="ipsLayout_container">
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterSocialLinks">
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_facebook" href="https://facebook.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-facebook"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_twitter" href="https://twitter.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-twitter"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_github" href="https://github.com/EpochModTeam/" rel="noopener noreferrer" target="_blank"><i class="fa fa-github"></i></a>
</li>
</ul>
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterLinks">
<li><a data-ipsdialog="" data-ipsdialog-flashmessage="Thanks, your message has been sent to the administrators." data-ipsdialog-remotesubmit="" data-ipsdialog-title="Contact Us" href="https://epochmod.com/forum/contact/" rel="nofollow">Contact Us</a></li>
</ul>
<p id="elCopyright">
<span id="elCopyright_userLine">Copyright © 2019 Epoch Mod Team</span>
<a href="https://www.invisioncommunity.com/" rel="nofollow" title="Invision Community">Powered by Invision Community</a>
</p>
</div>
</footer>
<div class="ipsDrawer ipsHide" id="elMobileDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>×</span></a>
<div class="ipsDrawer_content ipsFlex ipsFlex-fd:column">
<div class="ipsPadding ipsBorder_bottom">
<ul class="ipsToolList ipsToolList_vertical">
<li>
<a class="ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth" href="https://epochmod.com/forum/login/" id="elSigninButton_mobile">Existing user? Sign In</a>
</li>
</ul>
</div>
<ul class="ipsDrawer_list ipsFlex-flex:11">
<li><a href="http://epochmod.com/">Home</a></li>
<li><a href="https://epochmod.com/forum/projects/">Downloads</a></li>
<li><a href="../../index.html">Forums</a></li>
<li><a href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">Wiki</a></li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Browse</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/staff/">
					Staff
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/online/">
					Online Users
				</a>
</li>
</ul>
</li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Activity</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/discover/">
					All Activity
				</a>
</li>
<li>
<a href="#">
					My Activity Streams
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/unread/">
					Unread Content
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/content-started/">
					Content I Started
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/search/">
					Search
				</a>
</li>
</ul>
</li>
<li><a href="https://epochmod.com/forum/leaderboard/">Leaderboard</a></li>
</ul>
</div>
</div>
</div>
<div class="ipsDrawer ipsHide" id="elMobileCreateMenuDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>×</span></a>
<div class="ipsDrawer_content ipsSpacer_bottom ipsPad">
<ul class="ipsDrawer_list">
<li class="ipsDrawer_listTitle ipsType_reset">Create New...</li>
</ul>
</div>
</div>
</div>
<script type="text/javascript">
		var ipsDebug = false;		
	
		var CKEDITOR_BASEPATH = 'http://epochmod.com/forum/applications/core/interface/ckeditor/ckeditor/';
	
		var ipsSettings = {
			
			
			cookie_path: "/forum/",
			
			cookie_prefix: "ips4_",
			
			
			cookie_ssl: true,
			
			upload_imgURL: "",
			message_imgURL: "",
			notification_imgURL: "",
			baseURL: "//epochmod.com/forum/",
			jsURL: "//epochmod.com/forum/applications/core/interface/js/js.php",
			csrfKey: "bbd96aef55be1a90d685e56a4524d73a",
			antiCache: "7f6edac1d51681449780",
			jsAntiCache: "7f6edac1d51727923486",
			disableNotificationSounds: true,
			useCompiledFiles: true,
			links_external: true,
			memberID: 0,
			lazyLoadEnabled: true,
			blankImg: "//epochmod.com/forum/applications/core/interface/js/spacer.png",
			googleAnalyticsEnabled: true,
			matomoEnabled: false,
			viewProfiles: true,
			mapProvider: 'none',
			mapApiKey: '',
			pushPublicKey: "BLY90A45HZZHrwnCKz6BVlOhu0SsCnzllubxC73QTZM5sfEOds9DfPrBRijrqkg_Tm4PSeJkPCuKkWiWNi4sOC4",
			relativeDates: true
		};
		
		
		
		
			ipsSettings['maxImageDimensions'] = {
				width: 1000,
				height: 750
			};
		
		
	</script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_library.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_js_lang_1.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_framework.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/global_global_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_front.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/front_front_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_forums/front_front_topic.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_map.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script type="text/javascript">
		
			ips.setSetting( 'date_format', jQuery.parseJSON('"mm\/dd\/yy"') );
		
			ips.setSetting( 'date_first_day', jQuery.parseJSON('0') );
		
			ips.setSetting( 'ipb_url_filter_option', jQuery.parseJSON('"none"') );
		
			ips.setSetting( 'url_filter_any_action', jQuery.parseJSON('"allow"') );
		
			ips.setSetting( 'bypass_profanity', jQuery.parseJSON('0') );
		
			ips.setSetting( 'emoji_style', jQuery.parseJSON('"native"') );
		
			ips.setSetting( 'emoji_shortcodes', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_ascii', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_cache', jQuery.parseJSON('1681342651') );
		
			ips.setSetting( 'image_jpg_quality', jQuery.parseJSON('75') );
		
			ips.setSetting( 'cloud2', jQuery.parseJSON('false') );
		
			ips.setSetting( 'isAnonymous', jQuery.parseJSON('false') );
		
		
	</script>
<script type="application/ld+json">
{
    "name": "Please help, SelfActions Error",
    "headline": "Please help, SelfActions Error",
    "text": "This is the error that I\u0027m getting, and it\u0027s random EVERY time I build an object, I have Snap Pro, and A plot for life installed. In game when i join it doesnt work, but if I relog I can place objects but snap pro doesnt work. I\u0027ve tried re-installing it 10\u0027s of times.I think its an error in my self actions.\n\nError in expression \u0026lt;er_studybody = -1;\n\u00a0\nplayer removeAction s_clothes;\ns_clothes = -1;\n\u00a0\nplayer remov\u0026gt;\n\u00a0 Error position: \u0026lt;s_clothes;\ns_clothes = -1;\n\u00a0\nplayer remov\u0026gt;\n\u00a0 Error Undefined variable in expression: s_clothes\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 1141\nError in expression \u0026lt;,1];\n};\n};\n} else {\nplayer removeAction str1;\nstr1 = -1;\nplayer removeAction str\u0026gt;\n\u00a0 Error position: \u0026lt;str1;\nstr1 = -1;\nplayer removeAction str\u0026gt;\n\u00a0 Error Undefined variable in expression: str1\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 1238\nError in expression \u0026lt;false];\n};\n} else {\nplayer removeAction s_player_manageDoor;\ns_player_manageDoor\u0026gt;\n\u00a0 Error position: \u0026lt;s_player_manageDoor;\ns_player_manageDoor\u0026gt;\n\u00a0 Error Undefined variable in expression: s_player_managedoor\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 715\nError in expression \u0026lt;\"\",\"\"];\n};\n} else {\nplayer removeAction s_player_packvehicle;\ns_player_packvehic\u0026gt;\n\u00a0 Error position: \u0026lt;s_player_packvehicle;\ns_player_packvehic\u0026gt;\n\u00a0 Error Undefined variable in expression: s_player_packvehicle\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 969\n\n\u00a0\n\n\nscriptName \"Functions\\misc\\fn_selfActions.sqf\";\n/***********************************************************\nADD ACTIONS FOR SELF\n- Function\n- [] call fnc_usec_selfActions;\n************************************************************/\nprivate [\"_isWreckBuilding\",\"_temp_keys\",\"_magazinesPlayer\",\"_isPZombie\",\"_vehicle\",\"_inVehicle\",\"_hasFuelE\",\"_hasRawMeat\",\"_hasKnife\",\"_hasToolbox\",\"_onLadder\",\"_nearLight\",\"_canPickLight\",\"_canDo\",\"_text\",\"_isHarvested\",\"_isVehicle\",\"_isVehicletype\",\"_isMan\",\"_traderType\",\"_ownerID\",\"_isAnimal\",\"_isDog\",\"_isZombie\",\"_isDestructable\",\"_isTent\",\"_isFuel\",\"_isAlive\",\"_Unlock\",\"_lock\",\"_buy\",\"_dogHandle\",\"_lieDown\",\"_warn\",\"_hastinitem\",\"_allowedDistance\",\"_menu\",\"_menu1\",\"_humanity_logic\",\"_low_high\",\"_cancel\",\"_metals_trader\",\"_traderMenu\",\"_isWreck\",\"_isRemovable\",\"_isDisallowRepair\",\"_rawmeat\",\"_humanity\",\"_speed\",\"_dog\",\"_hasbottleitem\",\"_isAir\",\"_isShip\",\"_playersNear\",\"_findNearestGens\",\"_findNearestGen\",\"_IsNearRunningGen\",\"_cursorTarget\",\"_isnewstorage\",\"_itemsPlayer\",\"_ownerKeyId\",\"_typeOfCursorTarget\",\"_hasKey\",\"_oldOwner\",\"_combi\",\"_key_colors\",\"_player_deleteBuild\",\"_player_flipveh\",\"_player_lockUnlock_crtl\",\"_player_butcher\",\"_player_studybody\",\"_player_cook\",\"_player_boil\",\"_hasFuelBarrelE\",\"_hasHotwireKit\",\"_player_SurrenderedGear\",\"_isSurrendered\",\"_isModular\",\"_isModularDoor\",\"_ownerKeyName\",\"_temp_keys_names\",\"_hasAttached\",\"_allowTow\",\"_liftHeli\",\"_found\",\"_posL\",\"_posC\",\"_height\",\"_liftHelis\",\"_attached\",\"_playerUID\",\"_characterID\",\"_plotDistance\",\"_PlotsNear\", \"_classname\",\"_isowner\"];\n\u00a0\nif (DZE_ActionInProgress) exitWith {}; // Do not allow if any script is running.\n\u00a0\n_origins_buildings = [\"Uroven1DrevenaBudka\", \"Uroven2KladaDomek\", \"Uroven3DrevenyDomek\", \"Uroven1VelkaBudka\", \"Uroven2MalyDomek\", \"Uroven3VelkyDomek\", \"malaGaraz\", \"velkaGaraz\", \"kingramida\", \"ori_safe\",\"krepost\"];\n_vehicle = vehicle player;\n_isPZombie = player isKindOf \"PZombie_VB\";\n_inVehicle = (_vehicle != player);\n\u00a0\n_onLadder = (getNumber (configFile \u0026gt;\u0026gt; \"CfgMovesMaleSdr\" \u0026gt;\u0026gt; \"States\" \u0026gt;\u0026gt; (animationState player) \u0026gt;\u0026gt; \"onLadder\")) == 1;\n_canDo = (!r_drag_sqf \u0026amp;\u0026amp; !r_player_unconscious \u0026amp;\u0026amp; !_onLadder);\n\u00a0\n_nearLight =  nearestObject [player,\"LitObject\"];\n_canPickLight = false;\nif (!isNull _nearLight) then {\nif (_nearLight distance player \u0026lt; 4) then {\n_canPickLight = isNull (_nearLight getVariable [\"owner\",objNull]);\n};\n};\n\u00a0\n//Grab Flare\nif (_canPickLight \u0026amp;\u0026amp; !dayz_hasLight \u0026amp;\u0026amp; !_isPZombie) then {\nif (s_player_grabflare \u0026lt; 0) then {\n_text = getText (configFile \u0026gt;\u0026gt; \"CfgAmmo\" \u0026gt;\u0026gt; (typeOf _nearLight) \u0026gt;\u0026gt; \"displayName\");\ns_player_grabflare = player addAction [format[localize \"str_actions_medical_15\",_text], \"\\z\\addons\\dayz_code\\actions\\flare_pickup.sqf\",_nearLight, 1, false, true, \"\", \"\"];\ns_player_removeflare = player addAction [format[localize \"str_actions_medical_17\",_text], \"\\z\\addons\\dayz_code\\actions\\flare_remove.sqf\",_nearLight, 1, false, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_grabflare;\nplayer removeAction s_player_removeflare;\ns_player_grabflare = -1;\ns_player_removeflare = -1;\n};\n//OriginsDoors\nif(isNil \"s_player_openhouse\") then {\n\u00a0 \u00a0 \u00a0 \u00a0 s_player_openhouse = -1;\n};\nif(isNil \"HouseState\") then {\nHouseState = 0;\n};\nif(isNil \"GarageState\") then {\nGarageState = 0;\n};\nif(isNil \"s_player_opengarage\") then {\ns_player_opengarage = -1;\n};\n_houses = [\"Uroven1DrevenaBudka\", \"Uroven2KladaDomek\", \"Uroven3DrevenyDomek\", \"Uroven1VelkaBudka\", \"Uroven2MalyDomek\", \"Uroven3VelkyDomek\"];\n_garages = [\"malaGaraz\", \"velkaGaraz\",\"Uroven3DrevenyDomek\",\"Uroven3VelkyDomek\",\"kingramida\"];\n\u00a0 \u00a0 \u00a0 \u00a0 DoorToOpen = objnull;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _obj = player;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _cursorTarget = cursorTarget;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (!isNull _cursorTarget) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (player distance _cursorTarget \u0026lt; 10) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _ownerID = _cursorTarget getVariable[\u0027CharacterID\u0027,\u00270\u0027];\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (getPlayerUIDOld player == _ownerID) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 DoorToOpen = _cursorTarget;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (s_player_openhouse \u0026lt; 0) then {\nif(typeOf(DoorToOpen) in _houses) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"Uroven1DrevenaBudka\") then { _OpenClose = \u0027Unlock Bandit Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2KladaDomek\") then { _OpenClose = \u0027Unlock Bandit Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Unlock Bandit Level 3 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven1VelkaBudka\") then { _OpenClose = \u0027Unlock Hero Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2MalyDomek\") then { _OpenClose = \u0027Unlock Hero Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Unlock Hero Level 3 House\u0027;};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (HouseState == 1) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"Uroven1DrevenaBudka\") then { _OpenClose = \u0027Lock Bandit Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2KladaDomek\") then { _OpenClose = \u0027Lock Bandit Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Lock Bandit Level 3 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven1VelkaBudka\") then { _OpenClose = \u0027Lock Hero Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2MalyDomek\") then { _OpenClose = \u0027Lock Hero Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Lock Hero Level 3 House\u0027;};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 s_player_openhouse = player addAction [_OpenClose, \u0027Scripts\\Credited\\build\\originsHouses.sqf\u0027];\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\nif (s_player_opengarage \u0026lt; 0) then\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\nif(typeOf(DoorToOpen) in _garages) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"malaGaraz\") then { _OpenClose = \u0027Unlock Small Garage\u0027;};\nif (_cursorTarget isKindOf \"velkaGaraz\") then { _OpenClose = \u0027Unlock Large Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Unlock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Unlock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"kingramida\") then { _OpenClose = \u0027Unlock Pyramid\u0027;};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (GarageState == 1) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"malaGaraz\") then { _OpenClose = \u0027Lock Small Garage\u0027;};\nif (_cursorTarget isKindOf \"velkaGaraz\") then { _OpenClose = \u0027Lock Large Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Lock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Lock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"kingramida\") then { _OpenClose = \u0027Lock Pyramid\u0027;};\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 s_player_opengarage = player addAction [_OpenClose, \u0027Scripts\\Credited\\build\\originsGarages.sqf\u0027];\n};\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if ((_obj != player) || (_cursorTarget != cursorTarget)) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _obj removeAction s_player_openhouse;\n_obj removeAction s_player_opengarage;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_openhouse = -1;\ns_player_opengarage = -1;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0\n\u00a0 \u00a0 \u00a0 \u00a0\nif (DZE_HeliLift) then {\n_hasAttached = _vehicle getVariable[\"hasAttached\",false];\nif(_inVehicle \u0026amp;\u0026amp; (_vehicle isKindOf \"Air\") \u0026amp;\u0026amp; ((([_vehicle] call FNC_getPos) select 2) \u0026lt; 30) \u0026amp;\u0026amp; (speed _vehicle \u0026lt; 5) \u0026amp;\u0026amp; (typeName _hasAttached == \"OBJECT\")) then {\nif (s_player_heli_detach \u0026lt; 0) then {\ndayz_myLiftVehicle = _vehicle;\ns_player_heli_detach = dayz_myLiftVehicle addAction [\"Detach Vehicle\",\"\\z\\addons\\dayz_code\\actions\\player_heliDetach.sqf\",[dayz_myLiftVehicle,_hasAttached],2,false,true,\"\",\"\"];\n};\n} else {\ndayz_myLiftVehicle removeAction s_player_heli_detach;\ns_player_heli_detach = -1;\n};\n};\n\u00a0\nif(DZE_HaloJump) then {\nif(_inVehicle \u0026amp;\u0026amp; (_vehicle isKindOf \"Air\") \u0026amp;\u0026amp; ((([_vehicle] call FNC_getPos) select 2) \u0026gt; 400)) then {\nif (s_halo_action \u0026lt; 0) then {\nDZE_myHaloVehicle = _vehicle;\ns_halo_action = DZE_myHaloVehicle addAction [localize \"STR_EPOCH_ACTIONS_HALO\",\"\\z\\addons\\dayz_code\\actions\\halo_jump.sqf\",[],2,false,true,\"\",\"\"];\n};\n} else {\nDZE_myHaloVehicle removeAction s_halo_action;\ns_halo_action = -1;\n};\n};\n\u00a0\nif (!DZE_ForceNameTagsOff) then {\nif (s_player_showname \u0026lt; 0 \u0026amp;\u0026amp; !_isPZombie) then {\nif (DZE_ForceNameTags) then {\ns_player_showname = 1;\nplayer setVariable[\"DZE_display_name\",true,true];\n} else {\ns_player_showname = player addAction [localize \"STR_EPOCH_ACTIONS_NAMEYES\", \"\\z\\addons\\dayz_code\\actions\\display_name.sqf\",true, 0, true, false, \"\",\"\"];\ns_player_showname1 = player addAction [localize \"STR_EPOCH_ACTIONS_NAMENO\", \"\\z\\addons\\dayz_code\\actions\\display_name.sqf\",false, 0, true, false, \"\",\"\"];\n};\n};\n};\n\u00a0\nif(_isPZombie) then {\nif (s_player_callzombies \u0026lt; 0) then {\ns_player_callzombies = player addAction [localize \"STR_EPOCH_ACTIONS_RAISEHORDE\", \"\\z\\addons\\dayz_code\\actions\\call_zombies.sqf\",player, 5, true, false, \"\",\"\"];\n};\nif (DZE_PZATTACK) then {\ncall pz_attack;\nDZE_PZATTACK = false;\n};\nif (s_player_pzombiesvision \u0026lt; 0) then {\ns_player_pzombiesvision = player addAction [localize \"STR_EPOCH_ACTIONS_NIGHTVIS\", \"\\z\\addons\\dayz_code\\actions\\pzombie\\pz_vision.sqf\", [], 4, false, true, \"nightVision\", \"_this == _target\"];\n};\nif (!isNull cursorTarget \u0026amp;\u0026amp; (player distance cursorTarget \u0026lt; 3)) then { //Has some kind of target\n_isAnimal = cursorTarget isKindOf \"Animal\";\n_isZombie = cursorTarget isKindOf \"zZombie_base\";\n_isHarvested = cursorTarget getVariable[\"meatHarvested\",false];\n_isMan = cursorTarget isKindOf \"Man\";\n// Pzombie Gut human corpse || animal\nif (!alive cursorTarget \u0026amp;\u0026amp; (_isAnimal || _isMan) \u0026amp;\u0026amp; !_isZombie \u0026amp;\u0026amp; !_isHarvested) then {\nif (s_player_pzombiesfeed \u0026lt; 0) then {\ns_player_pzombiesfeed = player addAction [localize \"STR_EPOCH_ACTIONS_FEED\", \"\\z\\addons\\dayz_code\\actions\\pzombie\\pz_feed.sqf\",cursorTarget, 3, true, false, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_pzombiesfeed;\ns_player_pzombiesfeed = -1;\n};\n} else {\nplayer removeAction s_player_pzombiesfeed;\ns_player_pzombiesfeed = -1;\n};\n};\n\u00a0\n// Increase distance only if AIR || SHIP\n_allowedDistance = 4;\n_isAir = cursorTarget isKindOf \"Air\";\n_isShip = cursorTarget isKindOf \"Ship\";\nif(_isAir || _isShip) then {\n_allowedDistance = 8;\n};\n\u00a0\nif (!isNull cursorTarget \u0026amp;\u0026amp; !_inVehicle \u0026amp;\u0026amp; !_isPZombie \u0026amp;\u0026amp; (player distance cursorTarget \u0026lt; _allowedDistance) \u0026amp;\u0026amp; _canDo) then { //Has some kind of target\n\u00a0\n// set cursortarget to variable\n_cursorTarget = cursorTarget;\n\u00a0\n// get typeof cursortarget once\n_typeOfCursorTarget = typeOf _cursorTarget;\n\u00a0\n// hintsilent _typeOfCursorTarget;\n\u00a0\n_isVehicle = _cursorTarget isKindOf \"AllVehicles\";\n_isVehicletype = _typeOfCursorTarget in [\"ATV_US_EP1\",\"ATV_CZ_EP1\"];\n_isnewstorage = _typeOfCursorTarget in DZE_isNewStorage;\n\u00a0\n// get items \u0026amp;\u0026amp; magazines only once\n_magazinesPlayer = magazines player;\n\u00a0\n//boiled Water\n_hasbottleitem = \"ItemWaterbottle\" in _magazinesPlayer;\n_hastinitem = false;\n{\nif (_x in _magazinesPlayer) then {\n_hastinitem = true;\n};\n} count boil_tin_cans;\n_hasFuelE =  \"ItemJerrycanEmpty\" in _magazinesPlayer;\n_hasFuelBarrelE =  \"ItemFuelBarrelEmpty\" in _magazinesPlayer;\n_hasHotwireKit =  \"ItemHotwireKit\" in _magazinesPlayer;\n\u00a0\n_itemsPlayer = items player;\n\u00a0\n_temp_keys = [];\n_temp_keys_names = [];\n// find available keys\n_key_colors = [\"ItemKeyYellow\",\"ItemKeyBlue\",\"ItemKeyRed\",\"ItemKeyGreen\",\"ItemKeyBlack\"];\n{\nif (configName(inheritsFrom(configFile \u0026gt;\u0026gt; \"CfgWeapons\" \u0026gt;\u0026gt; _x)) in _key_colors) then {\n_ownerKeyId = getNumber(configFile \u0026gt;\u0026gt; \"CfgWeapons\" \u0026gt;\u0026gt; _x \u0026gt;\u0026gt; \"keyid\");\n_ownerKeyName = getText(configFile \u0026gt;\u0026gt; \"CfgWeapons\" \u0026gt;\u0026gt; _x \u0026gt;\u0026gt; \"displayName\");\n_temp_keys_names set [_ownerKeyId,_ownerKeyName];\n_temp_keys set [count _temp_keys,str(_ownerKeyId)];\n};\n} count _itemsPlayer;\n\u00a0\n_hasKnife =  \"ItemKnife\" in _itemsPlayer;\n_hasToolbox =  \"ItemToolbox\" in _itemsPlayer;\n\u00a0\nif (DZE_APlotforLife) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_playerUID = [player] call FNC_GetPlayerUID; \n\u00a0 \u00a0 \u00a0 \u00a0}else{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_playerUID = dayz_characterID; \n};\n\u00a0\n\u00a0\n_isMan = _cursorTarget isKindOf \"Man\";\n_traderType = _typeOfCursorTarget;\n_ownerID = _cursorTarget getVariable [\"ownerPUID\",\"0\"];\n_characterID = _cursorTarget getVariable [\"CharacterID\",\"0\"];\n_isAnimal = _cursorTarget isKindOf \"Animal\";\n_isDog = \u00a0(_cursorTarget isKindOf \"DZ_Pastor\" || _cursorTarget isKindOf \"DZ_Fin\");\n_isZombie = _cursorTarget isKindOf \"zZombie_base\";\n_isDestructable = _cursorTarget isKindOf \"BuiltItems\";\n_isWreck = _typeOfCursorTarget in DZE_isWreck;\n_isWreckBuilding = _typeOfCursorTarget in DZE_isWreckBuilding;\n_isModular = _cursorTarget isKindOf \"ModularItems\" or ((typeOf _cursorTarget) in Custom_Buildables);\n_isModularDoor = _typeOfCursorTarget in [\"Land_DZE_WoodDoor\",\"Land_DZE_LargeWoodDoor\",\"Land_DZE_GarageWoodDoor\",\"CinderWallDoor_DZ\",\"CinderWallDoorSmall_DZ\"];\n\u00a0\n_isRemovable = _typeOfCursorTarget in DZE_isRemovable;\n_isDisallowRepair = _typeOfCursorTarget in [\"M240Nest_DZ\"];\n\u00a0\n_isTent = _cursorTarget isKindOf \"TentStorage\";\n\u00a0\n_isAlive = alive _cursorTarget;\n\u00a0\n_text = getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; _typeOfCursorTarget \u0026gt;\u0026gt; \"displayName\");\n\u00a0\n_rawmeat = meatraw;\n_hasRawMeat = false;\n{\nif (_x in _magazinesPlayer) then {\n_hasRawMeat = true;\n};\n} count _rawmeat;\u00a0\n\u00a0\n_isFuel = false;\nif (_hasFuelE || _hasFuelBarrelE) then {\n{\nif(_cursorTarget isKindOf _x) exitWith {_isFuel = true;};\n} count dayz_fuelsources;\n};\n\u00a0\n// diag_log (\"OWNERID = \" + _ownerID + \" CHARID = \" + dayz_characterID + \" \" + str(_ownerID == dayz_characterID));\n\u00a0\n// logic vars\n_player_flipveh = false;\n_player_deleteBuild = false;\n_player_lockUnlock_crtl = false;\n\u00a0\nif (_canDo \u0026amp;\u0026amp; (speed player \u0026lt;= 1) \u0026amp;\u0026amp; (_cursorTarget isKindOf \"Plastic_Pole_EP1_DZ\")) then {\nif (s_player_plotManagement \u0026lt; 0) then {\n_adminList = [\"0152\"]; // Add admins here if you admins to able to manage all plotpoles\n_owner = _cursorTarget getVariable [\"ownerPUID\",\"0\"];\n_friends = _cursorTarget getVariable [\"plotfriends\", []];\n_fuid = [];\n{\n_friendUID = _x select 0;\n_fuid = _fuid + [_friendUID];\n} forEach _friends;\n_allowed = [_owner]; \u00a0 \u00a0\n_allowed = [_owner] + _adminList + _fuid;\nif((getPlayerUID player) in _allowed)then{ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\ns_player_plotManagement = player addAction [\"\u0026lt;t color=\u0027#0059FF\u0027\u0026gt;Manage Plot\u0026lt;/t\u0026gt;\", \"plotManagement\\initPlotManagement.sqf\", [], 5, false];\n};\n};\nif (s_player_maintain_area \u0026lt; 0) then {\n\u00a0 s_player_maintain_area = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_MAINTAREA\"], \"\\z\\addons\\dayz_code\\actions\\maintain_area.sqf\", \"maintain\", 5, false];\ns_player_maintain_area_preview = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_MAINTPREV\"], \"\\z\\addons\\dayz_code\\actions\\maintain_area.sqf\", \"preview\", 5, false];\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_plotDistance = (DZE_PlotPole select 0); \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_PlotsmarkersNear = count (_cursorTarget nearEntities [\"Land_coneLight\", _PlotDistance]); \n\u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (s_player_plot_boundary_on \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0If (_PlotsmarkersNear == 0 ) then{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_on = player addAction [\"Show plot boundary\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\object_showPlotRadius.sqf\", \"\", 1, false]; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }; \u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (s_player_plot_boundary_off \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0If (_PlotsmarkersNear \u0026gt; 0 ) then{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_off = player addAction [\"Remove plot boundary\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\object_removePlotRadius.sqf\", \"\", 1, false]; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (s_player_plot_take_ownership \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (DZE_PlotOwnership) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_isowner = [player, _cursorTarget] call FNC_check_owner; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0If (( _isowner select 0 )) then{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_take_ownership = player addAction [\"Take plot items ownership\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\plot_take_ownership.sqf\", \"\", 1, false]; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0};\n} else {\n\u00a0 \u00a0  player removeAction s_player_plotManagement;\ns_player_plotManagement = -1;\n\u00a0 \u00a0  player removeAction s_player_maintain_area;\n\u00a0 \u00a0  s_player_maintain_area = -1;\n\u00a0 \u00a0  player removeAction s_player_maintain_area_preview;\n\u00a0 \u00a0  s_player_maintain_area_preview = -1;\nplayer removeAction s_player_plot_boundary_on; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_on = -1; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0player removeAction s_player_plot_boundary_off; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_off = -1; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0player removeAction s_player_plot_take_ownership; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_take_ownership = -1;\n};\n\u00a0\n// CURSOR TARGET ALIVE\nif(_isAlive) then {\n\u00a0\n//Allow player to delete objects\nif(_isDestructable || _isWreck || _isRemovable || _isWreckBuilding) then {\nif(_hasToolbox \u0026amp;\u0026amp; \"ItemCrowbar\" in _itemsPlayer) then {\n_player_deleteBuild = true;\n};\n};\n\u00a0\n///Allow owners to delete modulars\n\u00a0 \u00a0 if(_isModular) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if(_hasToolbox \u0026amp;\u0026amp; \"ItemCrowbar\" in _itemsPlayer) then {\n_findNearestPoles = nearestObjects[player, [\"Plastic_Pole_EP1_DZ\"], DZE_PlotPole select 0];\n_IsNearPlot = count (_findNearestPoles);\n_fuid \u00a0= [];\n_allowed = [];\nif(_IsNearPlot \u0026gt; 0)then{\n_thePlot = _findNearestPoles select 0;\n_owner = \u00a0_thePlot getVariable [\"ownerPUID\",\"010\"];\n_friends = _thePlot getVariable [\"plotfriends\", []];\n{\n\u00a0_friendUID = _x select 0;\n\u00a0_fuid \u00a0= \u00a0_fuid \u00a0+ [_friendUID];\n} forEach _friends;\n_allowed = [_owner]; \u00a0 \u00a0\n_allowed = [_owner] + \u00a0_fuid; \nif ( _playerUID in _allowed \u0026amp;\u0026amp; _ownerID in _allowed ) then { \u00a0\n_player_deleteBuild = true;\n}; \n}else{\nif(_ownerID == _playerUID)then{\n_player_deleteBuild = true;\n};\n};  \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 };\n//Allow owners to delete modular doors without locks\n\u00a0 \u00a0 if(_isModularDoor) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if(_hasToolbox \u0026amp;\u0026amp; \"ItemCrowbar\" in _itemsPlayer) then { \n_findNearestPoles = nearestObjects[player, [\"Plastic_Pole_EP1_DZ\"], DZE_PlotPole select 0];\n_IsNearPlot = count (_findNearestPoles);\n_fuid \u00a0= [];\n_allowed = [];\nif(_IsNearPlot \u0026gt; 0)then{\n_thePlot = _findNearestPoles select 0;\n_owner = \u00a0_thePlot getVariable [\"ownerPUID\",\"010\"];\n_friends = _thePlot getVariable [\"plotfriends\", []];\n{\n\u00a0_friendUID = _x select 0;\n\u00a0_fuid \u00a0= \u00a0_fuid \u00a0+ [_friendUID];\n} forEach _friends;\n_allowed = [_owner]; \u00a0 \u00a0\n_allowed = [_owner] + \u00a0_fuid; \nif ( _playerUID in _allowed \u0026amp;\u0026amp; _ownerID in _allowed) then {\n_player_deleteBuild = true;\n}; \n}else{\nif(_ownerID == _playerUID)then{\n_player_deleteBuild = true;\n};\n}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }; \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 };\n// CURSOR TARGET VEHICLE\nif(_isVehicle) then {\n\u00a0\n//flip vehicle small vehicles by your self \u0026amp;\u0026amp; all other vehicles with help nearby\nif (!(canmove _cursorTarget) \u0026amp;\u0026amp; (player distance _cursorTarget \u0026gt;= 2) \u0026amp;\u0026amp; (count (crew _cursorTarget))== 0 \u0026amp;\u0026amp; ((vectorUp _cursorTarget) select 2) \u0026lt; 0.5) then {\n_playersNear = {isPlayer _x} count (player nearEntities [\"CAManBase\", 6]);\nif(_isVehicletype || (_playersNear \u0026gt;= 2)) then {\n_player_flipveh = true; \n};\n};\n\u00a0\n\u00a0\nif(!_isMan \u0026amp;\u0026amp; _characterID != \"0\" \u0026amp;\u0026amp; !(_cursorTarget isKindOf \"Bicycle\")) then {\n_player_lockUnlock_crtl = true;\n};\n\u00a0\n};\n\u00a0\n};\n\u00a0\nif(_player_deleteBuild) then {\nif (s_player_deleteBuild \u0026lt; 0) then {\ns_player_deleteBuild = player addAction [format[localize \"str_actions_delete\",_text], \"Scripts\\Credited\\A_Plot_for_Life\\Action\\remove.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_deleteBuild;\ns_player_deleteBuild = -1;\n};\n\u00a0\nif (DZE_HeliLift) then {\n_liftHeli = objNull;\n_found = false;\n\u00a0\n_allowTow = false;\nif ((count (crew _cursorTarget)) == 0) then {\n{\nif(!_allowTow) then {\n_allowTow = _cursorTarget isKindOf _x;\n};\n} count DZE_HeliAllowToTow;\n};\n\u00a0\n//diag_log format[\"CREW: %1 ALLOW: %2\",(count (crew _cursorTarget)),_allowTow];\n\u00a0\nif (_allowTow) then {\n_liftHelis = nearestObjects [player, DZE_HeliAllowTowFrom, 15];\n{\nif(!_found) then {\n_posL = [_x] call FNC_getPos;\n_posC = [_cursorTarget] call FNC_getPos;\n_height = (_posL select 2) - (_posC select 2);\n_hasAttached = _x getVariable[\"hasAttached\",false];\nif(_height \u0026lt; 15 \u0026amp;\u0026amp; _height \u0026gt; 5 \u0026amp;\u0026amp; (typeName _hasAttached != \"OBJECT\")) then {\nif(((abs((_posL select 0) - (_posC select 0))) \u0026lt; 10) \u0026amp;\u0026amp; ((abs((_posL select 1) - (_posC select 1))) \u0026lt; 10)) then {\n_liftHeli = _x;\n_found = true;\n};\n};\n};\n} count _liftHelis;\n};\n\u00a0\n//diag_log format[\"HELI: %1 TARGET: %2\",_found,_cursorTarget];\n\u00a0\n_attached = _cursorTarget getVariable[\"attached\",false];\nif(_found \u0026amp;\u0026amp; _allowTow \u0026amp;\u0026amp; _canDo \u0026amp;\u0026amp; !locked _cursorTarget \u0026amp;\u0026amp; !_isPZombie \u0026amp;\u0026amp; (typeName _attached != \"OBJECT\")) then {\nif (s_player_heli_lift \u0026lt; 0) then {\ns_player_heli_lift = player addAction [\"Attach to Heli\", \"\\z\\addons\\dayz_code\\actions\\player_heliLift.sqf\",[_liftHeli,_cursorTarget], -10, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_heli_lift;\ns_player_heli_lift = -1;\n};\n};\n\u00a0\n// Allow Owner to lock \u0026amp;\u0026amp; unlock vehicle \u00a0\nif(_player_lockUnlock_crtl) then {\nif (s_player_lockUnlock_crtl \u0026lt; 0) then {\n_hasKey = _characterID in _temp_keys;\n_oldOwner = (_characterID == dayz_playerUID);\nif(locked _cursorTarget) then {\nif(_hasKey || _oldOwner) then {\n_Unlock = player addAction [format[localize \"STR_EPOCH_ACTIONS_UNLOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\unlock_veh.sqf\",[_cursorTarget,(_temp_keys_names select (parseNumber _characterID))], 2, true, true, \"\", \"\"];\ns_player_lockunlock set [count s_player_lockunlock,_Unlock];\ns_player_lockUnlock_crtl = 1;\n} else {\nif(_hasHotwireKit) then {\n_Unlock = player addAction [format[localize \"STR_EPOCH_ACTIONS_HOTWIRE\",_text], \"\\z\\addons\\dayz_code\\actions\\hotwire_veh.sqf\",_cursorTarget, 2, true, true, \"\", \"\"];\n} else {\n_Unlock = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_VEHLOCKED\"], \"\",_cursorTarget, 2, true, true, \"\", \"\"];\n};\ns_player_lockunlock set [count s_player_lockunlock,_Unlock];\ns_player_lockUnlock_crtl = 1;\n};\n} else {\nif(_hasKey || _oldOwner) then {\n_lock = player addAction [format[localize \"STR_EPOCH_ACTIONS_LOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\lock_veh.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\ns_player_lockunlock set [count s_player_lockunlock,_lock];\nif (_typeOfCursorTarget in ColourVehicles) then {\nprivate [\"_paint\"];\n_paint = player addAction [\"Paint\", \"Scripts\\Modified\\Paint\\player_paint_init.sqf\",_cursorTarget, 2, true, true, \"\", \"\"];\ns_player_lockunlock set [count s_player_lockunlock,_paint];\n};\ns_player_lockUnlock_crtl = 1;\n};\n};\n};\n\u00a0\n} else {\n{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];\ns_player_lockUnlock_crtl = -1;\n};\n\u00a0\nif(DZE_AllowForceSave) then {\n//Allow player to force save\nif((_isVehicle || _isTent) \u0026amp;\u0026amp; !_isMan) then {\nif (s_player_forceSave \u0026lt; 0) then {\ns_player_forceSave = player addAction [format[localize \"str_actions_save\",_text], \"\\z\\addons\\dayz_code\\actions\\forcesave.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_forceSave;\ns_player_forceSave = -1;\n};\n};\n\u00a0\n\u00a0\n\u00a0\nIf(DZE_AllowCargoCheck) then {\nif((_isVehicle || _isTent || _isnewstorage) \u0026amp;\u0026amp; _isAlive \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp; !locked _cursorTarget) then {\nif (s_player_checkGear \u0026lt; 0) then {\ns_player_checkGear = player addAction [localize \"STR_EPOCH_PLAYER_CARGO\", \"\\z\\addons\\dayz_code\\actions\\cargocheck.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_checkGear;\ns_player_checkGear = -1;\n};\n};\n\u00a0\n\u00a0\n//flip vehicle small vehicles by your self \u0026amp;\u0026amp; all other vehicles with help nearby\nif(_player_flipveh) then {\nif (s_player_flipveh \u00a0\u0026lt; 0) then {\ns_player_flipveh = player addAction [format[localize \"str_actions_flipveh\",_text], \"\\z\\addons\\dayz_code\\actions\\player_flipvehicle.sqf\",_cursorTarget, 1, true, true, \"\", \"\"]; \n};\n} else {\nplayer removeAction s_player_flipveh;\ns_player_flipveh = -1;\n};\u00a0\n\u00a0\n//Allow player to fill jerrycan\nif((_hasFuelE || _hasFuelBarrelE) \u0026amp;\u0026amp; _isFuel) then {\nif (s_player_fillfuel \u0026lt; 0) then {\ns_player_fillfuel = player addAction [localize \"str_actions_self_10\", \"\\z\\addons\\dayz_code\\actions\\jerry_fill.sqf\",[], 1, false, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_fillfuel;\ns_player_fillfuel = -1;\n};\n\u00a0\n// logic vars for addactions\n_player_butcher = false;\n_player_studybody = false;\n_player_SurrenderedGear = false;\n\u00a0\n// CURSOR TARGET NOT ALIVE\nif (!_isAlive) then {\n\u00a0\n// Gut animal/zed\nif((_isAnimal || _isZombie) \u0026amp;\u0026amp; _hasKnife) then {\n_isHarvested = _cursorTarget getVariable[\"meatHarvested\",false];\nif (!_isHarvested) then {\n_player_butcher = true;\n};\n};\n\u00a0\n// Study body\nif (_isMan \u0026amp;\u0026amp; !_isZombie \u0026amp;\u0026amp; !_isAnimal) then {\n_player_studybody = true;\n}\n} else {\n// unit alive\n\u00a0\n// gear access on surrendered player\nif(_isMan \u0026amp;\u0026amp; !_isZombie \u0026amp;\u0026amp; !_isAnimal) then {\n_isSurrendered = _cursorTarget getVariable [\"DZE_Surrendered\",false];\nif (_isSurrendered) then {\n_player_SurrenderedGear = true;\n};\n};\n};\n\u00a0\n\u00a0\n// Human Gut animal || zombie\nif (_player_butcher) then {\nif (s_player_butcher \u0026lt; 0) then {\nif(_isZombie) then {\ns_player_butcher = player addAction [localize \"STR_EPOCH_ACTIONS_GUTZOM\", \"\\z\\addons\\dayz_code\\actions\\gather_zparts.sqf\",_cursorTarget, 0, true, true, \"\", \"\"];\n} else {\ns_player_butcher = player addAction [localize \"str_actions_self_04\", \"\\z\\addons\\dayz_code\\actions\\gather_meat.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n};\n} else {\nplayer removeAction s_player_butcher;\ns_player_butcher = -1;\n};\n\u00a0\n// Study Body\nif (_player_studybody) then {\nif (s_player_studybody \u0026lt; 0) then {\ns_player_studybody = player addAction [(\"\u0026lt;t color=\"\"#FF0000\"\"\u0026gt;\"+(\"Check Wallet\") + \"\u0026lt;/t\u0026gt;\"), \"ZSC\\actions\\check_wallet.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_studybody;\ns_player_studybody = -1;\n};\n\u00a0\n//Remove CLOTHES\nif (_isMan and !_isAlive and !_isZombie and !_isAnimal) then {\nif (s_clothes \u0026lt; 0) then {\ns_clothes = player addAction [(\"\" + (\"Take Clothes\") + \"\"), \"Scripts\\Modified\\skins\\removeclothes.sqf\",cursorTarget, 1, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_clothes;\ns_clothes = -1;\n};\n\u00a0\n// logic vars\n_player_cook = false;\n_player_boil = false;\n\u00a0\n// CURSOR TARGET IS FIRE\nif (inflamed _cursorTarget) then {\n\u00a0\n//Fireplace Actions check\nif (_hasRawMeat) then {\n_player_cook = true; \n};\n\u00a0\n// Boil water\nif (_hasbottleitem \u0026amp;\u0026amp; _hastinitem) then {\n_player_boil = true;\n};\n};\n\u00a0\nif (_player_SurrenderedGear) then {\nif (s_player_SurrenderedGear \u0026lt; 0) then {\ns_player_SurrenderedGear = player addAction [localize \"STR_EPOCH_ACTIONS_GEAR\", \"\\z\\addons\\dayz_code\\actions\\surrender_gear.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_SurrenderedGear;\ns_player_SurrenderedGear = -1;\n};\n\u00a0\n//Fireplace Actions check\nif (_player_cook) then {\nif (s_player_cook \u0026lt; 0) then {\ns_player_cook = player addAction [localize \"str_actions_self_05\", \"\\z\\addons\\dayz_code\\actions\\cook.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_cook;\ns_player_cook = -1;\n};\n\u00a0\n// Boil water\nif (_player_boil) then {\nif (s_player_boil \u0026lt; 0) then {\ns_player_boil = player addAction [localize \"str_actions_boilwater\", \"\\z\\addons\\dayz_code\\actions\\boil.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_boil;\ns_player_boil = -1;\n};\n\u00a0\nif(_cursorTarget == dayz_hasFire) then {\nif ((s_player_fireout \u0026lt; 0) \u0026amp;\u0026amp; !(inflamed _cursorTarget) \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\ns_player_fireout = player addAction [localize \"str_actions_self_06\", \"\\z\\addons\\dayz_code\\actions\\fire_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_fireout;\ns_player_fireout = -1;\n};\n\u00a0\n//Packing my tent\nif(_isTent \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\nif (_ownerID == _playerUID) then {\nif (s_player_packtent \u0026lt; 0) then {\ns_player_packtent = player addAction [localize \"str_actions_self_07\", \"\\z\\addons\\dayz_code\\actions\\tent_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nif((\"ItemJerrycan\" in _magazinesPlayer) \u0026amp;\u0026amp; (\"ItemMatchbox_DZE\" in weapons player)) then {\nif (s_player_packtent \u0026lt; 0) then {\ns_player_packtent = player addAction [localize \"STR_EPOCH_ACTIONS_DESTROYTENT\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\remove.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n};\n};\n} else {\nplayer removeAction s_player_packtent;\ns_player_packtent = -1;\n};\n\u00a0\n//Allow manage door\nif((_typeOfCursorTarget in DZE_DoorsLocked)) then {\nif (s_player_manageDoor \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0s_player_manageDoor = player addAction [\"\u0026lt;t color=\u0027#0059FF\u0027\u0026gt;Manage Door\u0026lt;/t\u0026gt;\", \"doorManagement\\initDoorManagement.sqf\", _cursorTarget, 5, false];\n};\n} else {\nplayer removeAction s_player_manageDoor;\ns_player_manageDoor = -1;\n};\n\u00a0\n//Allow owner to unlock vault\nif((_typeOfCursorTarget in DZE_LockableStorage) \u0026amp;\u0026amp; _characterID != \"0\" \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\nif (s_player_unlockvault \u0026lt; 0) then {\nif(_typeOfCursorTarget in DZE_LockedStorage) then {\nif(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {\n_combi = player addAction [format[localize \"STR_EPOCH_ACTIONS_OPEN\",_text], \"\\z\\addons\\dayz_code\\actions\\vault_unlock.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\ns_player_combi set [count s_player_combi,_combi];\n} else {\n_combi = player addAction [format[localize \"STR_EPOCH_ACTIONS_UNLOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\vault_combination_1.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\ns_player_combi set [count s_player_combi,_combi];\n};\ns_player_unlockvault = 1;\n} else {\nif(_characterID != dayz_combination \u0026amp;\u0026amp; _ownerID != dayz_playerUID) then {\n_combi = player addAction [localize \"STR_EPOCH_ACTIONS_RECOMBO\", \"\\z\\addons\\dayz_code\\actions\\vault_combination_1.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\ns_player_combi set [count s_player_combi,_combi];\ns_player_unlockvault = 1;\n};\n};\n};\n} else {\n{player removeAction _x} count s_player_combi;s_player_combi = [];\ns_player_unlockvault = -1;\n};\n\u00a0\nif(_typeOfCursorTarget in ZSC_MoneyStorage \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 5)) then {\nif (s_bank_dialog \u0026lt; 0) then {\ns_bank_dialog = player addAction [\"Money Storage\", \"ZSC\\actions\\bank_dialog.sqf\",_cursorTarget, 3, true, true, \"\", \"\"]; \n};\n} else {\n\u00a0 \u00a0 \u00a0 player removeAction s_bank_dialog;\ns_bank_dialog = -1;\n};\n\u00a0\n// cars\u00a0\nif( _isVehicle \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp;_isAlive \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp; !locked _cursorTarget \u0026amp;\u0026amp; !(_cursorTarget isKindOf \"Bicycle\") \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 5)) then { \nif (s_bank_dialog2 \u0026lt; 0) then {\ns_bank_dialog2 = player addAction [\"Money Storage\", \"ZSC\\actions\\bank_dialog.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n}; \n} else { \nplayer removeAction s_bank_dialog2;\ns_bank_dialog2 = -1;\n};\n\u00a0\n//Allow owner to pack vault\nif(_typeOfCursorTarget in DZE_UnLockedStorage \u0026amp;\u0026amp; _characterID != \"0\" \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\n\u00a0\nif (s_player_lockvault \u0026lt; 0) then {\nif(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {\ns_player_lockvault = player addAction [format[localize \"STR_EPOCH_ACTIONS_LOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\vault_lock.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n};\nif (s_player_packvault \u0026lt; 0 \u0026amp;\u0026amp; (_characterID == dayz_combination || _ownerID == dayz_playerUID)) then {\ns_player_packvault = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",(format[localize \"STR_EPOCH_ACTIONS_PACK\",_text])], \"\\z\\addons\\dayz_code\\actions\\vault_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_packvault;\ns_player_packvault = -1;\nplayer removeAction s_player_lockvault;\ns_player_lockvault = -1;\n};\n\u00a0\n\u00a0\n\u00a0\n\u00a0 \u00a0 //Player Deaths\nif(_typeOfCursorTarget == \"Info_Board_EP1\") then {\nif (s_player_information \u0026lt; 0) then {\ns_player_information = player addAction [localize \"STR_EPOCH_ACTIONS_MURDERS\", \"\\z\\addons\\dayz_code\\actions\\list_playerDeaths.sqf\",[], 7, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_information;\ns_player_information = -1;\n};\n\u00a0\nif (_isMan and _isAlive and !_isZombie and !_isAnimal and !(_traderType in serverTraders)) then {\nif (s_givemoney_dialog \u0026lt; 0) then {\ns_givemoney_dialog = player addAction [format[\"Give Money to %1\", (name _cursorTarget)], \"ZSC\\actions\\give_player_dialog.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_givemoney_dialog;\ns_givemoney_dialog = -1;\n};\n\u00a0\n//Fuel Pump\nif(_typeOfCursorTarget in dayz_fuelpumparray) then { \nif (s_player_fuelauto \u0026lt; 0) then {\n\u00a0\n// check if Generator_DZ is running within 30 meters\n_findNearestGens = nearestObjects [player, [\"Generator_DZ\"], 30];\n_findNearestGen = [];\n{\nif (alive _x \u0026amp;\u0026amp; (_x getVariable [\"GeneratorRunning\", false])) then {\n_findNearestGen set [(count _findNearestGen),_x];\n};\n} count _findNearestGens;\n_IsNearRunningGen = count (_findNearestGen);\n\u00a0\n// show that pump needs power if no generator nearby.\nif(_IsNearRunningGen \u0026gt; 0) then {\ns_player_fuelauto = player addAction [localize \"STR_EPOCH_ACTIONS_FILLVEH\", \"\\z\\addons\\dayz_code\\actions\\fill_nearestVehicle.sqf\",objNull, 0, false, true, \"\",\"\"];\n} else {\ns_player_fuelauto = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_NEEDPOWER\"], \"\",[], 0, false, true, \"\",\"\"];\n};\n};\n} else {\nplayer removeAction s_player_fuelauto;\ns_player_fuelauto = -1;\n};\n\u00a0\n//Fuel Pump on truck\nif(_typeOfCursorTarget in DZE_fueltruckarray \u0026amp;\u0026amp; alive _cursorTarget) then { \nif (s_player_fuelauto2 \u0026lt; 0) then {\n// show that fuel truck pump needs power.\nif(isEngineOn _cursorTarget) then {\ns_player_fuelauto2 = player addAction [localize \"STR_EPOCH_ACTIONS_FILLVEH\", \"\\z\\addons\\dayz_code\\actions\\fill_nearestVehicle.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n} else {\ns_player_fuelauto2 = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_NEEDPOWER\"], \"\",[], 0, false, true, \"\",\"\"];\n};\n};\n} else {\nplayer removeAction s_player_fuelauto2;\ns_player_fuelauto2 = -1;\n};\n\u00a0\n// inplace upgrade tool\nif ((_cursorTarget isKindOf \"ModularItems\") || (_cursorTarget isKindOf \"Land_DZE_WoodDoor_Base\") || (_cursorTarget isKindOf \"CinderWallDoor_DZ_Base\")) then {\nif ((s_player_lastTarget select 0) != _cursorTarget) then {\nif (s_player_upgrade_build \u0026gt; 0) then {\nplayer removeAction s_player_upgrade_build;\ns_player_upgrade_build = -1;\n};\n};\nif (s_player_upgrade_build \u0026lt; 0) then {\n// s_player_lastTarget = _cursorTarget;\ns_player_lastTarget set [0,_cursorTarget];\ns_player_upgrade_build = player addAction [format[localize \"STR_EPOCH_ACTIONS_UPGRADE\",_text], \"Scripts\\Credited\\A_Plot_for_Life\\Action\\player_upgrade.sqf\",_cursorTarget, -1, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_upgrade_build;\ns_player_upgrade_build = -1;\n};\n\u00a0\n// downgrade system\nif((_isDestructable || _cursorTarget isKindOf \"Land_DZE_WoodDoorLocked_Base\" || _cursorTarget isKindOf \"CinderWallDoorLocked_DZ_Base\") \u0026amp;\u0026amp; (DZE_Lock_Door == _characterID)) then {\nif ((s_player_lastTarget select 1) != _cursorTarget) then {\nif (s_player_downgrade_build \u0026gt; 0) then { \nplayer removeAction s_player_downgrade_build;\ns_player_downgrade_build = -1;\n};\n};\n\u00a0\nif (s_player_downgrade_build \u0026lt; 0) then {\ns_player_lastTarget set [1,_cursorTarget];\ns_player_downgrade_build = player addAction [format[localize \"STR_EPOCH_ACTIONS_REMLOCK\",_text], \"Scripts\\Credited\\A_Plot_for_Life\\Action\\player_buildingDowngrade.sqf\",_cursorTarget, -2, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_downgrade_build;\ns_player_downgrade_build = -1;\n};\n\u00a0\n// inplace maintenance tool\nif((_cursorTarget isKindOf \"ModularItems\" || _cursorTarget isKindOf \"DZE_Housebase\" || _typeOfCursorTarget == \"LightPole_DZ\") \u0026amp;\u0026amp; (damage _cursorTarget \u0026gt;= DZE_DamageBeforeMaint)) then {\nif ((s_player_lastTarget select 2) != _cursorTarget) then {\nif (s_player_maint_build \u0026gt; 0) then { \nplayer removeAction s_player_maint_build;\ns_player_maint_build = -1;\n};\n};\n\u00a0\nif (s_player_maint_build \u0026lt; 0) then {\ns_player_lastTarget set [2,_cursorTarget];\ns_player_maint_build = player addAction [format[localize \"STR_EPOCH_ACTIONS_MAINTAIN\",_text], \"\\z\\addons\\dayz_code\\actions\\player_buildingMaint.sqf\",_cursorTarget, -2, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_maint_build;\ns_player_maint_build = -1;\n};\n\u00a0\n\u00a0\n//Start Generator\nif(_cursorTarget isKindOf \"Generator_DZ\") then {\nif (s_player_fillgen \u0026lt; 0) then {\n\u00a0\n// check if not running\u00a0\nif((_cursorTarget getVariable [\"GeneratorRunning\", false])) then {\ns_player_fillgen = player addAction [localize \"STR_EPOCH_ACTIONS_GENERATOR1\", \"\\z\\addons\\dayz_code\\actions\\stopGenerator.sqf\",_cursorTarget, 0, false, true, \"\",\"\"]; \n} else {\n// check if not filled \u0026amp;\u0026amp; player has jerry.\nif((_cursorTarget getVariable [\"GeneratorFilled\", false])) then {\ns_player_fillgen = player addAction [localize \"STR_EPOCH_ACTIONS_GENERATOR2\", \"\\z\\addons\\dayz_code\\actions\\fill_startGenerator.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n} else {\nif(\"ItemJerrycan\" in _magazinesPlayer) then {\ns_player_fillgen = player addAction [localize \"STR_EPOCH_ACTIONS_GENERATOR3\", \"\\z\\addons\\dayz_code\\actions\\fill_startGenerator.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n};\n};\n};\n} else {\nplayer removeAction s_player_fillgen;\ns_player_fillgen = -1;\n};\n\u00a0\n//Towing with tow truck\n/*\nif(_typeOfCursorTarget == \"TOW_DZE\") then {\nif (s_player_towing \u0026lt; 0) then {\nif(!(_cursorTarget getVariable [\"DZEinTow\", false])) then {\ns_player_towing = player addAction [localize \"STR_EPOCH_ACTIONS_ATTACH\" \"\\z\\addons\\dayz_code\\actions\\tow_AttachStraps.sqf\",_cursorTarget, 0, false, true, \"\",\"\"]; \n} else {\ns_player_towing = player addAction [localize \"STR_EPOCH_ACTIONS_DETACH\", \"\\z\\addons\\dayz_code\\actions\\tow_DetachStraps.sqf\",_cursorTarget, 0, false, true, \"\",\"\"]; \n};\n};\n} else {\nplayer removeAction s_player_towing;\ns_player_towing = -1;\n};\n*/\n\u00a0\n\u00a0\n\u00a0 \u00a0 //Sleep\nif(_isTent \u0026amp;\u0026amp; _ownerID == _playerUID) then {\nif ((s_player_sleep \u0026lt; 0) \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\ns_player_sleep = player addAction [localize \"str_actions_self_sleep\", \"\\z\\addons\\dayz_code\\actions\\player_sleep.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_sleep;\ns_player_sleep = -1;\n};\n\u00a0\n//Repairing Vehicles\nif ((dayz_myCursorTarget != _cursorTarget) \u0026amp;\u0026amp; _isVehicle \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp; _hasToolbox \u0026amp;\u0026amp; (damage _cursorTarget \u0026lt; 1) \u0026amp;\u0026amp; !_isDisallowRepair) then {\nif (s_player_repair_crtl \u0026lt; 0) then {\ndayz_myCursorTarget = _cursorTarget;\n_menu = dayz_myCursorTarget addAction [localize \"STR_EPOCH_PLAYER_REPAIRV\", \"\\z\\addons\\dayz_code\\actions\\repair_vehicle.sqf\",_cursorTarget, 0, true, false, \"\",\"\"];\n_menu1 = dayz_myCursorTarget addAction [localize \"STR_EPOCH_PLAYER_SALVAGEV\", \"\\z\\addons\\dayz_code\\actions\\salvage_vehicle.sqf\",_cursorTarget, 0, true, false, \"\",\"\"];\ns_player_repairActions set [count s_player_repairActions,_menu];\ns_player_repairActions set [count s_player_repairActions,_menu1];\ns_player_repair_crtl = 1;\n} else {\n{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];\ns_player_repair_crtl = -1;\n};\n};\n\u00a0\n//Pack Vehicles\nif (_typeOfCursorTarget in EVDVehicleArray and _hasToolbox and !(locked _cursorTarget) and (damage _cursorTarget \u0026lt; 1)) then {\nif (s_player_packvehicle \u0026lt; 0) then {\ns_player_packvehicle = player addAction [\"Pack Vehicle\", \"Scripts\\Modified\\EVD\\EVD_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_packvehicle;\ns_player_packvehicle = -1;\n};\n\u00a0\n\u00a0\n// All Traders\nif (_isMan \u0026amp;\u0026amp; !_isPZombie \u0026amp;\u0026amp; _traderType in serverTraders) then {\n\u00a0\nif (s_player_parts_crtl \u0026lt; 0) then {\n\u00a0\n// get humanity\n_humanity = player getVariable [\"humanity\",0];\n_traderMenu = call compile format[\"menu_%1;\",_traderType];\n\u00a0\n// diag_log (\"TRADER = \" + str(_traderMenu));\n\u00a0\n_low_high = \"low\";\n_humanity_logic = false;\nif((_traderMenu select 2) == \"friendly\") then {\n_humanity_logic = (_humanity \u0026lt; -5000);\n};\nif((_traderMenu select 2) == \"hostile\") then {\n_low_high = \"high\";\n_humanity_logic = (_humanity \u0026gt; -5000);\n};\nif((_traderMenu select 2) == \"hero\") then {\n_humanity_logic = (_humanity \u0026lt; 5000);\n};\nif(_humanity_logic) then {\n_cancel = player addAction [format[localize \"STR_EPOCH_ACTIONS_HUMANITY\",_low_high], \"\\z\\addons\\dayz_code\\actions\\trade_cancel.sqf\",[\"na\"], 0, true, false, \"\",\"\"];\ns_player_parts set [count s_player_parts,_cancel];\n} else {\n\u00a0\n// Static Menu\n{\n//diag_log format[\"DEBUG TRADER: %1\", _x];\n_buy = player addAction [format[\"Trade %1 %2 for %3 %4\",(_x select 3),(_x select 5),(_x select 2),(_x select 6)], \"\\z\\addons\\dayz_code\\actions\\trade_items_wo_db.sqf\",[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, \"\",\"\"];\ns_player_parts set [count s_player_parts,_buy];\n\u00a0\n} count (_traderMenu select 1);\n_buyV = player addAction [\"\u0026lt;t color=\u0027#0059FF\u0027\u0026gt;Advanced Trading\u0026lt;/t\u0026gt;\", \"Traders\\advancedTrading\\init.sqf\",(_traderMenu select 0), 999, true, false, \"\",\"\"];\ns_player_parts set [count s_player_parts,_buyV];\n// Database menu\n_buy = player addAction [localize \"STR_EPOCH_PLAYER_289\", \"\\z\\addons\\dayz_code\\actions\\show_dialog.sqf\",(_traderMenu select 0), 999, true, false, \"\",\"\"];\ns_player_parts set [count s_player_parts,_buy];\n\u00a0\n};\ns_player_parts_crtl = 1;\n\u00a0\n};\n} else {\n{player removeAction _x} count s_player_parts;s_player_parts = [];\ns_player_parts_crtl = -1;\n};\n\u00a0\n\u00a0\nif(dayz_tameDogs) then {\n\u00a0\n//Dog\nif (_isDog \u0026amp;\u0026amp; _isAlive \u0026amp;\u0026amp; (_hasRawMeat) \u0026amp;\u0026amp; _characterID == \"0\" \u0026amp;\u0026amp; player getVariable [\"dogID\", 0] == 0) then {\nif (s_player_tamedog \u0026lt; 0) then {\ns_player_tamedog = player addAction [localize \"str_actions_tamedog\", \"\\z\\addons\\dayz_code\\actions\\tame_dog.sqf\", _cursorTarget, 1, false, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_tamedog;\ns_player_tamedog = -1;\n};\nif (_isDog \u0026amp;\u0026amp; _characterID == dayz_characterID \u0026amp;\u0026amp; _isAlive) then {\n_dogHandle = player getVariable [\"dogID\", 0];\nif (s_player_feeddog \u0026lt; 0 \u0026amp;\u0026amp; _hasRawMeat) then {\ns_player_feeddog = player addAction [localize \"str_actions_feeddog\",\"\\z\\addons\\dayz_code\\actions\\dog\\feed.sqf\",[_dogHandle,0], 0, false, true,\"\",\"\"];\n};\nif (s_player_waterdog \u0026lt; 0 \u0026amp;\u0026amp; \"ItemWaterbottle\" in _magazinesPlayer) then {\ns_player_waterdog = player addAction [localize \"str_actions_waterdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\feed.sqf\",[_dogHandle,1], 0, false, true,\"\",\"\"];\n};\nif (s_player_staydog \u0026lt; 0) then {\n_lieDown = _dogHandle getFSMVariable \"_actionLieDown\";\nif (_lieDown) then { _text = \"str_actions_liedog\"; } else { _text = \"str_actions_sitdog\"; };\ns_player_staydog = player addAction [localize _text,\"\\z\\addons\\dayz_code\\actions\\dog\\stay.sqf\", _dogHandle, 5, false, true,\"\",\"\"];\n};\nif (s_player_trackdog \u0026lt; 0) then {\ns_player_trackdog = player addAction [localize \"str_actions_trackdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\track.sqf\", _dogHandle, 4, false, true,\"\",\"\"];\n};\nif (s_player_barkdog \u0026lt; 0) then {\ns_player_barkdog = player addAction [localize \"str_actions_barkdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\speak.sqf\", _cursorTarget, 3, false, true,\"\",\"\"];\n};\nif (s_player_warndog \u0026lt; 0) then {\n_warn = _dogHandle getFSMVariable \"_watchDog\";\nif (_warn) then { _text = (localize \"str_epoch_player_247\"); _warn = false; } else { _text = (localize \"str_epoch_player_248\"); _warn = true; };\ns_player_warndog = player addAction [format[localize \"str_actions_warndog\",_text],\"\\z\\addons\\dayz_code\\actions\\dog\\warn.sqf\",[_dogHandle, _warn], 2, false, true,\"\",\"\"]; \n};\nif (s_player_followdog \u0026lt; 0) then {\ns_player_followdog = player addAction [localize \"str_actions_followdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\follow.sqf\",[_dogHandle,true], 6, false, true,\"\",\"\"];\n};\n} else {\nplayer removeAction s_player_feeddog;\ns_player_feeddog = -1;\nplayer removeAction s_player_waterdog;\ns_player_waterdog = -1;\nplayer removeAction s_player_staydog;\ns_player_staydog = -1;\nplayer removeAction s_player_trackdog;\ns_player_trackdog = -1;\nplayer removeAction s_player_barkdog;\ns_player_barkdog = -1;\nplayer removeAction s_player_warndog;\ns_player_warndog = -1;\nplayer removeAction s_player_followdog;\ns_player_followdog = -1;\nplayer removeAction s_player_manageDoor;\ns_player_manageDoor = -1; // u might also want to add this to variables reset in your variables.sqf\n};\n};\n\u00a0\n} else {\n//Engineering\nplayer removeAction s_player_plotManagement;\ns_player_plotManagement = -1;\n{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];\ns_player_repair_crtl = -1;\n\u00a0\n{player removeAction _x} count s_player_combi;s_player_combi = [];\n\u00a0\ndayz_myCursorTarget = objNull;\ns_player_lastTarget = [objNull,objNull,objNull,objNull,objNull];\n\u00a0\n{player removeAction _x} count s_player_parts;s_player_parts = [];\ns_player_parts_crtl = -1;\n\u00a0\n{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];\ns_player_lockUnlock_crtl = -1;\n\u00a0\nplayer removeAction s_player_checkGear;\ns_player_checkGear = -1;\n\u00a0\nplayer removeAction s_player_SurrenderedGear;\ns_player_SurrenderedGear = -1;\n\u00a0\n//Others\nplayer removeAction s_player_maintain_area; \ns_player_maintain_area = -1; \nplayer removeAction s_player_maintain_area_preview; \ns_player_maintain_area_preview = -1; \nplayer removeAction s_player_plot_boundary_on; \ns_player_plot_boundary_on = -1; \nplayer removeAction s_player_plot_boundary_off; \ns_player_plot_boundary_off = -1; \nplayer removeAction s_player_plot_take_ownership; \ns_player_plot_take_ownership = -1;\nplayer removeAction s_player_forceSave;\ns_player_forceSave = -1;\nplayer removeAction s_player_flipveh;\ns_player_flipveh = -1;\nplayer removeAction s_player_sleep;\ns_player_sleep = -1;\nplayer removeAction s_player_deleteBuild;\ns_player_deleteBuild = -1;\nplayer removeAction s_player_butcher;\ns_player_butcher = -1;\nplayer removeAction s_player_cook;\ns_player_cook = -1;\nplayer removeAction s_player_boil;\ns_player_boil = -1;\nplayer removeAction s_player_fireout;\ns_player_fireout = -1;\nplayer removeAction s_player_packtent;\ns_player_packtent = -1;\nplayer removeAction s_player_fillfuel;\ns_player_fillfuel = -1;\nplayer removeAction s_player_studybody;\ns_player_studybody = -1;\n//remove clothes\nplayer removeAction s_clothes;\ns_clothes = -1;\n//Dog\nplayer removeAction s_player_tamedog;\ns_player_tamedog = -1;\nplayer removeAction s_player_feeddog;\ns_player_feeddog = -1;\nplayer removeAction s_player_waterdog;\ns_player_waterdog = -1;\nplayer removeAction s_player_staydog;\ns_player_staydog = -1;\nplayer removeAction s_player_trackdog;\ns_player_trackdog = -1;\nplayer removeAction s_player_barkdog;\ns_player_barkdog = -1;\nplayer removeAction s_player_warndog;\ns_player_warndog = -1;\nplayer removeAction s_player_followdog;\ns_player_followdog = -1;\n\u00a0 \u00a0\u00a0\n\u00a0 \u00a0 // vault\nplayer removeAction s_player_unlockvault;\ns_player_unlockvault = -1;\nplayer removeAction s_player_packvault;\ns_player_packvault = -1;\nplayer removeAction s_player_lockvault;\ns_player_lockvault = -1;\n\u00a0\nplayer removeAction s_player_information;\ns_player_information = -1;\nplayer removeAction s_player_fillgen;\ns_player_fillgen = -1;\nplayer removeAction s_player_upgrade_build;\ns_player_upgrade_build = -1;\nplayer removeAction s_player_maint_build;\ns_player_maint_build = -1;\nplayer removeAction s_player_downgrade_build;\ns_player_downgrade_build = -1;\nplayer removeAction s_player_towing;\ns_player_towing = -1;\nplayer removeAction s_player_fuelauto;\ns_player_fuelauto = -1;\nplayer removeAction s_player_fuelauto2;\ns_player_fuelauto2 = -1;\nplayer removeAction s_givemoney_dialog;\ns_givemoney_dialog = -1;\nplayer removeAction s_bank_dialog;\ns_bank_dialog = -1;\nplayer removeAction s_bank_dialog2;\ns_bank_dialog2 = -1;\n};\n\u00a0\n\u00a0\n\u00a0\n//Dog actions on player self\n_dogHandle = player getVariable [\"dogID\", 0];\nif (_dogHandle \u0026gt; 0) then {\n_dog = _dogHandle getFSMVariable \"_dog\";\n_characterID = \"0\";\nif (!isNull cursorTarget) then { _characterID = cursorTarget getVariable [\"CharacterID\",\"0\"]; };\nif (_canDo \u0026amp;\u0026amp; !_inVehicle \u0026amp;\u0026amp; alive _dog \u0026amp;\u0026amp; _characterID != dayz_characterID) then {\nif (s_player_movedog \u0026lt; 0) then {\ns_player_movedog = player addAction [localize \"str_actions_movedog\", \"\\z\\addons\\dayz_code\\actions\\dog\\move.sqf\", player getVariable [\"dogID\", 0], 1, false, true, \"\", \"\"];\n};\nif (s_player_speeddog \u0026lt; 0) then {\n_text = (localize \"str_epoch_player_249\");\n_speed = 0;\nif (_dog getVariable [\"currentSpeed\",1] == 0) then { _speed = 1; _text = (localize \"str_epoch_player_250\"); };\ns_player_speeddog = player addAction [format[localize \"str_actions_speeddog\", _text], \"\\z\\addons\\dayz_code\\actions\\dog\\speed.sqf\",[player getVariable [\"dogID\", 0],_speed], 0, false, true, \"\", \"\"];\n};\nif (s_player_calldog \u0026lt; 0) then {\ns_player_calldog = player addAction [localize \"str_actions_calldog\", \"\\z\\addons\\dayz_code\\actions\\dog\\follow.sqf\", [player getVariable [\"dogID\", 0], true], 2, false, true, \"\", \"\"];\n};\n};\n} else {\nplayer removeAction s_player_movedog; \ns_player_movedog = -1;\nplayer removeAction s_player_speeddog;\ns_player_speeddog = -1;\nplayer removeAction s_player_calldog;\ns_player_calldog =  -1;\n};\n\u00a0\nif((typeOf cursorTarget == \"krepost\") and (player distance cursorTarget \u0026lt; 23)) then {\n\u00a0 \u00a0if (str1 \u0026lt; 0) then {\n\u00a0 \u00a0 \u00a0if ((cursorTarget getVariable [\"CharacterID\",\"0\"] == dayz_combination) or (cursorTarget getVariable [\"CharacterID\",\"0\"] == dayz_playerUID)) then {\n\u00a0 \u00a0 \u00a0 \u00a0str1 = player addAction [format[ \"Open %1\",getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; typeOf cursorTarget \u0026gt;\u0026gt; \"displayName\")], \"Scripts\\Credited\\build\\stronghold\\s_open.sqf\",cursorTarget, 0, false, true];\n\u00a0 \u00a0 \u00a0 \u00a0str2 = player addAction [format[ \"Open interior doors\",_text], \"custom\\build\\stronghold\\s_openall.sqf\",_cursorTarget, 0, false, true];\n\u00a0 \u00a0 \u00a0 \u00a0str3 = player addAction [format[ \"Close interior doors\",_text], \"custom\\build\\stronghold\\s_closeall.sqf\",_cursorTarget, 0, false, true];\n\u00a0 \u00a0 \u00a0 \u00a0str4 = player addAction [format[ \"Lock %1\",getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; typeOf cursorTarget \u0026gt;\u0026gt; \"displayName\")], \"Scripts\\Credited\\build\\stronghold\\s_lock.sqf\",_cursorTarget, 0, false, true];\n\u00a0 _open set [count _open,5];\n\u00a0 \u00a0 \u00a0} else {\n\u00a0 \u00a0 \u00a0 \u00a0str1 = player addAction [format[\"Unlock %1\",getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; typeOf cursorTarget \u0026gt;\u0026gt; \"displayName\")], \"Scripts\\Credited\\build\\stronghold\\s_unlock.sqf\",cursorTarget, 0, false, true];\n\u00a0 \u00a0_open set [count _open,1];\n\u00a0 \u00a0 \u00a0};\n\u00a0 \u00a0};\n} else {\n\u00a0 \u00a0player removeAction str1;\n\u00a0 \u00a0str1 = -1;\n\u00a0 \u00a0player removeAction str2;\n\u00a0 \u00a0str2 = -1;\n\u00a0 \u00a0player removeAction str3;\n\u00a0 \u00a0str3 = -1;\n\u00a0 \u00a0player removeAction str4;\n\u00a0 \u00a0str4 = -1;\n};\n\n\n\u00a0\n\u00a0\n",
    "dateCreated": "2015-02-03T01:27:38+0000",
    "datePublished": "2015-02-03T01:27:38+0000",
    "dateModified": "2015-02-03T01:29:31+0000",
    "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
    "author": {
        "@type": "Person",
        "name": "thenutsoframbo",
        "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
        "url": "https://epochmod.com/forum/profile/26925-thenutsoframbo/"
    },
    "interactionStatistic": [
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/ViewAction",
            "userInteractionCount": 1054
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/CommentAction",
            "userInteractionCount": 1
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/FollowAction",
            "userInteractionCount": 0
        }
    ],
    "@context": "http://schema.org",
    "@type": "QAPage",
    "@id": "https://epochmod.com/forum/topic/32046-please-help-selfactions-error/",
    "url": "https://epochmod.com/forum/topic/32046-please-help-selfactions-error/",
    "mainEntity": {
        "@type": "Question",
        "name": "Please help, SelfActions Error",
        "text": "This is the error that I\u0027m getting, and it\u0027s random EVERY time I build an object, I have Snap Pro, and A plot for life installed. In game when i join it doesnt work, but if I relog I can place objects but snap pro doesnt work. I\u0027ve tried re-installing it 10\u0027s of times.I think its an error in my self actions.\n\nError in expression \u0026lt;er_studybody = -1;\n\u00a0\nplayer removeAction s_clothes;\ns_clothes = -1;\n\u00a0\nplayer remov\u0026gt;\n\u00a0 Error position: \u0026lt;s_clothes;\ns_clothes = -1;\n\u00a0\nplayer remov\u0026gt;\n\u00a0 Error Undefined variable in expression: s_clothes\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 1141\nError in expression \u0026lt;,1];\n};\n};\n} else {\nplayer removeAction str1;\nstr1 = -1;\nplayer removeAction str\u0026gt;\n\u00a0 Error position: \u0026lt;str1;\nstr1 = -1;\nplayer removeAction str\u0026gt;\n\u00a0 Error Undefined variable in expression: str1\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 1238\nError in expression \u0026lt;false];\n};\n} else {\nplayer removeAction s_player_manageDoor;\ns_player_manageDoor\u0026gt;\n\u00a0 Error position: \u0026lt;s_player_manageDoor;\ns_player_manageDoor\u0026gt;\n\u00a0 Error Undefined variable in expression: s_player_managedoor\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 715\nError in expression \u0026lt;\"\",\"\"];\n};\n} else {\nplayer removeAction s_player_packvehicle;\ns_player_packvehic\u0026gt;\n\u00a0 Error position: \u0026lt;s_player_packvehicle;\ns_player_packvehic\u0026gt;\n\u00a0 Error Undefined variable in expression: s_player_packvehicle\nFile mpmissions\\__CUR_MP.Tavi\\Main\\init\\fn_selfActions.sqf, line 969\n\n\u00a0\n\n\nscriptName \"Functions\\misc\\fn_selfActions.sqf\";\n/***********************************************************\nADD ACTIONS FOR SELF\n- Function\n- [] call fnc_usec_selfActions;\n************************************************************/\nprivate [\"_isWreckBuilding\",\"_temp_keys\",\"_magazinesPlayer\",\"_isPZombie\",\"_vehicle\",\"_inVehicle\",\"_hasFuelE\",\"_hasRawMeat\",\"_hasKnife\",\"_hasToolbox\",\"_onLadder\",\"_nearLight\",\"_canPickLight\",\"_canDo\",\"_text\",\"_isHarvested\",\"_isVehicle\",\"_isVehicletype\",\"_isMan\",\"_traderType\",\"_ownerID\",\"_isAnimal\",\"_isDog\",\"_isZombie\",\"_isDestructable\",\"_isTent\",\"_isFuel\",\"_isAlive\",\"_Unlock\",\"_lock\",\"_buy\",\"_dogHandle\",\"_lieDown\",\"_warn\",\"_hastinitem\",\"_allowedDistance\",\"_menu\",\"_menu1\",\"_humanity_logic\",\"_low_high\",\"_cancel\",\"_metals_trader\",\"_traderMenu\",\"_isWreck\",\"_isRemovable\",\"_isDisallowRepair\",\"_rawmeat\",\"_humanity\",\"_speed\",\"_dog\",\"_hasbottleitem\",\"_isAir\",\"_isShip\",\"_playersNear\",\"_findNearestGens\",\"_findNearestGen\",\"_IsNearRunningGen\",\"_cursorTarget\",\"_isnewstorage\",\"_itemsPlayer\",\"_ownerKeyId\",\"_typeOfCursorTarget\",\"_hasKey\",\"_oldOwner\",\"_combi\",\"_key_colors\",\"_player_deleteBuild\",\"_player_flipveh\",\"_player_lockUnlock_crtl\",\"_player_butcher\",\"_player_studybody\",\"_player_cook\",\"_player_boil\",\"_hasFuelBarrelE\",\"_hasHotwireKit\",\"_player_SurrenderedGear\",\"_isSurrendered\",\"_isModular\",\"_isModularDoor\",\"_ownerKeyName\",\"_temp_keys_names\",\"_hasAttached\",\"_allowTow\",\"_liftHeli\",\"_found\",\"_posL\",\"_posC\",\"_height\",\"_liftHelis\",\"_attached\",\"_playerUID\",\"_characterID\",\"_plotDistance\",\"_PlotsNear\", \"_classname\",\"_isowner\"];\n\u00a0\nif (DZE_ActionInProgress) exitWith {}; // Do not allow if any script is running.\n\u00a0\n_origins_buildings = [\"Uroven1DrevenaBudka\", \"Uroven2KladaDomek\", \"Uroven3DrevenyDomek\", \"Uroven1VelkaBudka\", \"Uroven2MalyDomek\", \"Uroven3VelkyDomek\", \"malaGaraz\", \"velkaGaraz\", \"kingramida\", \"ori_safe\",\"krepost\"];\n_vehicle = vehicle player;\n_isPZombie = player isKindOf \"PZombie_VB\";\n_inVehicle = (_vehicle != player);\n\u00a0\n_onLadder = (getNumber (configFile \u0026gt;\u0026gt; \"CfgMovesMaleSdr\" \u0026gt;\u0026gt; \"States\" \u0026gt;\u0026gt; (animationState player) \u0026gt;\u0026gt; \"onLadder\")) == 1;\n_canDo = (!r_drag_sqf \u0026amp;\u0026amp; !r_player_unconscious \u0026amp;\u0026amp; !_onLadder);\n\u00a0\n_nearLight =  nearestObject [player,\"LitObject\"];\n_canPickLight = false;\nif (!isNull _nearLight) then {\nif (_nearLight distance player \u0026lt; 4) then {\n_canPickLight = isNull (_nearLight getVariable [\"owner\",objNull]);\n};\n};\n\u00a0\n//Grab Flare\nif (_canPickLight \u0026amp;\u0026amp; !dayz_hasLight \u0026amp;\u0026amp; !_isPZombie) then {\nif (s_player_grabflare \u0026lt; 0) then {\n_text = getText (configFile \u0026gt;\u0026gt; \"CfgAmmo\" \u0026gt;\u0026gt; (typeOf _nearLight) \u0026gt;\u0026gt; \"displayName\");\ns_player_grabflare = player addAction [format[localize \"str_actions_medical_15\",_text], \"\\z\\addons\\dayz_code\\actions\\flare_pickup.sqf\",_nearLight, 1, false, true, \"\", \"\"];\ns_player_removeflare = player addAction [format[localize \"str_actions_medical_17\",_text], \"\\z\\addons\\dayz_code\\actions\\flare_remove.sqf\",_nearLight, 1, false, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_grabflare;\nplayer removeAction s_player_removeflare;\ns_player_grabflare = -1;\ns_player_removeflare = -1;\n};\n//OriginsDoors\nif(isNil \"s_player_openhouse\") then {\n\u00a0 \u00a0 \u00a0 \u00a0 s_player_openhouse = -1;\n};\nif(isNil \"HouseState\") then {\nHouseState = 0;\n};\nif(isNil \"GarageState\") then {\nGarageState = 0;\n};\nif(isNil \"s_player_opengarage\") then {\ns_player_opengarage = -1;\n};\n_houses = [\"Uroven1DrevenaBudka\", \"Uroven2KladaDomek\", \"Uroven3DrevenyDomek\", \"Uroven1VelkaBudka\", \"Uroven2MalyDomek\", \"Uroven3VelkyDomek\"];\n_garages = [\"malaGaraz\", \"velkaGaraz\",\"Uroven3DrevenyDomek\",\"Uroven3VelkyDomek\",\"kingramida\"];\n\u00a0 \u00a0 \u00a0 \u00a0 DoorToOpen = objnull;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _obj = player;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _cursorTarget = cursorTarget;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (!isNull _cursorTarget) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (player distance _cursorTarget \u0026lt; 10) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _ownerID = _cursorTarget getVariable[\u0027CharacterID\u0027,\u00270\u0027];\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (getPlayerUIDOld player == _ownerID) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 DoorToOpen = _cursorTarget;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (s_player_openhouse \u0026lt; 0) then {\nif(typeOf(DoorToOpen) in _houses) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"Uroven1DrevenaBudka\") then { _OpenClose = \u0027Unlock Bandit Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2KladaDomek\") then { _OpenClose = \u0027Unlock Bandit Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Unlock Bandit Level 3 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven1VelkaBudka\") then { _OpenClose = \u0027Unlock Hero Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2MalyDomek\") then { _OpenClose = \u0027Unlock Hero Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Unlock Hero Level 3 House\u0027;};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (HouseState == 1) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"Uroven1DrevenaBudka\") then { _OpenClose = \u0027Lock Bandit Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2KladaDomek\") then { _OpenClose = \u0027Lock Bandit Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Lock Bandit Level 3 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven1VelkaBudka\") then { _OpenClose = \u0027Lock Hero Level 1 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven2MalyDomek\") then { _OpenClose = \u0027Lock Hero Level 2 House\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Lock Hero Level 3 House\u0027;};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 s_player_openhouse = player addAction [_OpenClose, \u0027Scripts\\Credited\\build\\originsHouses.sqf\u0027];\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\nif (s_player_opengarage \u0026lt; 0) then\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\nif(typeOf(DoorToOpen) in _garages) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"malaGaraz\") then { _OpenClose = \u0027Unlock Small Garage\u0027;};\nif (_cursorTarget isKindOf \"velkaGaraz\") then { _OpenClose = \u0027Unlock Large Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Unlock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Unlock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"kingramida\") then { _OpenClose = \u0027Unlock Pyramid\u0027;};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (GarageState == 1) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _OpenClose = \"\";\nif (_cursorTarget isKindOf \"malaGaraz\") then { _OpenClose = \u0027Lock Small Garage\u0027;};\nif (_cursorTarget isKindOf \"velkaGaraz\") then { _OpenClose = \u0027Lock Large Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3DrevenyDomek\") then { _OpenClose = \u0027Lock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"Uroven3VelkyDomek\") then { _OpenClose = \u0027Lock Level 3 Garage\u0027;};\nif (_cursorTarget isKindOf \"kingramida\") then { _OpenClose = \u0027Lock Pyramid\u0027;};\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 s_player_opengarage = player addAction [_OpenClose, \u0027Scripts\\Credited\\build\\originsGarages.sqf\u0027];\n};\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if ((_obj != player) || (_cursorTarget != cursorTarget)) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _obj removeAction s_player_openhouse;\n_obj removeAction s_player_opengarage;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_openhouse = -1;\ns_player_opengarage = -1;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0\n\u00a0 \u00a0 \u00a0 \u00a0\nif (DZE_HeliLift) then {\n_hasAttached = _vehicle getVariable[\"hasAttached\",false];\nif(_inVehicle \u0026amp;\u0026amp; (_vehicle isKindOf \"Air\") \u0026amp;\u0026amp; ((([_vehicle] call FNC_getPos) select 2) \u0026lt; 30) \u0026amp;\u0026amp; (speed _vehicle \u0026lt; 5) \u0026amp;\u0026amp; (typeName _hasAttached == \"OBJECT\")) then {\nif (s_player_heli_detach \u0026lt; 0) then {\ndayz_myLiftVehicle = _vehicle;\ns_player_heli_detach = dayz_myLiftVehicle addAction [\"Detach Vehicle\",\"\\z\\addons\\dayz_code\\actions\\player_heliDetach.sqf\",[dayz_myLiftVehicle,_hasAttached],2,false,true,\"\",\"\"];\n};\n} else {\ndayz_myLiftVehicle removeAction s_player_heli_detach;\ns_player_heli_detach = -1;\n};\n};\n\u00a0\nif(DZE_HaloJump) then {\nif(_inVehicle \u0026amp;\u0026amp; (_vehicle isKindOf \"Air\") \u0026amp;\u0026amp; ((([_vehicle] call FNC_getPos) select 2) \u0026gt; 400)) then {\nif (s_halo_action \u0026lt; 0) then {\nDZE_myHaloVehicle = _vehicle;\ns_halo_action = DZE_myHaloVehicle addAction [localize \"STR_EPOCH_ACTIONS_HALO\",\"\\z\\addons\\dayz_code\\actions\\halo_jump.sqf\",[],2,false,true,\"\",\"\"];\n};\n} else {\nDZE_myHaloVehicle removeAction s_halo_action;\ns_halo_action = -1;\n};\n};\n\u00a0\nif (!DZE_ForceNameTagsOff) then {\nif (s_player_showname \u0026lt; 0 \u0026amp;\u0026amp; !_isPZombie) then {\nif (DZE_ForceNameTags) then {\ns_player_showname = 1;\nplayer setVariable[\"DZE_display_name\",true,true];\n} else {\ns_player_showname = player addAction [localize \"STR_EPOCH_ACTIONS_NAMEYES\", \"\\z\\addons\\dayz_code\\actions\\display_name.sqf\",true, 0, true, false, \"\",\"\"];\ns_player_showname1 = player addAction [localize \"STR_EPOCH_ACTIONS_NAMENO\", \"\\z\\addons\\dayz_code\\actions\\display_name.sqf\",false, 0, true, false, \"\",\"\"];\n};\n};\n};\n\u00a0\nif(_isPZombie) then {\nif (s_player_callzombies \u0026lt; 0) then {\ns_player_callzombies = player addAction [localize \"STR_EPOCH_ACTIONS_RAISEHORDE\", \"\\z\\addons\\dayz_code\\actions\\call_zombies.sqf\",player, 5, true, false, \"\",\"\"];\n};\nif (DZE_PZATTACK) then {\ncall pz_attack;\nDZE_PZATTACK = false;\n};\nif (s_player_pzombiesvision \u0026lt; 0) then {\ns_player_pzombiesvision = player addAction [localize \"STR_EPOCH_ACTIONS_NIGHTVIS\", \"\\z\\addons\\dayz_code\\actions\\pzombie\\pz_vision.sqf\", [], 4, false, true, \"nightVision\", \"_this == _target\"];\n};\nif (!isNull cursorTarget \u0026amp;\u0026amp; (player distance cursorTarget \u0026lt; 3)) then { //Has some kind of target\n_isAnimal = cursorTarget isKindOf \"Animal\";\n_isZombie = cursorTarget isKindOf \"zZombie_base\";\n_isHarvested = cursorTarget getVariable[\"meatHarvested\",false];\n_isMan = cursorTarget isKindOf \"Man\";\n// Pzombie Gut human corpse || animal\nif (!alive cursorTarget \u0026amp;\u0026amp; (_isAnimal || _isMan) \u0026amp;\u0026amp; !_isZombie \u0026amp;\u0026amp; !_isHarvested) then {\nif (s_player_pzombiesfeed \u0026lt; 0) then {\ns_player_pzombiesfeed = player addAction [localize \"STR_EPOCH_ACTIONS_FEED\", \"\\z\\addons\\dayz_code\\actions\\pzombie\\pz_feed.sqf\",cursorTarget, 3, true, false, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_pzombiesfeed;\ns_player_pzombiesfeed = -1;\n};\n} else {\nplayer removeAction s_player_pzombiesfeed;\ns_player_pzombiesfeed = -1;\n};\n};\n\u00a0\n// Increase distance only if AIR || SHIP\n_allowedDistance = 4;\n_isAir = cursorTarget isKindOf \"Air\";\n_isShip = cursorTarget isKindOf \"Ship\";\nif(_isAir || _isShip) then {\n_allowedDistance = 8;\n};\n\u00a0\nif (!isNull cursorTarget \u0026amp;\u0026amp; !_inVehicle \u0026amp;\u0026amp; !_isPZombie \u0026amp;\u0026amp; (player distance cursorTarget \u0026lt; _allowedDistance) \u0026amp;\u0026amp; _canDo) then { //Has some kind of target\n\u00a0\n// set cursortarget to variable\n_cursorTarget = cursorTarget;\n\u00a0\n// get typeof cursortarget once\n_typeOfCursorTarget = typeOf _cursorTarget;\n\u00a0\n// hintsilent _typeOfCursorTarget;\n\u00a0\n_isVehicle = _cursorTarget isKindOf \"AllVehicles\";\n_isVehicletype = _typeOfCursorTarget in [\"ATV_US_EP1\",\"ATV_CZ_EP1\"];\n_isnewstorage = _typeOfCursorTarget in DZE_isNewStorage;\n\u00a0\n// get items \u0026amp;\u0026amp; magazines only once\n_magazinesPlayer = magazines player;\n\u00a0\n//boiled Water\n_hasbottleitem = \"ItemWaterbottle\" in _magazinesPlayer;\n_hastinitem = false;\n{\nif (_x in _magazinesPlayer) then {\n_hastinitem = true;\n};\n} count boil_tin_cans;\n_hasFuelE =  \"ItemJerrycanEmpty\" in _magazinesPlayer;\n_hasFuelBarrelE =  \"ItemFuelBarrelEmpty\" in _magazinesPlayer;\n_hasHotwireKit =  \"ItemHotwireKit\" in _magazinesPlayer;\n\u00a0\n_itemsPlayer = items player;\n\u00a0\n_temp_keys = [];\n_temp_keys_names = [];\n// find available keys\n_key_colors = [\"ItemKeyYellow\",\"ItemKeyBlue\",\"ItemKeyRed\",\"ItemKeyGreen\",\"ItemKeyBlack\"];\n{\nif (configName(inheritsFrom(configFile \u0026gt;\u0026gt; \"CfgWeapons\" \u0026gt;\u0026gt; _x)) in _key_colors) then {\n_ownerKeyId = getNumber(configFile \u0026gt;\u0026gt; \"CfgWeapons\" \u0026gt;\u0026gt; _x \u0026gt;\u0026gt; \"keyid\");\n_ownerKeyName = getText(configFile \u0026gt;\u0026gt; \"CfgWeapons\" \u0026gt;\u0026gt; _x \u0026gt;\u0026gt; \"displayName\");\n_temp_keys_names set [_ownerKeyId,_ownerKeyName];\n_temp_keys set [count _temp_keys,str(_ownerKeyId)];\n};\n} count _itemsPlayer;\n\u00a0\n_hasKnife =  \"ItemKnife\" in _itemsPlayer;\n_hasToolbox =  \"ItemToolbox\" in _itemsPlayer;\n\u00a0\nif (DZE_APlotforLife) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_playerUID = [player] call FNC_GetPlayerUID; \n\u00a0 \u00a0 \u00a0 \u00a0}else{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_playerUID = dayz_characterID; \n};\n\u00a0\n\u00a0\n_isMan = _cursorTarget isKindOf \"Man\";\n_traderType = _typeOfCursorTarget;\n_ownerID = _cursorTarget getVariable [\"ownerPUID\",\"0\"];\n_characterID = _cursorTarget getVariable [\"CharacterID\",\"0\"];\n_isAnimal = _cursorTarget isKindOf \"Animal\";\n_isDog = \u00a0(_cursorTarget isKindOf \"DZ_Pastor\" || _cursorTarget isKindOf \"DZ_Fin\");\n_isZombie = _cursorTarget isKindOf \"zZombie_base\";\n_isDestructable = _cursorTarget isKindOf \"BuiltItems\";\n_isWreck = _typeOfCursorTarget in DZE_isWreck;\n_isWreckBuilding = _typeOfCursorTarget in DZE_isWreckBuilding;\n_isModular = _cursorTarget isKindOf \"ModularItems\" or ((typeOf _cursorTarget) in Custom_Buildables);\n_isModularDoor = _typeOfCursorTarget in [\"Land_DZE_WoodDoor\",\"Land_DZE_LargeWoodDoor\",\"Land_DZE_GarageWoodDoor\",\"CinderWallDoor_DZ\",\"CinderWallDoorSmall_DZ\"];\n\u00a0\n_isRemovable = _typeOfCursorTarget in DZE_isRemovable;\n_isDisallowRepair = _typeOfCursorTarget in [\"M240Nest_DZ\"];\n\u00a0\n_isTent = _cursorTarget isKindOf \"TentStorage\";\n\u00a0\n_isAlive = alive _cursorTarget;\n\u00a0\n_text = getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; _typeOfCursorTarget \u0026gt;\u0026gt; \"displayName\");\n\u00a0\n_rawmeat = meatraw;\n_hasRawMeat = false;\n{\nif (_x in _magazinesPlayer) then {\n_hasRawMeat = true;\n};\n} count _rawmeat;\u00a0\n\u00a0\n_isFuel = false;\nif (_hasFuelE || _hasFuelBarrelE) then {\n{\nif(_cursorTarget isKindOf _x) exitWith {_isFuel = true;};\n} count dayz_fuelsources;\n};\n\u00a0\n// diag_log (\"OWNERID = \" + _ownerID + \" CHARID = \" + dayz_characterID + \" \" + str(_ownerID == dayz_characterID));\n\u00a0\n// logic vars\n_player_flipveh = false;\n_player_deleteBuild = false;\n_player_lockUnlock_crtl = false;\n\u00a0\nif (_canDo \u0026amp;\u0026amp; (speed player \u0026lt;= 1) \u0026amp;\u0026amp; (_cursorTarget isKindOf \"Plastic_Pole_EP1_DZ\")) then {\nif (s_player_plotManagement \u0026lt; 0) then {\n_adminList = [\"0152\"]; // Add admins here if you admins to able to manage all plotpoles\n_owner = _cursorTarget getVariable [\"ownerPUID\",\"0\"];\n_friends = _cursorTarget getVariable [\"plotfriends\", []];\n_fuid = [];\n{\n_friendUID = _x select 0;\n_fuid = _fuid + [_friendUID];\n} forEach _friends;\n_allowed = [_owner]; \u00a0 \u00a0\n_allowed = [_owner] + _adminList + _fuid;\nif((getPlayerUID player) in _allowed)then{ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\ns_player_plotManagement = player addAction [\"\u0026lt;t color=\u0027#0059FF\u0027\u0026gt;Manage Plot\u0026lt;/t\u0026gt;\", \"plotManagement\\initPlotManagement.sqf\", [], 5, false];\n};\n};\nif (s_player_maintain_area \u0026lt; 0) then {\n\u00a0 s_player_maintain_area = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_MAINTAREA\"], \"\\z\\addons\\dayz_code\\actions\\maintain_area.sqf\", \"maintain\", 5, false];\ns_player_maintain_area_preview = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_MAINTPREV\"], \"\\z\\addons\\dayz_code\\actions\\maintain_area.sqf\", \"preview\", 5, false];\n};\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_plotDistance = (DZE_PlotPole select 0); \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_PlotsmarkersNear = count (_cursorTarget nearEntities [\"Land_coneLight\", _PlotDistance]); \n\u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (s_player_plot_boundary_on \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0If (_PlotsmarkersNear == 0 ) then{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_on = player addAction [\"Show plot boundary\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\object_showPlotRadius.sqf\", \"\", 1, false]; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }; \u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (s_player_plot_boundary_off \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0If (_PlotsmarkersNear \u0026gt; 0 ) then{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_off = player addAction [\"Remove plot boundary\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\object_removePlotRadius.sqf\", \"\", 1, false]; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (s_player_plot_take_ownership \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (DZE_PlotOwnership) then { \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0_isowner = [player, _cursorTarget] call FNC_check_owner; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0If (( _isowner select 0 )) then{ \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_take_ownership = player addAction [\"Take plot items ownership\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\plot_take_ownership.sqf\", \"\", 1, false]; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0};\n} else {\n\u00a0 \u00a0  player removeAction s_player_plotManagement;\ns_player_plotManagement = -1;\n\u00a0 \u00a0  player removeAction s_player_maintain_area;\n\u00a0 \u00a0  s_player_maintain_area = -1;\n\u00a0 \u00a0  player removeAction s_player_maintain_area_preview;\n\u00a0 \u00a0  s_player_maintain_area_preview = -1;\nplayer removeAction s_player_plot_boundary_on; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_on = -1; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0player removeAction s_player_plot_boundary_off; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_boundary_off = -1; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0player removeAction s_player_plot_take_ownership; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0s_player_plot_take_ownership = -1;\n};\n\u00a0\n// CURSOR TARGET ALIVE\nif(_isAlive) then {\n\u00a0\n//Allow player to delete objects\nif(_isDestructable || _isWreck || _isRemovable || _isWreckBuilding) then {\nif(_hasToolbox \u0026amp;\u0026amp; \"ItemCrowbar\" in _itemsPlayer) then {\n_player_deleteBuild = true;\n};\n};\n\u00a0\n///Allow owners to delete modulars\n\u00a0 \u00a0 if(_isModular) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if(_hasToolbox \u0026amp;\u0026amp; \"ItemCrowbar\" in _itemsPlayer) then {\n_findNearestPoles = nearestObjects[player, [\"Plastic_Pole_EP1_DZ\"], DZE_PlotPole select 0];\n_IsNearPlot = count (_findNearestPoles);\n_fuid \u00a0= [];\n_allowed = [];\nif(_IsNearPlot \u0026gt; 0)then{\n_thePlot = _findNearestPoles select 0;\n_owner = \u00a0_thePlot getVariable [\"ownerPUID\",\"010\"];\n_friends = _thePlot getVariable [\"plotfriends\", []];\n{\n\u00a0_friendUID = _x select 0;\n\u00a0_fuid \u00a0= \u00a0_fuid \u00a0+ [_friendUID];\n} forEach _friends;\n_allowed = [_owner]; \u00a0 \u00a0\n_allowed = [_owner] + \u00a0_fuid; \nif ( _playerUID in _allowed \u0026amp;\u0026amp; _ownerID in _allowed ) then { \u00a0\n_player_deleteBuild = true;\n}; \n}else{\nif(_ownerID == _playerUID)then{\n_player_deleteBuild = true;\n};\n};  \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 };\n\u00a0 \u00a0 };\n//Allow owners to delete modular doors without locks\n\u00a0 \u00a0 if(_isModularDoor) then {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if(_hasToolbox \u0026amp;\u0026amp; \"ItemCrowbar\" in _itemsPlayer) then { \n_findNearestPoles = nearestObjects[player, [\"Plastic_Pole_EP1_DZ\"], DZE_PlotPole select 0];\n_IsNearPlot = count (_findNearestPoles);\n_fuid \u00a0= [];\n_allowed = [];\nif(_IsNearPlot \u0026gt; 0)then{\n_thePlot = _findNearestPoles select 0;\n_owner = \u00a0_thePlot getVariable [\"ownerPUID\",\"010\"];\n_friends = _thePlot getVariable [\"plotfriends\", []];\n{\n\u00a0_friendUID = _x select 0;\n\u00a0_fuid \u00a0= \u00a0_fuid \u00a0+ [_friendUID];\n} forEach _friends;\n_allowed = [_owner]; \u00a0 \u00a0\n_allowed = [_owner] + \u00a0_fuid; \nif ( _playerUID in _allowed \u0026amp;\u0026amp; _ownerID in _allowed) then {\n_player_deleteBuild = true;\n}; \n}else{\nif(_ownerID == _playerUID)then{\n_player_deleteBuild = true;\n};\n}; \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }; \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 };\n// CURSOR TARGET VEHICLE\nif(_isVehicle) then {\n\u00a0\n//flip vehicle small vehicles by your self \u0026amp;\u0026amp; all other vehicles with help nearby\nif (!(canmove _cursorTarget) \u0026amp;\u0026amp; (player distance _cursorTarget \u0026gt;= 2) \u0026amp;\u0026amp; (count (crew _cursorTarget))== 0 \u0026amp;\u0026amp; ((vectorUp _cursorTarget) select 2) \u0026lt; 0.5) then {\n_playersNear = {isPlayer _x} count (player nearEntities [\"CAManBase\", 6]);\nif(_isVehicletype || (_playersNear \u0026gt;= 2)) then {\n_player_flipveh = true; \n};\n};\n\u00a0\n\u00a0\nif(!_isMan \u0026amp;\u0026amp; _characterID != \"0\" \u0026amp;\u0026amp; !(_cursorTarget isKindOf \"Bicycle\")) then {\n_player_lockUnlock_crtl = true;\n};\n\u00a0\n};\n\u00a0\n};\n\u00a0\nif(_player_deleteBuild) then {\nif (s_player_deleteBuild \u0026lt; 0) then {\ns_player_deleteBuild = player addAction [format[localize \"str_actions_delete\",_text], \"Scripts\\Credited\\A_Plot_for_Life\\Action\\remove.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_deleteBuild;\ns_player_deleteBuild = -1;\n};\n\u00a0\nif (DZE_HeliLift) then {\n_liftHeli = objNull;\n_found = false;\n\u00a0\n_allowTow = false;\nif ((count (crew _cursorTarget)) == 0) then {\n{\nif(!_allowTow) then {\n_allowTow = _cursorTarget isKindOf _x;\n};\n} count DZE_HeliAllowToTow;\n};\n\u00a0\n//diag_log format[\"CREW: %1 ALLOW: %2\",(count (crew _cursorTarget)),_allowTow];\n\u00a0\nif (_allowTow) then {\n_liftHelis = nearestObjects [player, DZE_HeliAllowTowFrom, 15];\n{\nif(!_found) then {\n_posL = [_x] call FNC_getPos;\n_posC = [_cursorTarget] call FNC_getPos;\n_height = (_posL select 2) - (_posC select 2);\n_hasAttached = _x getVariable[\"hasAttached\",false];\nif(_height \u0026lt; 15 \u0026amp;\u0026amp; _height \u0026gt; 5 \u0026amp;\u0026amp; (typeName _hasAttached != \"OBJECT\")) then {\nif(((abs((_posL select 0) - (_posC select 0))) \u0026lt; 10) \u0026amp;\u0026amp; ((abs((_posL select 1) - (_posC select 1))) \u0026lt; 10)) then {\n_liftHeli = _x;\n_found = true;\n};\n};\n};\n} count _liftHelis;\n};\n\u00a0\n//diag_log format[\"HELI: %1 TARGET: %2\",_found,_cursorTarget];\n\u00a0\n_attached = _cursorTarget getVariable[\"attached\",false];\nif(_found \u0026amp;\u0026amp; _allowTow \u0026amp;\u0026amp; _canDo \u0026amp;\u0026amp; !locked _cursorTarget \u0026amp;\u0026amp; !_isPZombie \u0026amp;\u0026amp; (typeName _attached != \"OBJECT\")) then {\nif (s_player_heli_lift \u0026lt; 0) then {\ns_player_heli_lift = player addAction [\"Attach to Heli\", \"\\z\\addons\\dayz_code\\actions\\player_heliLift.sqf\",[_liftHeli,_cursorTarget], -10, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_heli_lift;\ns_player_heli_lift = -1;\n};\n};\n\u00a0\n// Allow Owner to lock \u0026amp;\u0026amp; unlock vehicle \u00a0\nif(_player_lockUnlock_crtl) then {\nif (s_player_lockUnlock_crtl \u0026lt; 0) then {\n_hasKey = _characterID in _temp_keys;\n_oldOwner = (_characterID == dayz_playerUID);\nif(locked _cursorTarget) then {\nif(_hasKey || _oldOwner) then {\n_Unlock = player addAction [format[localize \"STR_EPOCH_ACTIONS_UNLOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\unlock_veh.sqf\",[_cursorTarget,(_temp_keys_names select (parseNumber _characterID))], 2, true, true, \"\", \"\"];\ns_player_lockunlock set [count s_player_lockunlock,_Unlock];\ns_player_lockUnlock_crtl = 1;\n} else {\nif(_hasHotwireKit) then {\n_Unlock = player addAction [format[localize \"STR_EPOCH_ACTIONS_HOTWIRE\",_text], \"\\z\\addons\\dayz_code\\actions\\hotwire_veh.sqf\",_cursorTarget, 2, true, true, \"\", \"\"];\n} else {\n_Unlock = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_VEHLOCKED\"], \"\",_cursorTarget, 2, true, true, \"\", \"\"];\n};\ns_player_lockunlock set [count s_player_lockunlock,_Unlock];\ns_player_lockUnlock_crtl = 1;\n};\n} else {\nif(_hasKey || _oldOwner) then {\n_lock = player addAction [format[localize \"STR_EPOCH_ACTIONS_LOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\lock_veh.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\ns_player_lockunlock set [count s_player_lockunlock,_lock];\nif (_typeOfCursorTarget in ColourVehicles) then {\nprivate [\"_paint\"];\n_paint = player addAction [\"Paint\", \"Scripts\\Modified\\Paint\\player_paint_init.sqf\",_cursorTarget, 2, true, true, \"\", \"\"];\ns_player_lockunlock set [count s_player_lockunlock,_paint];\n};\ns_player_lockUnlock_crtl = 1;\n};\n};\n};\n\u00a0\n} else {\n{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];\ns_player_lockUnlock_crtl = -1;\n};\n\u00a0\nif(DZE_AllowForceSave) then {\n//Allow player to force save\nif((_isVehicle || _isTent) \u0026amp;\u0026amp; !_isMan) then {\nif (s_player_forceSave \u0026lt; 0) then {\ns_player_forceSave = player addAction [format[localize \"str_actions_save\",_text], \"\\z\\addons\\dayz_code\\actions\\forcesave.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_forceSave;\ns_player_forceSave = -1;\n};\n};\n\u00a0\n\u00a0\n\u00a0\nIf(DZE_AllowCargoCheck) then {\nif((_isVehicle || _isTent || _isnewstorage) \u0026amp;\u0026amp; _isAlive \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp; !locked _cursorTarget) then {\nif (s_player_checkGear \u0026lt; 0) then {\ns_player_checkGear = player addAction [localize \"STR_EPOCH_PLAYER_CARGO\", \"\\z\\addons\\dayz_code\\actions\\cargocheck.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_checkGear;\ns_player_checkGear = -1;\n};\n};\n\u00a0\n\u00a0\n//flip vehicle small vehicles by your self \u0026amp;\u0026amp; all other vehicles with help nearby\nif(_player_flipveh) then {\nif (s_player_flipveh \u00a0\u0026lt; 0) then {\ns_player_flipveh = player addAction [format[localize \"str_actions_flipveh\",_text], \"\\z\\addons\\dayz_code\\actions\\player_flipvehicle.sqf\",_cursorTarget, 1, true, true, \"\", \"\"]; \n};\n} else {\nplayer removeAction s_player_flipveh;\ns_player_flipveh = -1;\n};\u00a0\n\u00a0\n//Allow player to fill jerrycan\nif((_hasFuelE || _hasFuelBarrelE) \u0026amp;\u0026amp; _isFuel) then {\nif (s_player_fillfuel \u0026lt; 0) then {\ns_player_fillfuel = player addAction [localize \"str_actions_self_10\", \"\\z\\addons\\dayz_code\\actions\\jerry_fill.sqf\",[], 1, false, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_fillfuel;\ns_player_fillfuel = -1;\n};\n\u00a0\n// logic vars for addactions\n_player_butcher = false;\n_player_studybody = false;\n_player_SurrenderedGear = false;\n\u00a0\n// CURSOR TARGET NOT ALIVE\nif (!_isAlive) then {\n\u00a0\n// Gut animal/zed\nif((_isAnimal || _isZombie) \u0026amp;\u0026amp; _hasKnife) then {\n_isHarvested = _cursorTarget getVariable[\"meatHarvested\",false];\nif (!_isHarvested) then {\n_player_butcher = true;\n};\n};\n\u00a0\n// Study body\nif (_isMan \u0026amp;\u0026amp; !_isZombie \u0026amp;\u0026amp; !_isAnimal) then {\n_player_studybody = true;\n}\n} else {\n// unit alive\n\u00a0\n// gear access on surrendered player\nif(_isMan \u0026amp;\u0026amp; !_isZombie \u0026amp;\u0026amp; !_isAnimal) then {\n_isSurrendered = _cursorTarget getVariable [\"DZE_Surrendered\",false];\nif (_isSurrendered) then {\n_player_SurrenderedGear = true;\n};\n};\n};\n\u00a0\n\u00a0\n// Human Gut animal || zombie\nif (_player_butcher) then {\nif (s_player_butcher \u0026lt; 0) then {\nif(_isZombie) then {\ns_player_butcher = player addAction [localize \"STR_EPOCH_ACTIONS_GUTZOM\", \"\\z\\addons\\dayz_code\\actions\\gather_zparts.sqf\",_cursorTarget, 0, true, true, \"\", \"\"];\n} else {\ns_player_butcher = player addAction [localize \"str_actions_self_04\", \"\\z\\addons\\dayz_code\\actions\\gather_meat.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n};\n} else {\nplayer removeAction s_player_butcher;\ns_player_butcher = -1;\n};\n\u00a0\n// Study Body\nif (_player_studybody) then {\nif (s_player_studybody \u0026lt; 0) then {\ns_player_studybody = player addAction [(\"\u0026lt;t color=\"\"#FF0000\"\"\u0026gt;\"+(\"Check Wallet\") + \"\u0026lt;/t\u0026gt;\"), \"ZSC\\actions\\check_wallet.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_studybody;\ns_player_studybody = -1;\n};\n\u00a0\n//Remove CLOTHES\nif (_isMan and !_isAlive and !_isZombie and !_isAnimal) then {\nif (s_clothes \u0026lt; 0) then {\ns_clothes = player addAction [(\"\" + (\"Take Clothes\") + \"\"), \"Scripts\\Modified\\skins\\removeclothes.sqf\",cursorTarget, 1, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_clothes;\ns_clothes = -1;\n};\n\u00a0\n// logic vars\n_player_cook = false;\n_player_boil = false;\n\u00a0\n// CURSOR TARGET IS FIRE\nif (inflamed _cursorTarget) then {\n\u00a0\n//Fireplace Actions check\nif (_hasRawMeat) then {\n_player_cook = true; \n};\n\u00a0\n// Boil water\nif (_hasbottleitem \u0026amp;\u0026amp; _hastinitem) then {\n_player_boil = true;\n};\n};\n\u00a0\nif (_player_SurrenderedGear) then {\nif (s_player_SurrenderedGear \u0026lt; 0) then {\ns_player_SurrenderedGear = player addAction [localize \"STR_EPOCH_ACTIONS_GEAR\", \"\\z\\addons\\dayz_code\\actions\\surrender_gear.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_SurrenderedGear;\ns_player_SurrenderedGear = -1;\n};\n\u00a0\n//Fireplace Actions check\nif (_player_cook) then {\nif (s_player_cook \u0026lt; 0) then {\ns_player_cook = player addAction [localize \"str_actions_self_05\", \"\\z\\addons\\dayz_code\\actions\\cook.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_cook;\ns_player_cook = -1;\n};\n\u00a0\n// Boil water\nif (_player_boil) then {\nif (s_player_boil \u0026lt; 0) then {\ns_player_boil = player addAction [localize \"str_actions_boilwater\", \"\\z\\addons\\dayz_code\\actions\\boil.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_boil;\ns_player_boil = -1;\n};\n\u00a0\nif(_cursorTarget == dayz_hasFire) then {\nif ((s_player_fireout \u0026lt; 0) \u0026amp;\u0026amp; !(inflamed _cursorTarget) \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\ns_player_fireout = player addAction [localize \"str_actions_self_06\", \"\\z\\addons\\dayz_code\\actions\\fire_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_fireout;\ns_player_fireout = -1;\n};\n\u00a0\n//Packing my tent\nif(_isTent \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\nif (_ownerID == _playerUID) then {\nif (s_player_packtent \u0026lt; 0) then {\ns_player_packtent = player addAction [localize \"str_actions_self_07\", \"\\z\\addons\\dayz_code\\actions\\tent_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nif((\"ItemJerrycan\" in _magazinesPlayer) \u0026amp;\u0026amp; (\"ItemMatchbox_DZE\" in weapons player)) then {\nif (s_player_packtent \u0026lt; 0) then {\ns_player_packtent = player addAction [localize \"STR_EPOCH_ACTIONS_DESTROYTENT\", \"Scripts\\Credited\\A_Plot_for_Life\\Action\\remove.sqf\",_cursorTarget, 1, true, true, \"\", \"\"];\n};\n};\n};\n} else {\nplayer removeAction s_player_packtent;\ns_player_packtent = -1;\n};\n\u00a0\n//Allow manage door\nif((_typeOfCursorTarget in DZE_DoorsLocked)) then {\nif (s_player_manageDoor \u0026lt; 0) then { \n\u00a0 \u00a0 \u00a0s_player_manageDoor = player addAction [\"\u0026lt;t color=\u0027#0059FF\u0027\u0026gt;Manage Door\u0026lt;/t\u0026gt;\", \"doorManagement\\initDoorManagement.sqf\", _cursorTarget, 5, false];\n};\n} else {\nplayer removeAction s_player_manageDoor;\ns_player_manageDoor = -1;\n};\n\u00a0\n//Allow owner to unlock vault\nif((_typeOfCursorTarget in DZE_LockableStorage) \u0026amp;\u0026amp; _characterID != \"0\" \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\nif (s_player_unlockvault \u0026lt; 0) then {\nif(_typeOfCursorTarget in DZE_LockedStorage) then {\nif(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {\n_combi = player addAction [format[localize \"STR_EPOCH_ACTIONS_OPEN\",_text], \"\\z\\addons\\dayz_code\\actions\\vault_unlock.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\ns_player_combi set [count s_player_combi,_combi];\n} else {\n_combi = player addAction [format[localize \"STR_EPOCH_ACTIONS_UNLOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\vault_combination_1.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\ns_player_combi set [count s_player_combi,_combi];\n};\ns_player_unlockvault = 1;\n} else {\nif(_characterID != dayz_combination \u0026amp;\u0026amp; _ownerID != dayz_playerUID) then {\n_combi = player addAction [localize \"STR_EPOCH_ACTIONS_RECOMBO\", \"\\z\\addons\\dayz_code\\actions\\vault_combination_1.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\ns_player_combi set [count s_player_combi,_combi];\ns_player_unlockvault = 1;\n};\n};\n};\n} else {\n{player removeAction _x} count s_player_combi;s_player_combi = [];\ns_player_unlockvault = -1;\n};\n\u00a0\nif(_typeOfCursorTarget in ZSC_MoneyStorage \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 5)) then {\nif (s_bank_dialog \u0026lt; 0) then {\ns_bank_dialog = player addAction [\"Money Storage\", \"ZSC\\actions\\bank_dialog.sqf\",_cursorTarget, 3, true, true, \"\", \"\"]; \n};\n} else {\n\u00a0 \u00a0 \u00a0 player removeAction s_bank_dialog;\ns_bank_dialog = -1;\n};\n\u00a0\n// cars\u00a0\nif( _isVehicle \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp;_isAlive \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp; !locked _cursorTarget \u0026amp;\u0026amp; !(_cursorTarget isKindOf \"Bicycle\") \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 5)) then { \nif (s_bank_dialog2 \u0026lt; 0) then {\ns_bank_dialog2 = player addAction [\"Money Storage\", \"ZSC\\actions\\bank_dialog.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n}; \n} else { \nplayer removeAction s_bank_dialog2;\ns_bank_dialog2 = -1;\n};\n\u00a0\n//Allow owner to pack vault\nif(_typeOfCursorTarget in DZE_UnLockedStorage \u0026amp;\u0026amp; _characterID != \"0\" \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\n\u00a0\nif (s_player_lockvault \u0026lt; 0) then {\nif(_characterID == dayz_combination || _ownerID == dayz_playerUID) then {\ns_player_lockvault = player addAction [format[localize \"STR_EPOCH_ACTIONS_LOCK\",_text], \"\\z\\addons\\dayz_code\\actions\\vault_lock.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n};\nif (s_player_packvault \u0026lt; 0 \u0026amp;\u0026amp; (_characterID == dayz_combination || _ownerID == dayz_playerUID)) then {\ns_player_packvault = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",(format[localize \"STR_EPOCH_ACTIONS_PACK\",_text])], \"\\z\\addons\\dayz_code\\actions\\vault_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_packvault;\ns_player_packvault = -1;\nplayer removeAction s_player_lockvault;\ns_player_lockvault = -1;\n};\n\u00a0\n\u00a0\n\u00a0\n\u00a0 \u00a0 //Player Deaths\nif(_typeOfCursorTarget == \"Info_Board_EP1\") then {\nif (s_player_information \u0026lt; 0) then {\ns_player_information = player addAction [localize \"STR_EPOCH_ACTIONS_MURDERS\", \"\\z\\addons\\dayz_code\\actions\\list_playerDeaths.sqf\",[], 7, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_information;\ns_player_information = -1;\n};\n\u00a0\nif (_isMan and _isAlive and !_isZombie and !_isAnimal and !(_traderType in serverTraders)) then {\nif (s_givemoney_dialog \u0026lt; 0) then {\ns_givemoney_dialog = player addAction [format[\"Give Money to %1\", (name _cursorTarget)], \"ZSC\\actions\\give_player_dialog.sqf\",_cursorTarget, 3, true, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_givemoney_dialog;\ns_givemoney_dialog = -1;\n};\n\u00a0\n//Fuel Pump\nif(_typeOfCursorTarget in dayz_fuelpumparray) then { \nif (s_player_fuelauto \u0026lt; 0) then {\n\u00a0\n// check if Generator_DZ is running within 30 meters\n_findNearestGens = nearestObjects [player, [\"Generator_DZ\"], 30];\n_findNearestGen = [];\n{\nif (alive _x \u0026amp;\u0026amp; (_x getVariable [\"GeneratorRunning\", false])) then {\n_findNearestGen set [(count _findNearestGen),_x];\n};\n} count _findNearestGens;\n_IsNearRunningGen = count (_findNearestGen);\n\u00a0\n// show that pump needs power if no generator nearby.\nif(_IsNearRunningGen \u0026gt; 0) then {\ns_player_fuelauto = player addAction [localize \"STR_EPOCH_ACTIONS_FILLVEH\", \"\\z\\addons\\dayz_code\\actions\\fill_nearestVehicle.sqf\",objNull, 0, false, true, \"\",\"\"];\n} else {\ns_player_fuelauto = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_NEEDPOWER\"], \"\",[], 0, false, true, \"\",\"\"];\n};\n};\n} else {\nplayer removeAction s_player_fuelauto;\ns_player_fuelauto = -1;\n};\n\u00a0\n//Fuel Pump on truck\nif(_typeOfCursorTarget in DZE_fueltruckarray \u0026amp;\u0026amp; alive _cursorTarget) then { \nif (s_player_fuelauto2 \u0026lt; 0) then {\n// show that fuel truck pump needs power.\nif(isEngineOn _cursorTarget) then {\ns_player_fuelauto2 = player addAction [localize \"STR_EPOCH_ACTIONS_FILLVEH\", \"\\z\\addons\\dayz_code\\actions\\fill_nearestVehicle.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n} else {\ns_player_fuelauto2 = player addAction [format[\"\u0026lt;t color=\u0027#ff0000\u0027\u0026gt;%1\u0026lt;/t\u0026gt;\",localize \"STR_EPOCH_ACTIONS_NEEDPOWER\"], \"\",[], 0, false, true, \"\",\"\"];\n};\n};\n} else {\nplayer removeAction s_player_fuelauto2;\ns_player_fuelauto2 = -1;\n};\n\u00a0\n// inplace upgrade tool\nif ((_cursorTarget isKindOf \"ModularItems\") || (_cursorTarget isKindOf \"Land_DZE_WoodDoor_Base\") || (_cursorTarget isKindOf \"CinderWallDoor_DZ_Base\")) then {\nif ((s_player_lastTarget select 0) != _cursorTarget) then {\nif (s_player_upgrade_build \u0026gt; 0) then {\nplayer removeAction s_player_upgrade_build;\ns_player_upgrade_build = -1;\n};\n};\nif (s_player_upgrade_build \u0026lt; 0) then {\n// s_player_lastTarget = _cursorTarget;\ns_player_lastTarget set [0,_cursorTarget];\ns_player_upgrade_build = player addAction [format[localize \"STR_EPOCH_ACTIONS_UPGRADE\",_text], \"Scripts\\Credited\\A_Plot_for_Life\\Action\\player_upgrade.sqf\",_cursorTarget, -1, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_upgrade_build;\ns_player_upgrade_build = -1;\n};\n\u00a0\n// downgrade system\nif((_isDestructable || _cursorTarget isKindOf \"Land_DZE_WoodDoorLocked_Base\" || _cursorTarget isKindOf \"CinderWallDoorLocked_DZ_Base\") \u0026amp;\u0026amp; (DZE_Lock_Door == _characterID)) then {\nif ((s_player_lastTarget select 1) != _cursorTarget) then {\nif (s_player_downgrade_build \u0026gt; 0) then { \nplayer removeAction s_player_downgrade_build;\ns_player_downgrade_build = -1;\n};\n};\n\u00a0\nif (s_player_downgrade_build \u0026lt; 0) then {\ns_player_lastTarget set [1,_cursorTarget];\ns_player_downgrade_build = player addAction [format[localize \"STR_EPOCH_ACTIONS_REMLOCK\",_text], \"Scripts\\Credited\\A_Plot_for_Life\\Action\\player_buildingDowngrade.sqf\",_cursorTarget, -2, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_downgrade_build;\ns_player_downgrade_build = -1;\n};\n\u00a0\n// inplace maintenance tool\nif((_cursorTarget isKindOf \"ModularItems\" || _cursorTarget isKindOf \"DZE_Housebase\" || _typeOfCursorTarget == \"LightPole_DZ\") \u0026amp;\u0026amp; (damage _cursorTarget \u0026gt;= DZE_DamageBeforeMaint)) then {\nif ((s_player_lastTarget select 2) != _cursorTarget) then {\nif (s_player_maint_build \u0026gt; 0) then { \nplayer removeAction s_player_maint_build;\ns_player_maint_build = -1;\n};\n};\n\u00a0\nif (s_player_maint_build \u0026lt; 0) then {\ns_player_lastTarget set [2,_cursorTarget];\ns_player_maint_build = player addAction [format[localize \"STR_EPOCH_ACTIONS_MAINTAIN\",_text], \"\\z\\addons\\dayz_code\\actions\\player_buildingMaint.sqf\",_cursorTarget, -2, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_maint_build;\ns_player_maint_build = -1;\n};\n\u00a0\n\u00a0\n//Start Generator\nif(_cursorTarget isKindOf \"Generator_DZ\") then {\nif (s_player_fillgen \u0026lt; 0) then {\n\u00a0\n// check if not running\u00a0\nif((_cursorTarget getVariable [\"GeneratorRunning\", false])) then {\ns_player_fillgen = player addAction [localize \"STR_EPOCH_ACTIONS_GENERATOR1\", \"\\z\\addons\\dayz_code\\actions\\stopGenerator.sqf\",_cursorTarget, 0, false, true, \"\",\"\"]; \n} else {\n// check if not filled \u0026amp;\u0026amp; player has jerry.\nif((_cursorTarget getVariable [\"GeneratorFilled\", false])) then {\ns_player_fillgen = player addAction [localize \"STR_EPOCH_ACTIONS_GENERATOR2\", \"\\z\\addons\\dayz_code\\actions\\fill_startGenerator.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n} else {\nif(\"ItemJerrycan\" in _magazinesPlayer) then {\ns_player_fillgen = player addAction [localize \"STR_EPOCH_ACTIONS_GENERATOR3\", \"\\z\\addons\\dayz_code\\actions\\fill_startGenerator.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n};\n};\n};\n} else {\nplayer removeAction s_player_fillgen;\ns_player_fillgen = -1;\n};\n\u00a0\n//Towing with tow truck\n/*\nif(_typeOfCursorTarget == \"TOW_DZE\") then {\nif (s_player_towing \u0026lt; 0) then {\nif(!(_cursorTarget getVariable [\"DZEinTow\", false])) then {\ns_player_towing = player addAction [localize \"STR_EPOCH_ACTIONS_ATTACH\" \"\\z\\addons\\dayz_code\\actions\\tow_AttachStraps.sqf\",_cursorTarget, 0, false, true, \"\",\"\"]; \n} else {\ns_player_towing = player addAction [localize \"STR_EPOCH_ACTIONS_DETACH\", \"\\z\\addons\\dayz_code\\actions\\tow_DetachStraps.sqf\",_cursorTarget, 0, false, true, \"\",\"\"]; \n};\n};\n} else {\nplayer removeAction s_player_towing;\ns_player_towing = -1;\n};\n*/\n\u00a0\n\u00a0\n\u00a0 \u00a0 //Sleep\nif(_isTent \u0026amp;\u0026amp; _ownerID == _playerUID) then {\nif ((s_player_sleep \u0026lt; 0) \u0026amp;\u0026amp; (player distance _cursorTarget \u0026lt; 3)) then {\ns_player_sleep = player addAction [localize \"str_actions_self_sleep\", \"\\z\\addons\\dayz_code\\actions\\player_sleep.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_sleep;\ns_player_sleep = -1;\n};\n\u00a0\n//Repairing Vehicles\nif ((dayz_myCursorTarget != _cursorTarget) \u0026amp;\u0026amp; _isVehicle \u0026amp;\u0026amp; !_isMan \u0026amp;\u0026amp; _hasToolbox \u0026amp;\u0026amp; (damage _cursorTarget \u0026lt; 1) \u0026amp;\u0026amp; !_isDisallowRepair) then {\nif (s_player_repair_crtl \u0026lt; 0) then {\ndayz_myCursorTarget = _cursorTarget;\n_menu = dayz_myCursorTarget addAction [localize \"STR_EPOCH_PLAYER_REPAIRV\", \"\\z\\addons\\dayz_code\\actions\\repair_vehicle.sqf\",_cursorTarget, 0, true, false, \"\",\"\"];\n_menu1 = dayz_myCursorTarget addAction [localize \"STR_EPOCH_PLAYER_SALVAGEV\", \"\\z\\addons\\dayz_code\\actions\\salvage_vehicle.sqf\",_cursorTarget, 0, true, false, \"\",\"\"];\ns_player_repairActions set [count s_player_repairActions,_menu];\ns_player_repairActions set [count s_player_repairActions,_menu1];\ns_player_repair_crtl = 1;\n} else {\n{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];\ns_player_repair_crtl = -1;\n};\n};\n\u00a0\n//Pack Vehicles\nif (_typeOfCursorTarget in EVDVehicleArray and _hasToolbox and !(locked _cursorTarget) and (damage _cursorTarget \u0026lt; 1)) then {\nif (s_player_packvehicle \u0026lt; 0) then {\ns_player_packvehicle = player addAction [\"Pack Vehicle\", \"Scripts\\Modified\\EVD\\EVD_pack.sqf\",_cursorTarget, 0, false, true, \"\",\"\"];\n};\n} else {\nplayer removeAction s_player_packvehicle;\ns_player_packvehicle = -1;\n};\n\u00a0\n\u00a0\n// All Traders\nif (_isMan \u0026amp;\u0026amp; !_isPZombie \u0026amp;\u0026amp; _traderType in serverTraders) then {\n\u00a0\nif (s_player_parts_crtl \u0026lt; 0) then {\n\u00a0\n// get humanity\n_humanity = player getVariable [\"humanity\",0];\n_traderMenu = call compile format[\"menu_%1;\",_traderType];\n\u00a0\n// diag_log (\"TRADER = \" + str(_traderMenu));\n\u00a0\n_low_high = \"low\";\n_humanity_logic = false;\nif((_traderMenu select 2) == \"friendly\") then {\n_humanity_logic = (_humanity \u0026lt; -5000);\n};\nif((_traderMenu select 2) == \"hostile\") then {\n_low_high = \"high\";\n_humanity_logic = (_humanity \u0026gt; -5000);\n};\nif((_traderMenu select 2) == \"hero\") then {\n_humanity_logic = (_humanity \u0026lt; 5000);\n};\nif(_humanity_logic) then {\n_cancel = player addAction [format[localize \"STR_EPOCH_ACTIONS_HUMANITY\",_low_high], \"\\z\\addons\\dayz_code\\actions\\trade_cancel.sqf\",[\"na\"], 0, true, false, \"\",\"\"];\ns_player_parts set [count s_player_parts,_cancel];\n} else {\n\u00a0\n// Static Menu\n{\n//diag_log format[\"DEBUG TRADER: %1\", _x];\n_buy = player addAction [format[\"Trade %1 %2 for %3 %4\",(_x select 3),(_x select 5),(_x select 2),(_x select 6)], \"\\z\\addons\\dayz_code\\actions\\trade_items_wo_db.sqf\",[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, \"\",\"\"];\ns_player_parts set [count s_player_parts,_buy];\n\u00a0\n} count (_traderMenu select 1);\n_buyV = player addAction [\"\u0026lt;t color=\u0027#0059FF\u0027\u0026gt;Advanced Trading\u0026lt;/t\u0026gt;\", \"Traders\\advancedTrading\\init.sqf\",(_traderMenu select 0), 999, true, false, \"\",\"\"];\ns_player_parts set [count s_player_parts,_buyV];\n// Database menu\n_buy = player addAction [localize \"STR_EPOCH_PLAYER_289\", \"\\z\\addons\\dayz_code\\actions\\show_dialog.sqf\",(_traderMenu select 0), 999, true, false, \"\",\"\"];\ns_player_parts set [count s_player_parts,_buy];\n\u00a0\n};\ns_player_parts_crtl = 1;\n\u00a0\n};\n} else {\n{player removeAction _x} count s_player_parts;s_player_parts = [];\ns_player_parts_crtl = -1;\n};\n\u00a0\n\u00a0\nif(dayz_tameDogs) then {\n\u00a0\n//Dog\nif (_isDog \u0026amp;\u0026amp; _isAlive \u0026amp;\u0026amp; (_hasRawMeat) \u0026amp;\u0026amp; _characterID == \"0\" \u0026amp;\u0026amp; player getVariable [\"dogID\", 0] == 0) then {\nif (s_player_tamedog \u0026lt; 0) then {\ns_player_tamedog = player addAction [localize \"str_actions_tamedog\", \"\\z\\addons\\dayz_code\\actions\\tame_dog.sqf\", _cursorTarget, 1, false, true, \"\", \"\"];\n};\n} else {\nplayer removeAction s_player_tamedog;\ns_player_tamedog = -1;\n};\nif (_isDog \u0026amp;\u0026amp; _characterID == dayz_characterID \u0026amp;\u0026amp; _isAlive) then {\n_dogHandle = player getVariable [\"dogID\", 0];\nif (s_player_feeddog \u0026lt; 0 \u0026amp;\u0026amp; _hasRawMeat) then {\ns_player_feeddog = player addAction [localize \"str_actions_feeddog\",\"\\z\\addons\\dayz_code\\actions\\dog\\feed.sqf\",[_dogHandle,0], 0, false, true,\"\",\"\"];\n};\nif (s_player_waterdog \u0026lt; 0 \u0026amp;\u0026amp; \"ItemWaterbottle\" in _magazinesPlayer) then {\ns_player_waterdog = player addAction [localize \"str_actions_waterdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\feed.sqf\",[_dogHandle,1], 0, false, true,\"\",\"\"];\n};\nif (s_player_staydog \u0026lt; 0) then {\n_lieDown = _dogHandle getFSMVariable \"_actionLieDown\";\nif (_lieDown) then { _text = \"str_actions_liedog\"; } else { _text = \"str_actions_sitdog\"; };\ns_player_staydog = player addAction [localize _text,\"\\z\\addons\\dayz_code\\actions\\dog\\stay.sqf\", _dogHandle, 5, false, true,\"\",\"\"];\n};\nif (s_player_trackdog \u0026lt; 0) then {\ns_player_trackdog = player addAction [localize \"str_actions_trackdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\track.sqf\", _dogHandle, 4, false, true,\"\",\"\"];\n};\nif (s_player_barkdog \u0026lt; 0) then {\ns_player_barkdog = player addAction [localize \"str_actions_barkdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\speak.sqf\", _cursorTarget, 3, false, true,\"\",\"\"];\n};\nif (s_player_warndog \u0026lt; 0) then {\n_warn = _dogHandle getFSMVariable \"_watchDog\";\nif (_warn) then { _text = (localize \"str_epoch_player_247\"); _warn = false; } else { _text = (localize \"str_epoch_player_248\"); _warn = true; };\ns_player_warndog = player addAction [format[localize \"str_actions_warndog\",_text],\"\\z\\addons\\dayz_code\\actions\\dog\\warn.sqf\",[_dogHandle, _warn], 2, false, true,\"\",\"\"]; \n};\nif (s_player_followdog \u0026lt; 0) then {\ns_player_followdog = player addAction [localize \"str_actions_followdog\",\"\\z\\addons\\dayz_code\\actions\\dog\\follow.sqf\",[_dogHandle,true], 6, false, true,\"\",\"\"];\n};\n} else {\nplayer removeAction s_player_feeddog;\ns_player_feeddog = -1;\nplayer removeAction s_player_waterdog;\ns_player_waterdog = -1;\nplayer removeAction s_player_staydog;\ns_player_staydog = -1;\nplayer removeAction s_player_trackdog;\ns_player_trackdog = -1;\nplayer removeAction s_player_barkdog;\ns_player_barkdog = -1;\nplayer removeAction s_player_warndog;\ns_player_warndog = -1;\nplayer removeAction s_player_followdog;\ns_player_followdog = -1;\nplayer removeAction s_player_manageDoor;\ns_player_manageDoor = -1; // u might also want to add this to variables reset in your variables.sqf\n};\n};\n\u00a0\n} else {\n//Engineering\nplayer removeAction s_player_plotManagement;\ns_player_plotManagement = -1;\n{dayz_myCursorTarget removeAction _x} count s_player_repairActions;s_player_repairActions = [];\ns_player_repair_crtl = -1;\n\u00a0\n{player removeAction _x} count s_player_combi;s_player_combi = [];\n\u00a0\ndayz_myCursorTarget = objNull;\ns_player_lastTarget = [objNull,objNull,objNull,objNull,objNull];\n\u00a0\n{player removeAction _x} count s_player_parts;s_player_parts = [];\ns_player_parts_crtl = -1;\n\u00a0\n{player removeAction _x} count s_player_lockunlock;s_player_lockunlock = [];\ns_player_lockUnlock_crtl = -1;\n\u00a0\nplayer removeAction s_player_checkGear;\ns_player_checkGear = -1;\n\u00a0\nplayer removeAction s_player_SurrenderedGear;\ns_player_SurrenderedGear = -1;\n\u00a0\n//Others\nplayer removeAction s_player_maintain_area; \ns_player_maintain_area = -1; \nplayer removeAction s_player_maintain_area_preview; \ns_player_maintain_area_preview = -1; \nplayer removeAction s_player_plot_boundary_on; \ns_player_plot_boundary_on = -1; \nplayer removeAction s_player_plot_boundary_off; \ns_player_plot_boundary_off = -1; \nplayer removeAction s_player_plot_take_ownership; \ns_player_plot_take_ownership = -1;\nplayer removeAction s_player_forceSave;\ns_player_forceSave = -1;\nplayer removeAction s_player_flipveh;\ns_player_flipveh = -1;\nplayer removeAction s_player_sleep;\ns_player_sleep = -1;\nplayer removeAction s_player_deleteBuild;\ns_player_deleteBuild = -1;\nplayer removeAction s_player_butcher;\ns_player_butcher = -1;\nplayer removeAction s_player_cook;\ns_player_cook = -1;\nplayer removeAction s_player_boil;\ns_player_boil = -1;\nplayer removeAction s_player_fireout;\ns_player_fireout = -1;\nplayer removeAction s_player_packtent;\ns_player_packtent = -1;\nplayer removeAction s_player_fillfuel;\ns_player_fillfuel = -1;\nplayer removeAction s_player_studybody;\ns_player_studybody = -1;\n//remove clothes\nplayer removeAction s_clothes;\ns_clothes = -1;\n//Dog\nplayer removeAction s_player_tamedog;\ns_player_tamedog = -1;\nplayer removeAction s_player_feeddog;\ns_player_feeddog = -1;\nplayer removeAction s_player_waterdog;\ns_player_waterdog = -1;\nplayer removeAction s_player_staydog;\ns_player_staydog = -1;\nplayer removeAction s_player_trackdog;\ns_player_trackdog = -1;\nplayer removeAction s_player_barkdog;\ns_player_barkdog = -1;\nplayer removeAction s_player_warndog;\ns_player_warndog = -1;\nplayer removeAction s_player_followdog;\ns_player_followdog = -1;\n\u00a0 \u00a0\u00a0\n\u00a0 \u00a0 // vault\nplayer removeAction s_player_unlockvault;\ns_player_unlockvault = -1;\nplayer removeAction s_player_packvault;\ns_player_packvault = -1;\nplayer removeAction s_player_lockvault;\ns_player_lockvault = -1;\n\u00a0\nplayer removeAction s_player_information;\ns_player_information = -1;\nplayer removeAction s_player_fillgen;\ns_player_fillgen = -1;\nplayer removeAction s_player_upgrade_build;\ns_player_upgrade_build = -1;\nplayer removeAction s_player_maint_build;\ns_player_maint_build = -1;\nplayer removeAction s_player_downgrade_build;\ns_player_downgrade_build = -1;\nplayer removeAction s_player_towing;\ns_player_towing = -1;\nplayer removeAction s_player_fuelauto;\ns_player_fuelauto = -1;\nplayer removeAction s_player_fuelauto2;\ns_player_fuelauto2 = -1;\nplayer removeAction s_givemoney_dialog;\ns_givemoney_dialog = -1;\nplayer removeAction s_bank_dialog;\ns_bank_dialog = -1;\nplayer removeAction s_bank_dialog2;\ns_bank_dialog2 = -1;\n};\n\u00a0\n\u00a0\n\u00a0\n//Dog actions on player self\n_dogHandle = player getVariable [\"dogID\", 0];\nif (_dogHandle \u0026gt; 0) then {\n_dog = _dogHandle getFSMVariable \"_dog\";\n_characterID = \"0\";\nif (!isNull cursorTarget) then { _characterID = cursorTarget getVariable [\"CharacterID\",\"0\"]; };\nif (_canDo \u0026amp;\u0026amp; !_inVehicle \u0026amp;\u0026amp; alive _dog \u0026amp;\u0026amp; _characterID != dayz_characterID) then {\nif (s_player_movedog \u0026lt; 0) then {\ns_player_movedog = player addAction [localize \"str_actions_movedog\", \"\\z\\addons\\dayz_code\\actions\\dog\\move.sqf\", player getVariable [\"dogID\", 0], 1, false, true, \"\", \"\"];\n};\nif (s_player_speeddog \u0026lt; 0) then {\n_text = (localize \"str_epoch_player_249\");\n_speed = 0;\nif (_dog getVariable [\"currentSpeed\",1] == 0) then { _speed = 1; _text = (localize \"str_epoch_player_250\"); };\ns_player_speeddog = player addAction [format[localize \"str_actions_speeddog\", _text], \"\\z\\addons\\dayz_code\\actions\\dog\\speed.sqf\",[player getVariable [\"dogID\", 0],_speed], 0, false, true, \"\", \"\"];\n};\nif (s_player_calldog \u0026lt; 0) then {\ns_player_calldog = player addAction [localize \"str_actions_calldog\", \"\\z\\addons\\dayz_code\\actions\\dog\\follow.sqf\", [player getVariable [\"dogID\", 0], true], 2, false, true, \"\", \"\"];\n};\n};\n} else {\nplayer removeAction s_player_movedog; \ns_player_movedog = -1;\nplayer removeAction s_player_speeddog;\ns_player_speeddog = -1;\nplayer removeAction s_player_calldog;\ns_player_calldog =  -1;\n};\n\u00a0\nif((typeOf cursorTarget == \"krepost\") and (player distance cursorTarget \u0026lt; 23)) then {\n\u00a0 \u00a0if (str1 \u0026lt; 0) then {\n\u00a0 \u00a0 \u00a0if ((cursorTarget getVariable [\"CharacterID\",\"0\"] == dayz_combination) or (cursorTarget getVariable [\"CharacterID\",\"0\"] == dayz_playerUID)) then {\n\u00a0 \u00a0 \u00a0 \u00a0str1 = player addAction [format[ \"Open %1\",getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; typeOf cursorTarget \u0026gt;\u0026gt; \"displayName\")], \"Scripts\\Credited\\build\\stronghold\\s_open.sqf\",cursorTarget, 0, false, true];\n\u00a0 \u00a0 \u00a0 \u00a0str2 = player addAction [format[ \"Open interior doors\",_text], \"custom\\build\\stronghold\\s_openall.sqf\",_cursorTarget, 0, false, true];\n\u00a0 \u00a0 \u00a0 \u00a0str3 = player addAction [format[ \"Close interior doors\",_text], \"custom\\build\\stronghold\\s_closeall.sqf\",_cursorTarget, 0, false, true];\n\u00a0 \u00a0 \u00a0 \u00a0str4 = player addAction [format[ \"Lock %1\",getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; typeOf cursorTarget \u0026gt;\u0026gt; \"displayName\")], \"Scripts\\Credited\\build\\stronghold\\s_lock.sqf\",_cursorTarget, 0, false, true];\n\u00a0 _open set [count _open,5];\n\u00a0 \u00a0 \u00a0} else {\n\u00a0 \u00a0 \u00a0 \u00a0str1 = player addAction [format[\"Unlock %1\",getText (configFile \u0026gt;\u0026gt; \"CfgVehicles\" \u0026gt;\u0026gt; typeOf cursorTarget \u0026gt;\u0026gt; \"displayName\")], \"Scripts\\Credited\\build\\stronghold\\s_unlock.sqf\",cursorTarget, 0, false, true];\n\u00a0 \u00a0_open set [count _open,1];\n\u00a0 \u00a0 \u00a0};\n\u00a0 \u00a0};\n} else {\n\u00a0 \u00a0player removeAction str1;\n\u00a0 \u00a0str1 = -1;\n\u00a0 \u00a0player removeAction str2;\n\u00a0 \u00a0str2 = -1;\n\u00a0 \u00a0player removeAction str3;\n\u00a0 \u00a0str3 = -1;\n\u00a0 \u00a0player removeAction str4;\n\u00a0 \u00a0str4 = -1;\n};\n\n\n\u00a0\n\u00a0\n",
        "answerCount": 1,
        "dateCreated": "2015-02-03T01:27:38+0000",
        "author": {
            "@type": "Person",
            "name": "thenutsoframbo"
        },
        "suggestedAnswer": [
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/32046-please-help-selfactions-error/#comment-202534",
                "url": "https://epochmod.com/forum/topic/32046-please-help-selfactions-error/#comment-202534",
                "author": {
                    "@type": "Person",
                    "name": "thenutsoframbo",
                    "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
                    "url": "https://epochmod.com/forum/profile/26925-thenutsoframbo/"
                },
                "dateCreated": "2015-02-03T01:29:31+0000",
                "text": "I\u0027m willing to pay, if someone can figure out the problem with the code. You can join me at ts.brainlessgaming.com \n",
                "upvoteCount": 0
            }
        ]
    },
    "publisher": {
        "member": {
            "@type": "Person",
            "name": "thenutsoframbo",
            "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
            "url": "https://epochmod.com/forum/profile/26925-thenutsoframbo/"
        }
    }
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "publisher": "https://epochmod.com/forum/#organization",
    "@type": "WebSite",
    "@id": "https://epochmod.com/forum/#website",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "potentialAction": {
        "type": "SearchAction",
        "query-input": "required name=query",
        "target": "https://epochmod.com/forum/search/?q={query}"
    },
    "inLanguage": [
        {
            "@type": "Language",
            "name": "English (USA)",
            "alternateName": "en-US"
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "@type": "Organization",
    "@id": "https://epochmod.com/forum/#organization",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "logo": {
        "@type": "ImageObject",
        "@id": "https://epochmod.com/forum/#logo",
        "url": "https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"
    },
    "sameAs": [
        "https://facebook.com/EpochMod",
        "https://twitter.com/EpochMod",
        "https://github.com/EpochModTeam/"
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "item": {
                "@id": "https://epochmod.com/forum/forum/1-arma-2/",
                "name": "ArmA 2"
            }
        },
        {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "@id": "https://epochmod.com/forum/forum/96-qa-section/",
                "name": "Q&amp;A Section"
            }
        },
        {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "@id": "https://epochmod.com/forum/forum/35-scripting/",
                "name": "Scripting"
            }
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "ContactPage",
    "url": "https://epochmod.com/forum/contact/"
}	
</script>
<script type="text/javascript">
    (() => {
        let gqlKeys = [];
        for (let [k, v] of Object.entries(gqlKeys)) {
            ips.setGraphQlData(k, v);
        }
    })();
</script>
<!--ipsQueryLog-->
<!--ipsCachingLog-->
</body>

</html>