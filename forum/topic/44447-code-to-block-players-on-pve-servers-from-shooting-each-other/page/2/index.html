<!DOCTYPE html>

<html dir="ltr" lang="en-US">

<!-- Added by HTTrack --><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8"/>
<title>Code to block players on PVE servers from shooting each other - Page 2 - Scripting - Epoch Mod Community</title>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52081052-1', 'auto');
  ga('send', 'pageview');

</script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" property="og:image"/>
<meta content="summary_large_image" name="twitter:card">
<meta content="@EpochMod" name="twitter:site">
<meta content="Code to block players on PVE servers from shooting each other" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/" property="og:url"/>
<meta content="2020-04-28T20:16:51Z" property="og:updated_time"/>
<meta content="Epoch Mod Community" property="og:site_name"/>
<meta content="en_US" property="og:locale"/>
<link href="../../index.html" rel="first"/>
<link href="../../index.html" rel="prev"/>
<link href="index.html" rel="canonical"/>
<link href="https://epochmod.com/forum/manifest.webmanifest/" rel="manifest"/>
<meta content="https://epochmod.com/forum/browserconfig.xml/" name="msapplication-config"/>
<meta content="/" name="msapplication-starturl"/>
<meta content="Epoch Mod Community" name="application-name"/>
<meta content="Epoch Mod Community" name="apple-mobile-web-app-title"/>
<meta content="#000000" name="theme-color"/>
<link as="font" crossorigin="anonymous" href="http://epochmod.com/forum/applications/core/interface/font/fontawesome-webfont.woff2?v=4.7.0" rel="preload"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/341e4a57816af3ba440d891ca87450ff_framework.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/05e81b71abe4f22d6eb8d1a929494829_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/90eb5adf50a8c640f633d47fd7eb1778_core.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/5a0da001ccc2200dc5625c3f3934497d_core_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/62e269ced0fdab7e30e026f1d30ae516_forums.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/76e62c573090645fb99a15a363d8620e_forums_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/ebdea0c6a7dab6d37900b9190d3ac77b_topics.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/258adbb6e4f3e83cd3b355f84e3fa002_custom.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/monthly_2018_04/favicon.ico.c690be06d87a954c1dce2d924fe2a0f2.ico" rel="shortcut icon" type="image/x-icon"/>
</meta></meta></head>
<body class="ipsApp ipsApp_front ipsJS_none ipsClearfix" data-controller="core.front.core.app" data-message="" data-pageapp="forums" data-pagecontroller="topic" data-pageid="44447" data-pagelocation="front" data-pagemodule="forums">
<a accesskey="m" class="ipsHide" href="#ipsLayout_mainArea" title="Go to main content on this page">Jump to content</a>
<div class="ipsClearfix" id="ipsLayout_header">
<header>
<div class="ipsLayout_container">
<a accesskey="1" href="../../../../index.html" id="elLogo"><img alt="Epoch Mod Community" src="https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"/></a>
<ul class="ipsList_inline cSignedOut ipsResponsive_showDesktop" id="elUserNav">
<li id="elSignInLink">
<a data-ipsmenu="" data-ipsmenu-closeonclick="false" href="https://epochmod.com/forum/login/" id="elUserSignIn">
                    Existing user? Sign In Â <i class="fa fa-caret-down"></i>
</a>
<div class="ipsMenu ipsMenu_auto ipsHide" id="elUserSignIn_menu">
<form accept-charset="utf-8" action="https://epochmod.com/forum/login/" method="post">
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<input name="ref" type="hidden" value="aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy80NDQ0Ny1jb2RlLXRvLWJsb2NrLXBsYXllcnMtb24tcHZlLXNlcnZlcnMtZnJvbS1zaG9vdGluZy1lYWNoLW90aGVyL3BhZ2UvMi8="/>
<div data-role="loginForm">
<div class="ipsPad ipsForm ipsForm_vertical">
<h4 class="ipsType_sectionHead">Sign In</h4>
<br/><br/>
<ul class="ipsList_reset">
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="email" name="auth" placeholder="Display Name or Email Address" type="text"/>
</li>
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="current-password" name="password" placeholder="Password" type="password"/>
</li>
<li class="ipsFieldRow ipsFieldRow_checkbox ipsClearfix">
<span class="ipsCustomInput">
<input aria-checked="true" checked="" id="remember_me_checkbox" name="remember_me" type="checkbox" value="1"/>
<span></span>
</span>
<div class="ipsFieldRow_content">
<label class="ipsFieldRow_label" for="remember_me_checkbox">Remember me</label>
<span class="ipsFieldRow_desc">Not recommended on shared computers</span>
</div>
</li>
<li class="ipsFieldRow ipsFieldRow_fullWidth">
<button class="ipsButton ipsButton_primary ipsButton_small" id="elSignIn_submit" name="_processLogin" type="submit" value="usernamepassword">Sign In</button>
<p class="ipsType_right ipsType_small">
<a data-ipsdialog="" data-ipsdialog-title="Forgot your password?" href="https://epochmod.com/forum/lostpassword/">
					
					Forgot your password?</a>
</p>
</li>
</ul>
</div>
</div>
</form>
</div>
</li>
</ul>
<ul class="ipsMobileHamburger ipsList_reset ipsResponsive_hideDesktop">
<li data-ipsdrawer="" data-ipsdrawer-drawerelem="#elMobileDrawer">
<a href="#">
<i class="fa fa-navicon"></i>
</a>
</li>
</ul>
</div>
</header>
<nav class="ipsResponsive_showDesktop" data-controller="core.front.core.navBar">
<div class="ipsNavBar_primary ipsLayout_container">
<ul class="ipsClearfix" data-role="primaryNavBar">
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_18">
<a data-navitem-id="18" href="http://epochmod.com/">
					Home<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="cms" data-navext="Pages" data-role="navBarItem" id="elNavSecondary_12">
<a data-navitem-id="12" href="https://epochmod.com/forum/projects/">
					Downloads<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsNavBar_active" data-active="" data-navapp="forums" data-navext="Forums" data-role="navBarItem" id="elNavSecondary_8">
<a data-navdefault="" data-navitem-id="8" href="../../../../index.html">
					Forums<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_13">
<a data-navitem-id="13" href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">
					Wiki<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_1">
<a data-navitem-id="1" href="../../../../index.html">
					Browse<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="StaffDirectory" data-role="navBarItem" id="elNavSecondary_10">
<a data-navitem-id="10" href="https://epochmod.com/forum/staff/">
					Staff<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="OnlineUsers" data-role="navBarItem" id="elNavSecondary_11">
<a data-navitem-id="11" href="https://epochmod.com/forum/online/">
					Online Users<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_1">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_1" href="#" id="elNavigationMore_1_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_1_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_2">
<a data-navitem-id="2" href="https://epochmod.com/forum/discover/">
					Activity<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="AllActivity" data-role="navBarItem" id="elNavSecondary_3">
<a data-navitem-id="3" href="https://epochmod.com/forum/discover/">
					All Activity<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreams" data-role="navBarItem" id="elNavSecondary_4">
<a data-navitem-id="4" href="#">
					My Activity Streams<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_5">
<a data-navitem-id="5" href="https://epochmod.com/forum/discover/unread/">
					Unread Content<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_6">
<a data-navitem-id="6" href="https://epochmod.com/forum/discover/content-started/">
					Content I Started<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="Search" data-role="navBarItem" id="elNavSecondary_7">
<a data-navitem-id="7" href="https://epochmod.com/forum/search/">
					Search<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_2">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_2" href="#" id="elNavigationMore_2_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_2_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="Leaderboard" data-role="navBarItem" id="elNavSecondary_19">
<a data-navitem-id="19" href="https://epochmod.com/forum/leaderboard/">
					Leaderboard<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore" href="#" id="elNavigationMore_dropdown">More</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li class="ipsHide" data-role="navMore" id="elNavigationMore_more">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_more" href="#" id="elNavigationMore_more_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_more_dropdown_menu"></ul>
</li>
</ul>
</li>
</ul>
<div id="elSearchWrapper">
<div data-controller="core.front.core.quickSearch" id="elSearch">
<form accept-charset="utf-8" action="http://epochmod.com/forum/search/?do=quicksearch" method="post">
<input aria-label="Search" autocomplete="off" id="elSearchField" name="q" placeholder="Search..." type="search"/>
<details class="cSearchFilter">
<summary class="cSearchFilter__text"></summary>
<ul class="cSearchFilter__menu">
<li><label><input name="type" type="radio" value="all"/><span class="cSearchFilter__menuText">Everywhere</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","nodes":35}'/><span class="cSearchFilter__menuText">This Forum</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","item":44447}'/><span class="cSearchFilter__menuText">This Topic</span></label></li>
<li><label><input name="type" type="radio" value="core_statuses_status"/><span class="cSearchFilter__menuText">Status Updates</span></label></li>
<li><label><input name="type" type="radio" value="forums_topic"/><span class="cSearchFilter__menuText">Topics</span></label></li>
<li><label><input name="type" type="radio" value="cms_pages_pageitem"/><span class="cSearchFilter__menuText">Pages</span></label></li>
<li><label><input name="type" type="radio" value="cms_records1"/><span class="cSearchFilter__menuText">Article</span></label></li>
<li><label><input name="type" type="radio" value="core_members"/><span class="cSearchFilter__menuText">Members</span></label></li>
</ul>
</details>
<button aria-label="Search" class="cSearchSubmit" type="submit"><i class="fa fa-search"></i></button>
</form>
</div>
</div>
</div>
</nav>
<ul class="ipsResponsive_hideDesktop" data-controller="core.front.core.mobileNav" id="elMobileNav">
<li id="elMobileBreadcrumb">
<a href="../../../../forum/35-scripting/index.html">
<span>Scripting</span>
</a>
</li>
<li>
<a data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i></a>
</li>
<li class="ipsJS_show">
<a href="https://epochmod.com/forum/search/"><i class="fa fa-search"></i></a>
</li>
</ul>
</div>
<main class="ipsLayout_container" id="ipsLayout_body">
<div id="ipsLayout_contentArea">
<div id="ipsLayout_contentWrapper">
<nav class="ipsBreadcrumb ipsBreadcrumb_top ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../../../forum/96-qa-section/index.html">
<span>Q&amp;A Section <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../../../forum/35-scripting/index.html">
<span>Scripting <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Code to block players on PVE servers from shooting each other
				
			</li>
</ul>
</nav>
<div id="ipsLayout_mainArea">
<div class="ipsPageHeader ipsResponsive_pull ipsBox ipsPadding sm:ipsPadding:half ipsMargin_bottom">
<div class="ipsFlex ipsFlex-ai:stretch ipsFlex-jc:center">
<ul class="ipsList_reset cRatingColumn cRatingColumn_question ipsType_center ipsMargin_right ipsFlex-flex:00 ipsBorder_right">
<li>
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this question"><i class="fa fa-angle-up"></i></span>
</li>
<li><span class="cAnswerRating" data-role="voteCount" data-votecount="0">0</span></li>
</ul>
<div class="ipsFlex-flex:11">
<div class="ipsFlex ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:4">
<div class="ipsFlex-flex:11">
<h1 class="ipsType_pageTitle ipsContained_container">
<span class="ipsType_break ipsContained">
<span>Code to block players on PVE servers from shooting each other</span>
</span>
</h1>
</div>
</div>
<hr class="ipsHr"/>
<div class="ipsPageHeader__meta ipsFlex ipsFlex-jc:between ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:3">
<div class="ipsFlex-flex:11">
<div class="ipsPhotoPanel ipsPhotoPanel_mini ipsPhotoPanel_notPhone ipsClearfix">
<a class="ipsUserPhoto ipsUserPhoto_mini" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/37261-_lance_/?do=hovercard" data-ipshover-width="370" href="../../../../profile/37261-_lance_/index.html" rel="nofollow" title="Go to _Lance_'s profile">
<img alt="_Lance_" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2016_11/cv01650.thumb.jpg.5897ca419c797ed9911bcd9afce6df4c.jpg"/>
</a>
<div>
<p class="ipsType_reset ipsType_blendLinks">
<span class="ipsType_normal">
<strong>Asked by 


<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/37261-_lance_/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/37261-_lance_/index.html" rel="nofollow" title="Go to _Lance_'s profile">_Lance_</a>,</strong><br/><span class="ipsType_light"><time data-short="7 yr" datetime="2017-08-28T18:43:26Z" title="08/28/17 06:43  PM">August 28, 2017</time></span>
</span>
</p>
</div>
</div>
</div>
<div class="ipsFlex-flex:01 ipsResponsive_hidePhone">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_link ipsButton_link--light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span> Â Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Code to block players on PVE servers from shooting each other" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="44447">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">2</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ipsClearfix">
<ul class="ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_both ipsResponsive_hidePhone">
</ul>
</div>
<div class="cTopic ipsClear ipsSpacer_top" data-autopoll="" data-baseurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/" data-controller="core.front.core.commentFeed,forums.front.topic.view, core.front.core.ignoredComments" data-feedid="topic-44447" data-lastpage="" id="comments">
<div class="ipsBox ipsResponsive_pull">
<h2 class="ipsType_sectionTitle ipsType_reset">Question</h2>
<a id="comment-297601"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsBox--child sm:ipsPadding_horizontal:half ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_297601">
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/37261-_lance_/?do=hovercard" data-ipshover-width="370" href="../../../../profile/37261-_lance_/index.html" rel="nofollow" title="Go to _Lance_'s profile">
<img alt="_Lance_" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2016_11/cv01650.thumb.jpg.5897ca419c797ed9911bcd9afce6df4c.jpg"/>
</a>
<a href="../../../../profile/37261-_lance_/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/37261-_lance_/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/37261-_lance_/index.html" rel="nofollow" title="Go to _Lance_'s profile"><span style="color:#">_Lance_</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=297601" rel="nofollow">Posted <time data-short="7 yr" datetime="2017-08-28T18:43:26Z" title="08/28/17 06:43  PM">August 28, 2017</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/37261-_lance_/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/37261-_lance_/index.html" rel="nofollow" title="Go to _Lance_'s profile">_Lance_</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/37261-_lance_/?do=hovercard" data-ipshover-width="370" href="../../../../profile/37261-_lance_/index.html" rel="nofollow" title="Go to _Lance_'s profile">
<img alt="_Lance_" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2016_11/cv01650.thumb.jpg.5897ca419c797ed9911bcd9afce6df4c.jpg"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/37261-_lance_/content/index.html" rel="nofollow" title="175 posts">
<i class="fa fa-comment"></i> 175
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">Central Arkansas</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="297601" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":37261,"username":"_Lance_","timestamp":1503945806,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":297601}' id="comment-297601_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-297601_wrap" href="#elControls_297601_menu" id="elControls_297601" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_297601_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=297601" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_297601_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="../../index.html" id="elSharePost_297601" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=297601" rel="nofollow">Posted <time data-short="7 yr" datetime="2017-08-28T18:43:26Z" title="08/28/17 06:43  PM">August 28, 2017</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	A long time ago on a PVE server somewhere in Russia, I remember a server where players couldn't shoot each other. If your cursor was on a player and you tried to pull the trigger nothing would happen until your cursor was off their body's silhouette. I'd like to setup something like this for my pve players to prevent "incidents". If it's possible I'm thinking it will beÂ something in fn_selfActions (maybe) like:
</p>
<p>
	Â 
</p>
<p>
	//Block firing weapon at other playersÂ on PVE server
</p>
<p>
	if cursorTarget = isPlayer then (code that won't let you shoot goes here!)
</p>
<p>
	Â 
</p>
<p>
	Haha that's about the extent of my code-from-scratch knowledge. Anyone want to take a swing at this? Any help is greatly appreciated.
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_297601_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D297601" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D297601" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D297601&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=297601&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="A long time ago on a PVE server somewhere in Russia, I remember a server where players couldn't shoot each other. If your cursor was on a player and you tried to pull the trigger nothing would happen until your cursor was off their body's silhouette. I'd like to setup something like this for my pve players to prevent &quot;incidents&quot;. If it's possible I'm thinking it will beÂ something in fn_selfActions (maybe) like:
 


	Â 
 


	//Block firing weapon at other playersÂ on PVE server
 


	if cursorTarget = isPlayer then (code that won't let you shoot goes here!)
 


	Â 
 


	Haha that's about the extent of my code-from-scratch knowledge. Anyone want to take a swing at this? Any help is greatly appreciated.
 
" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=297601">More sharing options...</button>
</div>
</div>
</div>
</article>
</div>
<div class="ipsSpacer_both">
<div class="ipsBox ipsResponsive_pull ipsMargin_bottom">
<h2 class="ipsType_sectionTitle ipsType_reset ipsHide">32 answers to this question</h2>
<div class="ipsPadding:half ipsClearfix">
<ul class="ipsPos_right ipsButtonRow ipsClearfix sm:ipsMargin_bottom:half">
<li>
<a class="ipsJS_show" data-ipsautocheck="" data-ipsautocheck-context="#elPostFeed" data-ipsmenu="" data-ipsmenu-activeclass="ipsButtonRow_active" data-ipstooltip="" href="#elCheck_menu" id="elCheck" title="Select rows based on type">
<span class="cAutoCheckIcon ipsType_medium"><i class="fa fa-square-o"></i></span> <i class="fa fa-caret-down"></i>
<span class="ipsNotificationCount" data-role="autoCheckCount">0</span>
</a>
<ul class="ipsMenu ipsMenu_auto ipsMenu_withStem ipsHide" id="elCheck_menu">
<li class="ipsMenu_title">Select Rows</li>
<li class="ipsMenu_item" data-ipsmenuvalue="all"><a href="#">All</a></li>
<li class="ipsMenu_item" data-ipsmenuvalue="none"><a href="#">None</a></li>
<li class="ipsMenu_sep"><hr/></li>
<li class="ipsMenu_item" data-ipsmenuvalue="hidden"><a href="#">Hidden</a></li>
<li class="ipsMenu_item" data-ipsmenuvalue="unhidden"><a href="#">Unhidden</a></li>
<li class="ipsMenu_item" data-ipsmenuvalue="unapproved"><a href="#">Unapproved</a></li>
</ul>
</li>
<li>
<a class="ipsButtonRow_active" href="../../index.html" id="elSortBy_answers">Sort by votes</a>
</li>
<li>
<a href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?sortby=date" id="elSortBy_date">Sort by date</a>
</li>
</ul>
<ul class="ipsPagination" data-ipspagination="" data-ipspagination-pages="2" data-ipspagination-perpage="25" data-ipspagination-seopagination="true" data-pages="2" id="elPagination_644121f956fe918fdc73714253b25c75_343602143">
<li class="ipsPagination_first"><a data-ipstooltip="" data-page="1" href="../../index.html#comments" rel="first" title="First page"><i class="fa fa-angle-double-left"></i></a></li>
<li class="ipsPagination_prev"><a data-ipstooltip="" data-page="1" href="../../index.html#comments" rel="prev" title="Previous page">Prev</a></li>
<li class="ipsPagination_page"><a data-page="1" href="../../index.html#comments">1</a></li>
<li class="ipsPagination_page ipsPagination_active"><a data-page="2" href="index.html#comments">2</a></li>
<li class="ipsPagination_next ipsPagination_inactive"><a data-ipstooltip="" data-page="2" href="index.html#comments" rel="next" title="Next page">Next</a></li>
<li class="ipsPagination_last ipsPagination_inactive"><a data-ipstooltip="" data-page="2" href="index.html#comments" rel="last" title="Last page"><i class="fa fa-angle-double-right"></i></a></li>
<li class="ipsPagination_pageJump">
<a data-ipsmenu="" data-ipsmenu-appendto="#elPagination_644121f956fe918fdc73714253b25c75_343602143" data-ipsmenu-closeonclick="false" href="#" id="elPagination_644121f956fe918fdc73714253b25c75_343602143_jump">Page 2 of 2 Â <i class="fa fa-caret-down"></i></a>
<div class="ipsMenu ipsMenu_narrow ipsPadding ipsHide" id="elPagination_644121f956fe918fdc73714253b25c75_343602143_jump_menu">
<form accept-charset="utf-8" action="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/#comments" data-baseurl="#" data-role="pageJump" method="post">
<ul class="ipsForm ipsForm_horizontal">
<li class="ipsFieldRow">
<input class="ipsField_fullWidth" max="2" min="1" name="page" placeholder="Page number" type="number"/>
</li>
<li class="ipsFieldRow ipsFieldRow_fullWidth">
<input class="ipsButton_fullWidth ipsButton ipsButton_verySmall ipsButton_primary" type="submit" value="Go"/>
</li>
</ul>
</form>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="ipsRecommendedComments ipsHide" data-controller="core.front.core.recommendedComments" data-url="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?recommended=comments">
<div data-role="recommendedComments">
<h2 class="ipsType_sectionHead ipsType_large ipsType_bold ipsMargin_bottom">Recommended Posts</h2>
</div>
</div>
<div data-controller="core.front.core.moderation" data-role="commentFeed" id="elPostFeed">
<form action="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/?csrfKey=bbd96aef55be1a90d685e56a4524d73a&amp;do=multimodComment" data-ipspageaction="" data-role="moderationTools" method="post">
<a id="comment-302973"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_302973">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<a href="../../../../profile/39155-ladyval/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile"><span style="color:#">LadyVal</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302973" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-12T19:17:30Z" title="04/12/18 07:17  PM">April 12, 2018</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">LadyVal</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/39155-ladyval/content/index.html" rel="nofollow" title="44 posts">
<i class="fa fa-comment"></i> 44
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">Argentina</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="302973" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":39155,"username":"LadyVal","timestamp":1523560650,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":302973}' id="comment-302973_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-302973_wrap" href="#elControls_302973_menu" id="elControls_302973" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_302973_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=302973" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_302973_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302973" id="elSharePost_302973" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302973" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-12T19:17:30Z" title="04/12/18 07:17  PM">April 12, 2018</time></a>
<span class="ipsResponsive_hidePhone">
				
					(edited)
				
				
			</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	I imagine that.Â  I was going to put the fn_*.sqf with the change into the \dayz_code\cusom folder (outside the pbo) and add your line into the compile file.
</p>
<p>
	I think I have several of your mods running.Â Â 
</p>
<p>
	The only one I am failing to make work is the admin tool... but that is not the most important right now.Â Â 
</p>
<p>
	Thanks a lot for the help I am receiving!!
</p>
<p>
	---------------------------------------------------
</p>
<p>
	I've tried theÂ 
</p>
<pre style="background-color:#f8f8f8;border:1px solid #888888;color:#555555;font-size:14px;padding:2px;">
<span style="color:#000000;">if (_isPlayer &amp;&amp; !_falling) exitWith {};</span></pre>
<p>
<span style="color:#000000;">into the fn_damageHandler that I have in my custom folder.</span>
</p>
<p>
<span style="color:#000000;">I edited the compile file... and because there are 2 (no idea why, it was like that in GTX) I tried both in different times:</span>
</p>
<p>
<strong><span style="color:#000000;">One is this one inÂ dayz_code\init\compiles.sqf</span></strong>
</p>
<div class="ipsSpoiler" data-ipsspoiler="">
<div class="ipsSpoiler_header">
<span>Spoiler</span>
</div>
<div class="ipsSpoiler_contents">
<p>
			Â 
		</p>
<pre class="ipsCode prettyprint lang-c prettyprinted">

<span class="com">/*	
	FUNCTION COMPILES
*/</span><span class="pln">
</span><span class="com">//Player only</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isDedicated</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">

	</span><span class="str">"filmic"</span><span class="pln"> setToneMappingParams </span><span class="pun">[</span><span class="lit">0.07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.31</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.23</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.37</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.011</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.750</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">];</span><span class="pln"> setToneMapping </span><span class="str">"Filmic"</span><span class="pun">;</span><span class="pln">

	BIS_Effects_Burn </span><span class="pun">=</span><span class="pln"> 				compile preprocessFile </span><span class="str">"\ca\Data\ParticleEffects\SCRIPTS\destruction\burn.sqf"</span><span class="pun">;</span><span class="pln"> 
	player_zombieCheck </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_zombieCheck.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//Run on a players computer, checks if the player is near a zombie</span><span class="pln">
	player_zombieAttack </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_zombieAttack.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//Run on a players computer, causes a nearby zombie to attack them</span><span class="pln">
	fnc_usec_damageActions </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageActions.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_inAngleSector </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_inAngleSector.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_usec_selfActions </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_selfActions.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for self</span><span class="pln">
	fnc_usec_unconscious </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_unconscious.sqf"</span><span class="pun">;</span><span class="pln">
	player_temp_calculation	</span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_temperatur.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Temperatur System	//TeeChange</span><span class="pln">
	player_weaponFiredNear </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_weaponFiredNear.sqf"</span><span class="pun">;</span><span class="pln">
	player_animalCheck </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_animalCheck.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawnCheck </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_spawnCheck.sqf"</span><span class="pun">;</span><span class="pln">
	player_dumpBackpack </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_dumpBackpack.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_spawnLootCheck =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_spawnlootCheck.sqf";</span><span class="pln">
	</span><span class="com">// player_spawnZedCheck =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_spawnzedCheck.sqf";</span><span class="pln">
	building_spawnLoot </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\building_spawnLoot.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_taskHint =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_taskHint.sqf";</span><span class="pln">
	building_spawnZombies </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\building_spawnZombies.sqf"</span><span class="pun">;</span><span class="pln">
	dayz_spaceInterrupt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\dayz_spaceInterrupt.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//animal_monitor =			compile preprocessFileLineNumbers "\z\addons\dayz_code\system\animal_monitor.sqf";</span><span class="pln">
	</span><span class="com">// building_monitor =			compile preprocessFileLineNumbers "\z\addons\dayz_code\system\building_monitor.sqf";</span><span class="pln">
	player_fired </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_fired.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Runs when player fires. Alerts nearby Zeds depending on calibre and audial rating</span><span class="pln">
	player_harvest </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_harvest.sqf"</span><span class="pun">;</span><span class="pln">
	player_packTent </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_packTent.sqf"</span><span class="pun">;</span><span class="pln">
	player_packVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_packVault.sqf"</span><span class="pun">;</span><span class="pln">
	player_unlockVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_unlockVault.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_removeObject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\remove.sqf"</span><span class="pun">;</span><span class="pln">
	player_removeNet </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_removeNet.sqf"</span><span class="pun">;</span><span class="pln">
	player_removeTankTrap </span><span class="pun">=</span><span class="pln">    		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_removeTankTrap.sqf"</span><span class="pun">;</span><span class="pln">

	player_unlockDoor </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_unlockDoor.sqf"</span><span class="pun">;</span><span class="pln">
	player_changeCombo </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_changeCombo.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_lockVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_lockVault.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// control_zombieAgent = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\control_zombieAgent.sqf";</span><span class="pln">
	player_updateGui </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_updateGui.sqf"</span><span class="pun">;</span><span class="pln">
	player_crossbowBolt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_crossbowBolt.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//spawn_flies = 			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\spawn_flies.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationFill = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationFill.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationDel = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationDel.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationCheck = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationCheck.sqf";</span><span class="pln">
	player_music </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_music.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate ambient music</span><span class="pln">
	player_login </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_login.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate ambient music</span><span class="pln">
	player_death </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_death.sqf"</span><span class="pun">;</span><span class="pln">
	player_switchModel </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_switchModel.sqf"</span><span class="pun">;</span><span class="pln">
	player_checkStealth </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_checkStealth.sqf"</span><span class="pun">;</span><span class="pln">
	world_sunRise </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_sunRise.sqf"</span><span class="pun">;</span><span class="pln">
	world_surfaceNoise </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_surfaceNoise.sqf"</span><span class="pun">;</span><span class="pln">
	player_humanityMorph </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_humanityMorph.sqf"</span><span class="pun">;</span><span class="pln">
	player_throwObject </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_throwObject.sqf"</span><span class="pun">;</span><span class="pln">
	player_alertZombies </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_alertZombies.sqf"</span><span class="pun">;</span><span class="pln">
	player_fireMonitor </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\fire_monitor.sqf"</span><span class="pun">;</span><span class="pln">
	fn_gearMenuChecks </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_gearMenuChecks.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//Objects</span><span class="pln">
	object_roadFlare </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_roadFlare.sqf"</span><span class="pun">;</span><span class="pln">
	object_setpitchbank	</span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_setpitchbank.sqf"</span><span class="pun">;</span><span class="pln">
	object_monitorGear </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_monitorGear.sqf"</span><span class="pun">;</span><span class="pln">

	local_roadDebris </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_roadDebris.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//Zombies</span><span class="pln">
	zombie_findTargetAgent </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_findTargetAgent.sqf"</span><span class="pun">;</span><span class="pln">
	zombie_loiter </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_loiter.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	zombie_generate </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_generate.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	wild_spawnZombies </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\wild_spawnZombies.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	
	pz_attack </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\pzombie\pz_attack.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//</span><span class="pln">
	dog_findTargetAgent </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\dog_findTargetAgent.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">// Vehicle damage fix</span><span class="pln">
	vehicle_handleDamage    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleDamage.sqf"</span><span class="pun">;</span><span class="pln">
	vehicle_handleKilled    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleKilled.sqf"</span><span class="pun">;</span><span class="pln">

	</span><span class="com">//actions</span><span class="pln">
	player_countmagazines </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_countmagazines.sqf"</span><span class="pun">;</span><span class="pln">
	player_addToolbelt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_addToolbelt.sqf"</span><span class="pun">;</span><span class="pln">
	player_copyKey </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_copyKey.sqf"</span><span class="pun">;</span><span class="pln">
	player_reloadMag </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_reloadMags.sqf"</span><span class="pun">;</span><span class="pln">
	player_loadCrate </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_loadCrate.sqf"</span><span class="pun">;</span><span class="pln">
	player_craftItem </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_craftItem.sqf"</span><span class="pun">;</span><span class="pln">
	player_tentPitch </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\tent_pitch.sqf"</span><span class="pun">;</span><span class="pln">
	player_vaultPitch </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\vault_pitch.sqf"</span><span class="pun">;</span><span class="pln">
	player_drink </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_drink.sqf"</span><span class="pun">;</span><span class="pln">
	player_eat </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_eat.sqf"</span><span class="pun">;</span><span class="pln">
	player_useMeds </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_useMeds.sqf"</span><span class="pun">;</span><span class="pln">
	player_fillWater </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\water_fill.sqf"</span><span class="pun">;</span><span class="pln">
	player_makeFire </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_makefire.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_chopWood =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_chopWood.sqf";</span><span class="pln">
	player_harvestPlant </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_harvestPlant.sqf"</span><span class="pun">;</span><span class="pln">
	player_goFishing </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_goFishing.sqf"</span><span class="pun">;</span><span class="pln">
	player_build </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_build.sqf"</span><span class="pun">;</span><span class="pln">
	player_wearClothes </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_wearClothes.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_dropWeapon =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_dropWeapon.sqf";</span><span class="pln">
	</span><span class="com">//playerpip_setTrap =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_setTrap.sqf";</span><span class="pln">
	object_pickup </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\object_pickup.sqf"</span><span class="pun">;</span><span class="pln">
	player_flipvehicle </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_flipvehicle.sqf"</span><span class="pun">;</span><span class="pln">
	player_sleep </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_sleep.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_mineOre =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_mineOre.sqf";</span><span class="pln">
	player_antiWall </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_antiWall.sqf"</span><span class="pun">;</span><span class="pln">
	player_deathBoard </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\list_playerDeathsAlt.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_upgradeVehicle </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_upgradeVehicle.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//ui</span><span class="pln">
	player_selectSlot </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_selectSlot.sqf"</span><span class="pun">;</span><span class="pln">
	player_gearSync	</span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_gearSync.sqf"</span><span class="pun">;</span><span class="pln">
	player_gearSet	</span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_gearSet.sqf"</span><span class="pun">;</span><span class="pln">
	ui_changeDisplay </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_changeDisplay.sqf"</span><span class="pun">;</span><span class="pln">
	ui_gear_sound </span><span class="pun">=</span><span class="pln">             		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_gear_sound.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//System</span><span class="pln">
	player_monitor </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_monitor.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawn_1 </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_spawn_1.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawn_2 </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_spawn_2.sqf"</span><span class="pun">;</span><span class="pln">
	onPreloadStarted 			</span><span class="str">"dayz_preloadFinished = false;"</span><span class="pun">;</span><span class="pln">
	onPreloadFinished 			</span><span class="str">"dayz_preloadFinished = true;"</span><span class="pun">;</span><span class="pln">
	

	 

	</span><span class="com">//</span><span class="pln">
	</span><span>RunTime</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span>TotalRuns</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	
	fnc_dump </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_code"</span><span class="pun">,</span><span class="str">"_benchmark"</span><span class="pun">,</span><span class="str">"_averageRunTime"</span><span class="pun">];</span><span class="pln">
		_code </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_benchmark </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		
		</span><span>RunTime</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span>RunTime</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _benchmark</span><span class="pun">;</span><span class="pln">
		</span><span>TotalRuns</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span>TotalRuns</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_averageRunTime </span><span class="pun">=</span><span class="pln"> </span><span>RunTime</span><span class="pun">/</span><span>TotalRuns</span><span class="pun">;</span><span class="pln">

		diag_log format</span><span class="pun">[</span><span class="str">"%1 - %2 (%3 / %4)"</span><span class="pun">,</span><span class="pln">_code</span><span class="pun">,</span><span class="pln">_benchmark</span><span class="pun">,</span><span class="pln">_averageRunTime</span><span class="pun">,</span><span>TotalRuns</span><span class="pun">];</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	dayz_losChance </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_agent"</span><span class="pun">,</span><span class="str">"_maxDis"</span><span class="pun">,</span><span class="str">"_dis"</span><span class="pun">,</span><span class="str">"_val"</span><span class="pun">,</span><span class="str">"_maxExp"</span><span class="pun">,</span><span class="str">"_myExp"</span><span class="pun">];</span><span class="pln">
		_agent </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_dis </span><span class="pun">=</span><span class="pln">		_this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_maxDis </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// diag_log ("VAL:  " + str(_this));</span><span class="pln">
		_val </span><span class="pun">=</span><span class="pln"> 		</span><span class="pun">(</span><span class="pln">_maxDis </span><span class="pun">-</span><span class="pln"> _dis</span><span class="pun">)</span><span class="pln"> max </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_maxExp </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">((</span><span class="pln">exp </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> _maxDis</span><span class="pun">);</span><span class="pln">
		_myExp </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">((</span><span class="pln">exp </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_val</span><span class="pun">))</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> _maxExp</span><span class="pun">;</span><span class="pln">
		_myExp </span><span class="pun">=</span><span class="pln"> _myExp </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7</span><span class="pun">;</span><span class="pln">
		_myExp
	</span><span class="pun">};</span><span class="pln">
	
	ui_initDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_ctrlBleed"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_ctrlFracture"</span><span class="pun">,</span><span class="str">"_ctrlDogFood"</span><span class="pun">,</span><span class="str">"_ctrlDogWater"</span><span class="pun">,</span><span class="str">"_ctrlDogWaterBorder"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_ctrlDogFoodBorder"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_display </span><span class="pun">=</span><span class="pln"> uiNamespace getVariable </span><span class="str">'DAYZ_GUI_display'</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1204</span><span class="pun">;</span><span class="pln">
		_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">r_player_injured</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_ctrlBleed </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1303</span><span class="pun">;</span><span class="pln">
			_ctrlBleed ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">r_fracture_legs and </span><span class="pun">!</span><span class="pln">r_fracture_arms</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_ctrlFracture </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1203</span><span class="pun">;</span><span class="pln">
			_ctrlFracture ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_ctrlDogFoodBorder </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1501</span><span class="pun">;</span><span class="pln">
		_ctrlDogFoodBorder ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_ctrlDogFood </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1701</span><span class="pun">;</span><span class="pln">
		_ctrlDogFood ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		
		_ctrlDogWaterBorder </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1502</span><span class="pun">;</span><span class="pln">
		_ctrlDogWaterBorder ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_ctrlDogWater </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1702</span><span class="pun">;</span><span class="pln">
		_ctrlDogWater ctrlShow </span><span class="kwd">false</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_losCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_target"</span><span class="pun">,</span><span class="str">"_agent"</span><span class="pun">,</span><span class="str">"_cantSee"</span><span class="pun">];</span><span class="pln">
		_target </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="com">// PUT THE PLAYER IN FIRST ARGUMENT!!!!</span><span class="pln">
		_agent </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_cantSee </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNull _target</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			
			_tPos </span><span class="pun">=</span><span class="pln"> visiblePositionASL _target</span><span class="pun">;</span><span class="pln">
			_zPos </span><span class="pun">=</span><span class="pln"> visiblePositionASL _agent</span><span class="pun">;</span><span class="pln">
			
			_tPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,(</span><span class="pln">_tPos select </span><span class="lit">2</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
			_zPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,(</span><span class="pln">_zPos select </span><span class="lit">2</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">count _tPos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> and </span><span class="pun">(</span><span class="pln">count _zPos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				_cantSee </span><span class="pun">=</span><span class="pln"> terrainIntersectASL </span><span class="pun">[</span><span class="pln">_tPos</span><span class="pun">,</span><span class="pln"> _zPos</span><span class="pun">];</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">_cantSee</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
					_cantSee </span><span class="pun">=</span><span class="pln"> lineIntersects </span><span class="pun">[</span><span class="pln">_tPos</span><span class="pun">,</span><span class="pln"> _zPos</span><span class="pun">,</span><span class="pln"> _agent</span><span class="pun">,</span><span class="pln"> vehicle _target</span><span class="pun">];</span><span class="pln">
				</span><span class="pun">};</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_cantSee
	</span><span class="pun">};</span><span class="pln">
	
	eh_zombieInit </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_unit"</span><span class="pun">,</span><span class="str">"_pos"</span><span class="pun">];</span><span class="pln">
		</span><span class="com">//_unit = 	_this select 0;</span><span class="pln">
		</span><span class="com">//_pos =		getPosATL _unit;</span><span class="pln">
		</span><span class="com">//_id = [_pos,_unit] execFSM "\z\AddOns\dayz_code\system\zombie_agent.fsm";</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_equipCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_empty"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_needed"</span><span class="pun">,</span><span class="str">"_diff"</span><span class="pun">,</span><span class="str">"_success"</span><span class="pun">];</span><span class="pln">
		_config </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">;</span><span class="pln">
		_empty </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">player</span><span class="pun">]</span><span class="pln"> call BIS_fnc_invSlotsEmpty</span><span class="pun">;</span><span class="pln">
		_needed </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_config</span><span class="pun">]</span><span class="pln"> call BIS_fnc_invSlotType</span><span class="pun">;</span><span class="pln">
		_diff </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_empty</span><span class="pun">,</span><span class="pln">_needed</span><span class="pun">]</span><span class="pln"> call BIS_fnc_vectorDiff</span><span class="pun">;</span><span class="pln">
		
		_success </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_x </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">_success </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _diff</span><span class="pun">;</span><span class="pln">
		hint format</span><span class="pun">[</span><span class="str">"Config: %5\nEmpty: %1\nNeeded: %2\nDiff: %3\nSuccess: %4"</span><span class="pun">,</span><span class="pln">_empty</span><span class="pun">,</span><span class="pln">_needed</span><span class="pun">,</span><span class="pln">_diff</span><span class="pun">,</span><span class="pln">_success</span><span class="pun">,</span><span class="pln">_config</span><span class="pun">];</span><span class="pln">
		_success
	</span><span class="pun">};</span><span class="pln">

	vehicle_gear_count </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_counter"</span><span class="pun">];</span><span class="pln">
		_counter </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			_counter </span><span class="pun">=</span><span class="pln"> _counter </span><span class="pun">+</span><span class="pln"> _x</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _this</span><span class="pun">;</span><span class="pln">
		_counter
	</span><span class="pun">};</span><span class="pln">

	player_tagFriendlyMsg </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">player </span><span class="pun">==</span><span class="pln"> _this</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln"> 
			cutText</span><span class="pun">[(</span><span class="pln">localize </span><span class="str">"str_epoch_player_2"</span><span class="pun">),</span><span class="str">"PLAIN DOWN"</span><span class="pun">];</span><span class="pln">
		</span><span class="pun">};</span><span class="pln"> 
	</span><span class="pun">};</span><span class="pln">

	player_serverModelChange </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_object"</span><span class="pun">,</span><span class="str">"_model"</span><span class="pun">];</span><span class="pln">
		_object </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_model </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_object </span><span class="pun">==</span><span class="pln"> player</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_model call player_switchModel</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	player_guiControlFlash </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">];</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ctrlShown _control</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_control ctrlShow </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	gear_ui_offMenu </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_parent"</span><span class="pun">,</span><span class="str">"_menu"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_parent </span><span class="pun">=</span><span class="pln"> 	findDisplay </span><span class="lit">106</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!(</span><span class="pln">_this select </span><span class="lit">3</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_i"</span><span class="pln"> from </span><span class="lit">0</span><span class="pln"> to </span><span class="lit">9</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
				_menu </span><span class="pun">=</span><span class="pln"> _parent displayCtrl </span><span class="pun">(</span><span class="lit">1600</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _i</span><span class="pun">);</span><span class="pln">
				_menu ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
			_grpPos </span><span class="pun">=</span><span class="pln"> ctrlPosition _control</span><span class="pun">;</span><span class="pln">
			_grpPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
			_control ctrlSetPosition _grpPos</span><span class="pun">;</span><span class="pln">
			_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			_control ctrlCommit </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dze_surrender_off </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		player setVariable </span><span class="pun">[</span><span class="str">"DZE_Surrendered"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">];</span><span class="pln">
		DZE_Surrender </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">	
	</span><span class="pun">};</span><span class="pln">

	gear_ui_init </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_parent"</span><span class="pun">,</span><span class="str">"_menu"</span><span class="pun">,</span><span class="str">"_dspl"</span><span class="pun">,</span><span class="str">"_grpPos"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_parent </span><span class="pun">=</span><span class="pln"> findDisplay </span><span class="lit">106</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_parent displayCtrl </span><span class="lit">6902</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_i"</span><span class="pln"> from </span><span class="lit">0</span><span class="pln"> to </span><span class="lit">9</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_menu </span><span class="pun">=</span><span class="pln"> _parent displayCtrl </span><span class="pun">(</span><span class="lit">1600</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _i</span><span class="pun">);</span><span class="pln">
			_menu ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_grpPos </span><span class="pun">=</span><span class="pln"> ctrlPosition _control</span><span class="pun">;</span><span class="pln">
		_grpPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_control ctrlSetPosition _grpPos</span><span class="pun">;</span><span class="pln">
		_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_control ctrlCommit </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_eyeDir </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_vval"</span><span class="pun">,</span><span class="str">"_vdir"</span><span class="pun">];</span><span class="pln">
		_vval </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eyeDirection _this</span><span class="pun">);</span><span class="pln">
		_vdir </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vval select </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> atan2 </span><span class="pun">(</span><span class="pln">_vval select </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vdir </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">_vdir </span><span class="pun">=</span><span class="pln"> </span><span class="lit">360</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _vdir</span><span class="pun">};</span><span class="pln">
		_vdir
	</span><span class="pun">};</span><span class="pln">

	DZE_getModelName </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		_objInfo </span><span class="pun">=</span><span class="pln"> toArray</span><span class="pun">(</span><span class="pln">str</span><span class="pun">(</span><span class="pln">_this</span><span class="pun">));</span><span class="pln">
		_lenInfo </span><span class="pun">=</span><span class="pln"> count _objInfo </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_objName </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
		_i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// determine where the object name starts</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="lit">58</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> _objInfo select _i</span><span class="pun">)</span><span class="pln"> exitWith </span><span class="pun">{};</span><span class="pln">
			_i </span><span class="pun">=</span><span class="pln"> _i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _objInfo</span><span class="pun">;</span><span class="pln">
		_i </span><span class="pun">=</span><span class="pln"> _i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> </span><span class="com">// skip the ": " part</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_k"</span><span class="pln"> from _i to _lenInfo </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_objName </span><span class="pun">=</span><span class="pln"> _objName </span><span class="pun">+</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_objInfo select _k</span><span class="pun">];</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_objName </span><span class="pun">=</span><span class="pln"> toLower</span><span class="pun">(</span><span class="pln">toString</span><span class="pun">(</span><span class="pln">_objName</span><span class="pun">));</span><span class="pln">
		_objName
	</span><span class="pun">};</span><span class="pln">

	dze_isnearest_player </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_notClosest"</span><span class="pun">,</span><span class="str">"_playerDistance"</span><span class="pun">,</span><span class="str">"_nearPlayers"</span><span class="pun">,</span><span class="str">"_obj"</span><span class="pun">,</span><span class="str">"_playerNear"</span><span class="pun">];</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">isNull _this</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_nearPlayers </span><span class="pun">=</span><span class="pln"> _this nearEntities </span><span class="pun">[</span><span class="str">"CAManBase"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">];</span><span class="pln">
			_playerNear </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">isPlayer _x</span><span class="pun">}</span><span class="pln"> count _nearPlayers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
			_notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_playerNear</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				</span><span class="com">// check if another player is closer</span><span class="pln">
				_playerDistance </span><span class="pun">=</span><span class="pln"> player distance _this</span><span class="pun">;</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_playerDistance </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_x distance _this</span><span class="pun">))</span><span class="pln"> exitWith </span><span class="pun">{</span><span class="pln"> _notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
				</span><span class="pun">}</span><span class="pln"> forEach _nearPlayers</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_notClosest
	</span><span class="pun">};</span><span class="pln">
		
	</span><span class="com">// trader menu code</span><span class="pln">
	call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_traderMenu.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">// recent murders menu code</span><span class="pln">
	call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_murderMenu.sqf"</span><span class="pun">;</span><span class="pln">

	</span><span class="com">//This is still needed but the fsm should terminate if any errors pop up.</span><span class="pln">
	</span><span class="pun">[]</span><span class="pln"> spawn </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_timeOut"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_control1"</span><span class="pun">,</span><span class="str">"_control2"</span><span class="pun">];</span><span class="pln">
        disableSerialization</span><span class="pun">;</span><span class="pln">
        _timeOut </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
        diag_log </span><span class="str">"DEBUG: loadscreen guard started."</span><span class="pun">;</span><span class="pln">
        _display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNil </span><span class="str">"_display"</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                _control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
                _control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
                
        waitUntil </span><span class="pun">{!</span><span class="pln">dayz_DisplayGenderSelect</span><span class="pun">};</span><span class="pln">
                
        </span><span class="com">// 240 sec timeout (12000 * 0.01)</span><span class="pln">
        </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> _timeOut </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">24000</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dayz_clientPreload </span><span class="pun">&amp;&amp;</span><span class="pln"> dayz_authed</span><span class="pun">)</span><span class="pln"> exitWith </span><span class="pun">{</span><span class="pln"> diag_log </span><span class="str">"PLOGIN: Login loop completed!"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNil </span><span class="str">"_display"</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> isNull _display </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">                        
                        waitUntil </span><span class="pun">{</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dialog</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">                                
                        startLoadingScreen </span><span class="pun">[</span><span class="str">""</span><span class="pun">,</span><span class="str">"RscDisplayLoadCustom"</span><span class="pun">];</span><span class="pln">
                        _display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
                        _control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
                        _control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">

                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> dayz_loadScreenMsg </span><span class="pun">!=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                        _control1 ctrlSetText dayz_loadScreenMsg</span><span class="pun">;</span><span class="pln">
                        dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">

                _control2 ctrlSetText format</span><span class="pun">[</span><span class="str">"%1"</span><span class="pun">,</span><span class="pln">round</span><span class="pun">(</span><span class="pln">_timeOut</span><span class="pun">*</span><span class="lit">0.01</span><span class="pun">)];</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">

            _timeOut </span><span class="pun">=</span><span class="pln"> _timeOut </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_timeOut </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">24000</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                </span><span class="lit">1</span><span class="pln"> cutText </span><span class="pun">[</span><span class="pln">localize </span><span class="str">"str_player_login_timeout"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"PLAIN DOWN"</span><span class="pun">];</span><span class="pln">
                sleep </span><span class="lit">10</span><span class="pun">;</span><span class="pln">
                endLoadingScreen</span><span class="pun">;</span><span class="pln">
                endMission </span><span class="str">"END1"</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">

            sleep </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	</span><span class="com">// TODO: need move it in player_monitor.fsm</span><span class="pln">
	</span><span class="com">// allow player disconnect from server, if loading hang, kicked by BE etc.</span><span class="pln">
	</span><span class="pun">[]</span><span class="pln"> spawn </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_timeOut"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_control1"</span><span class="pun">,</span><span class="str">"_control2"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_timeOut </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
		diag_log </span><span class="str">"DEBUG: loadscreen guard started."</span><span class="pun">;</span><span class="pln">
		_display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
		_control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
		_control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// 120 sec timeout</span><span class="pln">
		</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> _timeOut </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">3000</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dayz_clientPreload </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dayz_authed </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> isNull _display </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				waitUntil </span><span class="pun">{</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dialog</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
				startLoadingScreen </span><span class="pun">[</span><span class="str">""</span><span class="pun">,</span><span class="str">"RscDisplayLoadCustom"</span><span class="pun">];</span><span class="pln">
				_display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
				_control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
				_control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> dayz_loadScreenMsg </span><span class="pun">!=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				_control1 ctrlSetText dayz_loadScreenMsg</span><span class="pun">;</span><span class="pln">
				dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
			_control2 ctrlSetText format</span><span class="pun">[</span><span class="str">"%1"</span><span class="pun">,</span><span class="pln">round</span><span class="pun">(</span><span class="pln">_timeOut</span><span class="pun">*</span><span class="lit">0.01</span><span class="pun">)];</span><span class="pln">
			_timeOut </span><span class="pun">=</span><span class="pln"> _timeOut </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
			sleep </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		endLoadingScreen</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	dayz_meleeMagazineCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_meleeNum"</span><span class="pun">,</span><span class="str">"_magType"</span><span class="pun">];</span><span class="pln">
                _magType </span><span class="pun">=</span><span class="pln">         </span><span class="pun">([]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> getArray </span><span class="pun">(</span><span class="pln">configFile </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">"CfgWeapons"</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> _wpnType </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">"magazines"</span><span class="pun">))</span><span class="pln"> select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                _meleeNum </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">_x </span><span class="pun">==</span><span class="pln"> _magType</span><span class="pun">}</span><span class="pln"> count magazines player</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_meleeNum </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                        player addMagazine _magType</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">

	dayz_originalPlayer </span><span class="pun">=</span><span class="pln"> player</span><span class="pun">;</span><span class="pln">
	
	progressLoadingScreen </span><span class="lit">0.8</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

	</span><span class="com">//Both</span><span class="pln">
	BIS_fnc_selectRandom </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_selectRandom.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_vectorAdd </span><span class="pun">=</span><span class="pln">         compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_vectorAdd.sqf"</span><span class="pun">;</span><span class="pln">	
	BIS_fnc_halo </span><span class="pun">=</span><span class="pln">              compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_halo.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_findNestedElement </span><span class="pun">=</span><span class="pln">	compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_findNestedElement.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_param </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_param.sqf"</span><span class="pun">;</span><span class="pln">

	fnc_buildWeightedArray </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_buildWeightedArray.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_usec_damageVehicle </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageHandlerVehicle.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Event handler run on damage</span><span class="pln">
	zombie_initialize </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\zombie_init.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// object_vehicleKilled =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\object_vehicleKilled.sqf";		//Event handler run on damage</span><span class="pln">
	object_setHitServer </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setHitServer.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_setFixServer </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setFixServer.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_getHit </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_getHit.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//gets the hit value for a HitPoint (i.e. HitLegs) against the selection (i.e. "legs"), returns the value</span><span class="pln">
	object_setHit </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setHit.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_processHit </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_processHit.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//process the hit in the REVO damage system (records and sets hit)</span><span class="pln">
	object_delLocal </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_delLocal.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// object_cargoCheck =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\object_cargoCheck.sqf";		//Run by the player or server to monitor changes in cargo contents</span><span class="pln">
	</span><span class="com">//fnc_usec_damageHandler =		compile preprocessFileLineNumbers "dayz_code\compile\fn_damageHandler.sqf";		//Event handler run on damage</span><span class="pln">
	fnc_veh_ResetEH </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\veh_ResetEH.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Initialize vehicle</span><span class="pln">
	</span><span class="com">// Vehicle damage fix</span><span class="pln">
	vehicle_handleDamage    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleDamage.sqf"</span><span class="pun">;</span><span class="pln">
	vehicle_handleKilled    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleKilled.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//fnc_vehicleEventHandler = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\init\vehicle_init.sqf";			//Initialize vehicle</span><span class="pln">
	fnc_inString </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_inString.sqf"</span><span class="pun">;</span><span class="pln">	
	fnc_isInsideBuilding </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	fnc_isInsideBuilding2 </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding2.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	fnc_isInsideBuilding3 </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding3.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	dayz_zombieSpeak </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_speak.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate random speech for a unit</span><span class="pln">
	vehicle_getHitpoints </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_getHitpoints.sqf"</span><span class="pun">;</span><span class="pln">
	local_gutObject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_gutObject.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated on the server (or local to unit) when gutting an object</span><span class="pln">
	local_lockUnlock </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_lockUnlock.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//When vehicle is local to unit perform locking vehicle</span><span class="pln">
	local_gutObjectZ </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_gutObjectZ.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated on the server (or local to unit) when gutting an object</span><span class="pln">
	local_zombieDamage </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageHandlerZ.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated by the client who created a zombie to track damage</span><span class="pln">
	local_setFuel </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_setFuel.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Generated when someone refuels a vehicle</span><span class="pln">
	local_eventKill </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_eventKill.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated when something is killed</span><span class="pln">
	</span><span class="com">//player_weaponCheck =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_weaponCheck.sqf";	//Run by the player or server to monitor whether they have picked up a new weapon</span><span class="pln">
	curTimeStr </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_curTimeStr.sqf"</span><span class="pun">;</span><span class="pln">
	player_medBandage </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medBandaged.sqf"</span><span class="pun">;</span><span class="pln">
	player_medInject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medInject.sqf"</span><span class="pun">;</span><span class="pln">
	player_medEpi </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medEpi.sqf"</span><span class="pun">;</span><span class="pln">
	player_medTransfuse </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medTransfuse.sqf"</span><span class="pun">;</span><span class="pln">
	player_medMorphine </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medMorphine.sqf"</span><span class="pun">;</span><span class="pln">
	player_breaklegs </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medBreakLegs.sqf"</span><span class="pun">;</span><span class="pln">
	player_medPainkiller </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medPainkiller.sqf"</span><span class="pun">;</span><span class="pln">
	world_isDay </span><span class="pun">=</span><span class="pln"> 				</span><span class="pun">{</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">daytime </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="lit">24</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> dayz_sunRise</span><span class="pun">))</span><span class="pln"> and </span><span class="pun">(</span><span class="pln">daytime </span><span class="pun">&gt;</span><span class="pln"> dayz_sunRise</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="kwd">true</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">false</span><span class="pun">}};</span><span class="pln">
	player_humanityChange </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_humanityChange.sqf"</span><span class="pun">;</span><span class="pln">
	spawn_loot </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\spawn_loot.sqf"</span><span class="pun">;</span><span class="pln">
	spawn_loot_small </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\spawn_loot_small.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_projectileNear = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_projectileNear.sqf";</span><span class="pln">
	
	dayz_HungerThirst </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		dayz_hunger </span><span class="pun">=</span><span class="pln"> dayz_hunger </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_this select </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
		dayz_thirst </span><span class="pun">=</span><span class="pln"> dayz_thirst </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_this select </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	dayz_EjectPlayer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="com">// check if player in vehicle</span><span class="pln">
        </span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_noDriver"</span><span class="pun">,</span><span class="str">"_vehicle"</span><span class="pun">,</span><span class="str">"_inVehicle"</span><span class="pun">];</span><span class="pln">
        _vehicle </span><span class="pun">=</span><span class="pln"> vehicle player</span><span class="pun">;</span><span class="pln">
		_inVehicle </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vehicle </span><span class="pun">!=</span><span class="pln"> player</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">_inVehicle</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_noDriver </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="pln">_vehicle emptyPositions </span><span class="str">"driver"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_noDriver and </span><span class="pun">(</span><span class="pln">speed _vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				player action </span><span class="pun">[</span><span class="pln"> </span><span class="str">"eject"</span><span class="pun">,</span><span class="pln"> _vehicle</span><span class="pun">];</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	player_sumMedical </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_character"</span><span class="pun">,</span><span class="str">"_wounds"</span><span class="pun">,</span><span class="str">"_legs"</span><span class="pun">,</span><span class="str">"_arms"</span><span class="pun">,</span><span class="str">"_medical"</span><span class="pun">];</span><span class="pln">
		_character </span><span class="pun">=</span><span class="pln"> 	_this</span><span class="pun">;</span><span class="pln">
		_wounds </span><span class="pun">=</span><span class="pln">		</span><span class="pun">[];</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_character getVariable</span><span class="pun">[</span><span class="str">"USEC_injured"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">])</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_character getVariable</span><span class="pun">[</span><span class="pln">_x</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">])</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
					_wounds </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="pln">count _wounds</span><span class="pun">,</span><span class="pln">_x</span><span class="pun">];</span><span class="pln">
				</span><span class="pun">};</span><span class="pln">
			</span><span class="pun">}</span><span class="pln"> forEach USEC_typeOfWounds</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_legs </span><span class="pun">=</span><span class="pln"> _character getVariable </span><span class="pun">[</span><span class="str">"hit_legs"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_arms </span><span class="pun">=</span><span class="pln"> _character getVariable </span><span class="pun">[</span><span class="str">"hit_arms"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_medical </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_isDead"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"NORRN_unconscious"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_infected"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_injured"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_inPain"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_isCardiac"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_lowBlood"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_BloodQty"</span><span class="pun">,</span><span class="lit">12000</span><span class="pun">],</span><span class="pln">
			_wounds</span><span class="pun">,</span><span class="pln">
			</span><span class="pun">[</span><span class="pln">_legs</span><span class="pun">,</span><span class="pln">_arms</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"unconsciousTime"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"messing"</span><span class="pun">,[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">]]</span><span class="pln">
		</span><span class="pun">];</span><span class="pln">
		_medical
	</span><span class="pun">};</span><span class="pln">
	
	</span><span class="com">//Server Only</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isServer</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
		call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_server\init\server_functions.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		eh_localCleanup </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	</span><span class="com">//Start Dynamic Weather</span><span class="pln">
	execVM </span><span class="str">"DynamicWeatherEffects.sqf"</span><span class="pun">;</span><span class="pln">
	initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></pre>
<p>
			Â 
		</p>
</div>
</div>
<p>
	(a lot is commented there, it came like that)
</p>
<p>
<strong><span style="color:#000000;">and the other is inÂ dayz_code\compile\compiles.sqf</span></strong>
</p>
<div class="ipsSpoiler" data-ipsspoiler="">
<div class="ipsSpoiler_header">
<span>Spoiler</span>
</div>
<div class="ipsSpoiler_contents">
<pre class="ipsCode prettyprint lang-c prettyprinted">

<span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isServer</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
	diag_log </span><span class="str">"Loading custom server compiles"</span><span class="pun">;</span><span class="pln">	
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isDedicated</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
	diag_log </span><span class="str">"Loading custom client compiles"</span><span class="pun">;</span><span class="pln">
	
	fnc_usec_selfactions </span><span class="pun">=</span><span class="pln"> compile preprocessFileLineNumbers </span><span class="str">"dayz_code\compile\fn_selfActions.sqf"</span><span class="pun">;</span><span class="pln">
		
	</span><span class="com">//Start Dynamic Weather</span><span class="pln">
	execVM </span><span class="str">"custom\DynamicWeatherEffects.sqf"</span><span class="pun">;</span><span class="pln">
	initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">	
	</span><span class="com">//Event handler run on damage</span><span class="pln">
	fnc_usec_damageHandler </span><span class="pun">=</span><span class="pln"> compile preprocessFileLineNumbers </span><span class="str">"dayz_code\compile\fn_damageHandler.sqf"</span><span class="pun">;</span><span class="pln">		
</span><span class="pun">};</span></pre>
<p>
			Â 
		</p>
</div>
</div>
<p>
<span style="color:#000000;">None of them worked, when one of the guys shoot at me, I got hurt.</span>
</p>
<p>
<span style="color:#000000;">Any idea what I am doing wrong? Â (btw, no error message at all)</span>
</p>
<p>
<span style="color:#000000;">Thanks again for all the help.</span>
</p>
<span class="ipsType_reset ipsType_medium ipsType_light" data-excludequote="">
<strong>Edited <time data-short="7 yr" datetime="2018-04-13T03:26:47Z" title="04/13/18 03:26  AM">April 13, 2018</time> by LadyVal</strong>
<br/>Tried the changes...
	
	
</span>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_302973_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302973"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302973" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302973" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302973&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=302973&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="I imagine that.Â  I was going to put the fn_*.sqf with the change into the \dayz_code\cusom folder (outside the pbo) and add your line into the compile file.
 


	I think I have several of your mods running.Â Â 
 


	The only one I am failing to make work is the admin tool... but that is not the most important right now.Â Â 
 


	Thanks a lot for the help I am receiving!!
 


	---------------------------------------------------
 


	I've tried theÂ 
 


if (_isPlayer &amp;&amp; !_falling) exitWith {};


	into the fn_damageHandler that I have in my custom folder.
 


	I edited the compile file... and because there are 2 (no idea why, it was like that in GTX) I tried both in different times:
 


	One is this one inÂ dayz_code\init\compiles.sqf
 




	(a lot is commented there, it came like that)
 


	and the other is inÂ dayz_code\compile\compiles.sqf
 




	None of them worked, when one of the guys shoot at me, I got hurt.
 


	Any idea what I am doing wrong? Â (btw, no error message at all)
 


	Thanks again for all the help.
 
" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302973">More sharing options...</button>
</div>
</div>
</div>
</article>
<a id="comment-302986"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_302986">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/24958-tanita-corp/?do=hovercard" data-ipshover-width="370" href="../../../../profile/24958-tanita-corp/index.html" rel="nofollow" title="Go to Tanita-Corp's profile">
<img alt="Tanita-Corp" loading="lazy" src="https://epochmod.com/forum/uploads/profile/photo-thumb-24958.jpg"/>
</a>
<a href="../../../../profile/24958-tanita-corp/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/24958-tanita-corp/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/24958-tanita-corp/index.html" rel="nofollow" title="Go to Tanita-Corp's profile"><span style="color:#">Tanita-Corp</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302986" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T10:43:11Z" title="04/13/18 10:43  AM">April 13, 2018</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/24958-tanita-corp/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/24958-tanita-corp/index.html" rel="nofollow" title="Go to Tanita-Corp's profile">Tanita-Corp</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/24958-tanita-corp/?do=hovercard" data-ipshover-width="370" href="../../../../profile/24958-tanita-corp/index.html" rel="nofollow" title="Go to Tanita-Corp's profile">
<img alt="Tanita-Corp" loading="lazy" src="https://epochmod.com/forum/uploads/profile/photo-thumb-24958.jpg"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/24958-tanita-corp/content/index.html" rel="nofollow" title="93 posts">
<i class="fa fa-comment"></i> 93
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">Moskow City</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="302986" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":24958,"username":"Tanita-Corp","timestamp":1523616191,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":302986}' id="comment-302986_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-302986_wrap" href="#elControls_302986_menu" id="elControls_302986" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_302986_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=302986" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_302986_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302986" id="elSharePost_302986" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302986" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T10:43:11Z" title="04/13/18 10:43  AM">April 13, 2018</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<blockquote class="ipsQuote" data-ipsquote="" data-ipsquote-contentapp="forums" data-ipsquote-contentclass="forums_Topic" data-ipsquote-contentcommentid="302973" data-ipsquote-contentid="44447" data-ipsquote-contenttype="forums" data-ipsquote-timestamp="1523560650" data-ipsquote-userid="39155" data-ipsquote-username="LadyVal">
<div class="ipsQuote_citation">
		15 hours ago, LadyVal said:
	</div>
<div class="ipsQuote_contents">
<p>
			I imagine that.Â  I was going to put the fn_*.sqf with the change into the \dayz_code\cusom folder (outside the pbo) and add your line into the compile file.
		</p>
<p>
			I think I have several of your mods running.Â Â 
		</p>
<p>
			The only one I am failing to make work is the admin tool... but that is not the most important right now.Â Â 
		</p>
<p>
			Thanks a lot for the help I am receiving!!
		</p>
<p>
			---------------------------------------------------
		</p>
<p>
			I've tried theÂ 
		</p>
<pre style="background-color:#f8f8f8;border:1px solid #888888;color:#555555;font-size:14px;padding:2px;">

<span style="color:#000000;">if (_isPlayer &amp;&amp; !_falling) exitWith {};</span></pre>
<p>
<span style="color:#000000;">into the fn_damageHandler that I have in my custom folder.</span>
</p>
<p>
<span style="color:#000000;">I edited the compile file... and because there are 2 (no idea why, it was like that in GTX) I tried both in different times:</span>
</p>
<p>
<strong><span style="color:#000000;">One is this one inÂ dayz_code\init\compiles.sqf</span></strong>
</p>
<div class="ipsSpoiler" data-ipsspoiler="">
<div class="ipsSpoiler_header">
<a href="#" rel="">Â </a> <span>Reveal hidden contents</span>
</div>
<div class="ipsSpoiler_contents">
<p>
					Â 
				</p>
<pre class="ipsCode prettyprint lang-c prettyprinted">


<span class="com">/*	
	FUNCTION COMPILES
*/</span><span class="pln">
</span><span class="com">//Player only</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isDedicated</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">

	</span><span class="str">"filmic"</span><span class="pln"> setToneMappingParams </span><span class="pun">[</span><span class="lit">0.07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.31</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.23</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.37</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.011</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.750</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">];</span><span class="pln"> setToneMapping </span><span class="str">"Filmic"</span><span class="pun">;</span><span class="pln">

	BIS_Effects_Burn </span><span class="pun">=</span><span class="pln"> 				compile preprocessFile </span><span class="str">"\ca\Data\ParticleEffects\SCRIPTS\destruction\burn.sqf"</span><span class="pun">;</span><span class="pln"> 
	player_zombieCheck </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_zombieCheck.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//Run on a players computer, checks if the player is near a zombie</span><span class="pln">
	player_zombieAttack </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_zombieAttack.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//Run on a players computer, causes a nearby zombie to attack them</span><span class="pln">
	fnc_usec_damageActions </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageActions.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_inAngleSector </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_inAngleSector.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_usec_selfActions </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_selfActions.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for self</span><span class="pln">
	fnc_usec_unconscious </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_unconscious.sqf"</span><span class="pun">;</span><span class="pln">
	player_temp_calculation	</span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_temperatur.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Temperatur System	//TeeChange</span><span class="pln">
	player_weaponFiredNear </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_weaponFiredNear.sqf"</span><span class="pun">;</span><span class="pln">
	player_animalCheck </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_animalCheck.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawnCheck </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_spawnCheck.sqf"</span><span class="pun">;</span><span class="pln">
	player_dumpBackpack </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_dumpBackpack.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_spawnLootCheck =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_spawnlootCheck.sqf";</span><span class="pln">
	</span><span class="com">// player_spawnZedCheck =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_spawnzedCheck.sqf";</span><span class="pln">
	building_spawnLoot </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\building_spawnLoot.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_taskHint =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_taskHint.sqf";</span><span class="pln">
	building_spawnZombies </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\building_spawnZombies.sqf"</span><span class="pun">;</span><span class="pln">
	dayz_spaceInterrupt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\dayz_spaceInterrupt.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//animal_monitor =			compile preprocessFileLineNumbers "\z\addons\dayz_code\system\animal_monitor.sqf";</span><span class="pln">
	</span><span class="com">// building_monitor =			compile preprocessFileLineNumbers "\z\addons\dayz_code\system\building_monitor.sqf";</span><span class="pln">
	player_fired </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_fired.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Runs when player fires. Alerts nearby Zeds depending on calibre and audial rating</span><span class="pln">
	player_harvest </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_harvest.sqf"</span><span class="pun">;</span><span class="pln">
	player_packTent </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_packTent.sqf"</span><span class="pun">;</span><span class="pln">
	player_packVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_packVault.sqf"</span><span class="pun">;</span><span class="pln">
	player_unlockVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_unlockVault.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_removeObject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\remove.sqf"</span><span class="pun">;</span><span class="pln">
	player_removeNet </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_removeNet.sqf"</span><span class="pun">;</span><span class="pln">
	player_removeTankTrap </span><span class="pun">=</span><span class="pln">    		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_removeTankTrap.sqf"</span><span class="pun">;</span><span class="pln">

	player_unlockDoor </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_unlockDoor.sqf"</span><span class="pun">;</span><span class="pln">
	player_changeCombo </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_changeCombo.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_lockVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_lockVault.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// control_zombieAgent = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\control_zombieAgent.sqf";</span><span class="pln">
	player_updateGui </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_updateGui.sqf"</span><span class="pun">;</span><span class="pln">
	player_crossbowBolt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_crossbowBolt.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//spawn_flies = 			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\spawn_flies.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationFill = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationFill.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationDel = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationDel.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationCheck = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationCheck.sqf";</span><span class="pln">
	player_music </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_music.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate ambient music</span><span class="pln">
	player_login </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_login.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate ambient music</span><span class="pln">
	player_death </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_death.sqf"</span><span class="pun">;</span><span class="pln">
	player_switchModel </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_switchModel.sqf"</span><span class="pun">;</span><span class="pln">
	player_checkStealth </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_checkStealth.sqf"</span><span class="pun">;</span><span class="pln">
	world_sunRise </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_sunRise.sqf"</span><span class="pun">;</span><span class="pln">
	world_surfaceNoise </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_surfaceNoise.sqf"</span><span class="pun">;</span><span class="pln">
	player_humanityMorph </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_humanityMorph.sqf"</span><span class="pun">;</span><span class="pln">
	player_throwObject </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_throwObject.sqf"</span><span class="pun">;</span><span class="pln">
	player_alertZombies </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_alertZombies.sqf"</span><span class="pun">;</span><span class="pln">
	player_fireMonitor </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\fire_monitor.sqf"</span><span class="pun">;</span><span class="pln">
	fn_gearMenuChecks </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_gearMenuChecks.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//Objects</span><span class="pln">
	object_roadFlare </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_roadFlare.sqf"</span><span class="pun">;</span><span class="pln">
	object_setpitchbank	</span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_setpitchbank.sqf"</span><span class="pun">;</span><span class="pln">
	object_monitorGear </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_monitorGear.sqf"</span><span class="pun">;</span><span class="pln">

	local_roadDebris </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_roadDebris.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//Zombies</span><span class="pln">
	zombie_findTargetAgent </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_findTargetAgent.sqf"</span><span class="pun">;</span><span class="pln">
	zombie_loiter </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_loiter.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	zombie_generate </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_generate.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	wild_spawnZombies </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\wild_spawnZombies.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	
	pz_attack </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\pzombie\pz_attack.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//</span><span class="pln">
	dog_findTargetAgent </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\dog_findTargetAgent.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">// Vehicle damage fix</span><span class="pln">
	vehicle_handleDamage    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleDamage.sqf"</span><span class="pun">;</span><span class="pln">
	vehicle_handleKilled    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleKilled.sqf"</span><span class="pun">;</span><span class="pln">

	</span><span class="com">//actions</span><span class="pln">
	player_countmagazines </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_countmagazines.sqf"</span><span class="pun">;</span><span class="pln">
	player_addToolbelt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_addToolbelt.sqf"</span><span class="pun">;</span><span class="pln">
	player_copyKey </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_copyKey.sqf"</span><span class="pun">;</span><span class="pln">
	player_reloadMag </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_reloadMags.sqf"</span><span class="pun">;</span><span class="pln">
	player_loadCrate </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_loadCrate.sqf"</span><span class="pun">;</span><span class="pln">
	player_craftItem </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_craftItem.sqf"</span><span class="pun">;</span><span class="pln">
	player_tentPitch </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\tent_pitch.sqf"</span><span class="pun">;</span><span class="pln">
	player_vaultPitch </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\vault_pitch.sqf"</span><span class="pun">;</span><span class="pln">
	player_drink </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_drink.sqf"</span><span class="pun">;</span><span class="pln">
	player_eat </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_eat.sqf"</span><span class="pun">;</span><span class="pln">
	player_useMeds </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_useMeds.sqf"</span><span class="pun">;</span><span class="pln">
	player_fillWater </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\water_fill.sqf"</span><span class="pun">;</span><span class="pln">
	player_makeFire </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_makefire.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_chopWood =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_chopWood.sqf";</span><span class="pln">
	player_harvestPlant </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_harvestPlant.sqf"</span><span class="pun">;</span><span class="pln">
	player_goFishing </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_goFishing.sqf"</span><span class="pun">;</span><span class="pln">
	player_build </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_build.sqf"</span><span class="pun">;</span><span class="pln">
	player_wearClothes </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_wearClothes.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_dropWeapon =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_dropWeapon.sqf";</span><span class="pln">
	</span><span class="com">//playerpip_setTrap =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_setTrap.sqf";</span><span class="pln">
	object_pickup </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\object_pickup.sqf"</span><span class="pun">;</span><span class="pln">
	player_flipvehicle </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_flipvehicle.sqf"</span><span class="pun">;</span><span class="pln">
	player_sleep </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_sleep.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_mineOre =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_mineOre.sqf";</span><span class="pln">
	player_antiWall </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_antiWall.sqf"</span><span class="pun">;</span><span class="pln">
	player_deathBoard </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\list_playerDeathsAlt.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_upgradeVehicle </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_upgradeVehicle.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//ui</span><span class="pln">
	player_selectSlot </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_selectSlot.sqf"</span><span class="pun">;</span><span class="pln">
	player_gearSync	</span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_gearSync.sqf"</span><span class="pun">;</span><span class="pln">
	player_gearSet	</span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_gearSet.sqf"</span><span class="pun">;</span><span class="pln">
	ui_changeDisplay </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_changeDisplay.sqf"</span><span class="pun">;</span><span class="pln">
	ui_gear_sound </span><span class="pun">=</span><span class="pln">             		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_gear_sound.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//System</span><span class="pln">
	player_monitor </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_monitor.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawn_1 </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_spawn_1.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawn_2 </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_spawn_2.sqf"</span><span class="pun">;</span><span class="pln">
	onPreloadStarted 			</span><span class="str">"dayz_preloadFinished = false;"</span><span class="pun">;</span><span class="pln">
	onPreloadFinished 			</span><span class="str">"dayz_preloadFinished = true;"</span><span class="pun">;</span><span class="pln">
	

	 

	</span><span class="com">//</span><span class="pln">
	</span><span>RunTime</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span>TotalRuns</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	
	fnc_dump </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_code"</span><span class="pun">,</span><span class="str">"_benchmark"</span><span class="pun">,</span><span class="str">"_averageRunTime"</span><span class="pun">];</span><span class="pln">
		_code </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_benchmark </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		
		</span><span>RunTime</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span>RunTime</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _benchmark</span><span class="pun">;</span><span class="pln">
		</span><span>TotalRuns</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span>TotalRuns</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_averageRunTime </span><span class="pun">=</span><span class="pln"> </span><span>RunTime</span><span class="pun">/</span><span>TotalRuns</span><span class="pun">;</span><span class="pln">

		diag_log format</span><span class="pun">[</span><span class="str">"%1 - %2 (%3 / %4)"</span><span class="pun">,</span><span class="pln">_code</span><span class="pun">,</span><span class="pln">_benchmark</span><span class="pun">,</span><span class="pln">_averageRunTime</span><span class="pun">,</span><span>TotalRuns</span><span class="pun">];</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	dayz_losChance </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_agent"</span><span class="pun">,</span><span class="str">"_maxDis"</span><span class="pun">,</span><span class="str">"_dis"</span><span class="pun">,</span><span class="str">"_val"</span><span class="pun">,</span><span class="str">"_maxExp"</span><span class="pun">,</span><span class="str">"_myExp"</span><span class="pun">];</span><span class="pln">
		_agent </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_dis </span><span class="pun">=</span><span class="pln">		_this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_maxDis </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// diag_log ("VAL:  " + str(_this));</span><span class="pln">
		_val </span><span class="pun">=</span><span class="pln"> 		</span><span class="pun">(</span><span class="pln">_maxDis </span><span class="pun">-</span><span class="pln"> _dis</span><span class="pun">)</span><span class="pln"> max </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_maxExp </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">((</span><span class="pln">exp </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> _maxDis</span><span class="pun">);</span><span class="pln">
		_myExp </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">((</span><span class="pln">exp </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_val</span><span class="pun">))</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> _maxExp</span><span class="pun">;</span><span class="pln">
		_myExp </span><span class="pun">=</span><span class="pln"> _myExp </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7</span><span class="pun">;</span><span class="pln">
		_myExp
	</span><span class="pun">};</span><span class="pln">
	
	ui_initDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_ctrlBleed"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_ctrlFracture"</span><span class="pun">,</span><span class="str">"_ctrlDogFood"</span><span class="pun">,</span><span class="str">"_ctrlDogWater"</span><span class="pun">,</span><span class="str">"_ctrlDogWaterBorder"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_ctrlDogFoodBorder"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_display </span><span class="pun">=</span><span class="pln"> uiNamespace getVariable </span><span class="str">'DAYZ_GUI_display'</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1204</span><span class="pun">;</span><span class="pln">
		_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">r_player_injured</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_ctrlBleed </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1303</span><span class="pun">;</span><span class="pln">
			_ctrlBleed ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">r_fracture_legs and </span><span class="pun">!</span><span class="pln">r_fracture_arms</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_ctrlFracture </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1203</span><span class="pun">;</span><span class="pln">
			_ctrlFracture ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_ctrlDogFoodBorder </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1501</span><span class="pun">;</span><span class="pln">
		_ctrlDogFoodBorder ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_ctrlDogFood </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1701</span><span class="pun">;</span><span class="pln">
		_ctrlDogFood ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		
		_ctrlDogWaterBorder </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1502</span><span class="pun">;</span><span class="pln">
		_ctrlDogWaterBorder ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_ctrlDogWater </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1702</span><span class="pun">;</span><span class="pln">
		_ctrlDogWater ctrlShow </span><span class="kwd">false</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_losCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_target"</span><span class="pun">,</span><span class="str">"_agent"</span><span class="pun">,</span><span class="str">"_cantSee"</span><span class="pun">];</span><span class="pln">
		_target </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="com">// PUT THE PLAYER IN FIRST ARGUMENT!!!!</span><span class="pln">
		_agent </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_cantSee </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNull _target</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			
			_tPos </span><span class="pun">=</span><span class="pln"> visiblePositionASL _target</span><span class="pun">;</span><span class="pln">
			_zPos </span><span class="pun">=</span><span class="pln"> visiblePositionASL _agent</span><span class="pun">;</span><span class="pln">
			
			_tPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,(</span><span class="pln">_tPos select </span><span class="lit">2</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
			_zPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,(</span><span class="pln">_zPos select </span><span class="lit">2</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">count _tPos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> and </span><span class="pun">(</span><span class="pln">count _zPos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				_cantSee </span><span class="pun">=</span><span class="pln"> terrainIntersectASL </span><span class="pun">[</span><span class="pln">_tPos</span><span class="pun">,</span><span class="pln"> _zPos</span><span class="pun">];</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">_cantSee</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
					_cantSee </span><span class="pun">=</span><span class="pln"> lineIntersects </span><span class="pun">[</span><span class="pln">_tPos</span><span class="pun">,</span><span class="pln"> _zPos</span><span class="pun">,</span><span class="pln"> _agent</span><span class="pun">,</span><span class="pln"> vehicle _target</span><span class="pun">];</span><span class="pln">
				</span><span class="pun">};</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_cantSee
	</span><span class="pun">};</span><span class="pln">
	
	eh_zombieInit </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_unit"</span><span class="pun">,</span><span class="str">"_pos"</span><span class="pun">];</span><span class="pln">
		</span><span class="com">//_unit = 	_this select 0;</span><span class="pln">
		</span><span class="com">//_pos =		getPosATL _unit;</span><span class="pln">
		</span><span class="com">//_id = [_pos,_unit] execFSM "\z\AddOns\dayz_code\system\zombie_agent.fsm";</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_equipCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_empty"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_needed"</span><span class="pun">,</span><span class="str">"_diff"</span><span class="pun">,</span><span class="str">"_success"</span><span class="pun">];</span><span class="pln">
		_config </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">;</span><span class="pln">
		_empty </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">player</span><span class="pun">]</span><span class="pln"> call BIS_fnc_invSlotsEmpty</span><span class="pun">;</span><span class="pln">
		_needed </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_config</span><span class="pun">]</span><span class="pln"> call BIS_fnc_invSlotType</span><span class="pun">;</span><span class="pln">
		_diff </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_empty</span><span class="pun">,</span><span class="pln">_needed</span><span class="pun">]</span><span class="pln"> call BIS_fnc_vectorDiff</span><span class="pun">;</span><span class="pln">
		
		_success </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_x </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">_success </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _diff</span><span class="pun">;</span><span class="pln">
		hint format</span><span class="pun">[</span><span class="str">"Config: %5\nEmpty: %1\nNeeded: %2\nDiff: %3\nSuccess: %4"</span><span class="pun">,</span><span class="pln">_empty</span><span class="pun">,</span><span class="pln">_needed</span><span class="pun">,</span><span class="pln">_diff</span><span class="pun">,</span><span class="pln">_success</span><span class="pun">,</span><span class="pln">_config</span><span class="pun">];</span><span class="pln">
		_success
	</span><span class="pun">};</span><span class="pln">

	vehicle_gear_count </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_counter"</span><span class="pun">];</span><span class="pln">
		_counter </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			_counter </span><span class="pun">=</span><span class="pln"> _counter </span><span class="pun">+</span><span class="pln"> _x</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _this</span><span class="pun">;</span><span class="pln">
		_counter
	</span><span class="pun">};</span><span class="pln">

	player_tagFriendlyMsg </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">player </span><span class="pun">==</span><span class="pln"> _this</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln"> 
			cutText</span><span class="pun">[(</span><span class="pln">localize </span><span class="str">"str_epoch_player_2"</span><span class="pun">),</span><span class="str">"PLAIN DOWN"</span><span class="pun">];</span><span class="pln">
		</span><span class="pun">};</span><span class="pln"> 
	</span><span class="pun">};</span><span class="pln">

	player_serverModelChange </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_object"</span><span class="pun">,</span><span class="str">"_model"</span><span class="pun">];</span><span class="pln">
		_object </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_model </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_object </span><span class="pun">==</span><span class="pln"> player</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_model call player_switchModel</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	player_guiControlFlash </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">];</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ctrlShown _control</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_control ctrlShow </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	gear_ui_offMenu </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_parent"</span><span class="pun">,</span><span class="str">"_menu"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_parent </span><span class="pun">=</span><span class="pln"> 	findDisplay </span><span class="lit">106</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!(</span><span class="pln">_this select </span><span class="lit">3</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_i"</span><span class="pln"> from </span><span class="lit">0</span><span class="pln"> to </span><span class="lit">9</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
				_menu </span><span class="pun">=</span><span class="pln"> _parent displayCtrl </span><span class="pun">(</span><span class="lit">1600</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _i</span><span class="pun">);</span><span class="pln">
				_menu ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
			_grpPos </span><span class="pun">=</span><span class="pln"> ctrlPosition _control</span><span class="pun">;</span><span class="pln">
			_grpPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
			_control ctrlSetPosition _grpPos</span><span class="pun">;</span><span class="pln">
			_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			_control ctrlCommit </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dze_surrender_off </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		player setVariable </span><span class="pun">[</span><span class="str">"DZE_Surrendered"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">];</span><span class="pln">
		DZE_Surrender </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">	
	</span><span class="pun">};</span><span class="pln">

	gear_ui_init </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_parent"</span><span class="pun">,</span><span class="str">"_menu"</span><span class="pun">,</span><span class="str">"_dspl"</span><span class="pun">,</span><span class="str">"_grpPos"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_parent </span><span class="pun">=</span><span class="pln"> findDisplay </span><span class="lit">106</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_parent displayCtrl </span><span class="lit">6902</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_i"</span><span class="pln"> from </span><span class="lit">0</span><span class="pln"> to </span><span class="lit">9</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_menu </span><span class="pun">=</span><span class="pln"> _parent displayCtrl </span><span class="pun">(</span><span class="lit">1600</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _i</span><span class="pun">);</span><span class="pln">
			_menu ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_grpPos </span><span class="pun">=</span><span class="pln"> ctrlPosition _control</span><span class="pun">;</span><span class="pln">
		_grpPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_control ctrlSetPosition _grpPos</span><span class="pun">;</span><span class="pln">
		_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_control ctrlCommit </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_eyeDir </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_vval"</span><span class="pun">,</span><span class="str">"_vdir"</span><span class="pun">];</span><span class="pln">
		_vval </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eyeDirection _this</span><span class="pun">);</span><span class="pln">
		_vdir </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vval select </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> atan2 </span><span class="pun">(</span><span class="pln">_vval select </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vdir </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">_vdir </span><span class="pun">=</span><span class="pln"> </span><span class="lit">360</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _vdir</span><span class="pun">};</span><span class="pln">
		_vdir
	</span><span class="pun">};</span><span class="pln">

	DZE_getModelName </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		_objInfo </span><span class="pun">=</span><span class="pln"> toArray</span><span class="pun">(</span><span class="pln">str</span><span class="pun">(</span><span class="pln">_this</span><span class="pun">));</span><span class="pln">
		_lenInfo </span><span class="pun">=</span><span class="pln"> count _objInfo </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_objName </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
		_i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// determine where the object name starts</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="lit">58</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> _objInfo select _i</span><span class="pun">)</span><span class="pln"> exitWith </span><span class="pun">{};</span><span class="pln">
			_i </span><span class="pun">=</span><span class="pln"> _i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _objInfo</span><span class="pun">;</span><span class="pln">
		_i </span><span class="pun">=</span><span class="pln"> _i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> </span><span class="com">// skip the ": " part</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_k"</span><span class="pln"> from _i to _lenInfo </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_objName </span><span class="pun">=</span><span class="pln"> _objName </span><span class="pun">+</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_objInfo select _k</span><span class="pun">];</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_objName </span><span class="pun">=</span><span class="pln"> toLower</span><span class="pun">(</span><span class="pln">toString</span><span class="pun">(</span><span class="pln">_objName</span><span class="pun">));</span><span class="pln">
		_objName
	</span><span class="pun">};</span><span class="pln">

	dze_isnearest_player </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_notClosest"</span><span class="pun">,</span><span class="str">"_playerDistance"</span><span class="pun">,</span><span class="str">"_nearPlayers"</span><span class="pun">,</span><span class="str">"_obj"</span><span class="pun">,</span><span class="str">"_playerNear"</span><span class="pun">];</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">isNull _this</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_nearPlayers </span><span class="pun">=</span><span class="pln"> _this nearEntities </span><span class="pun">[</span><span class="str">"CAManBase"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">];</span><span class="pln">
			_playerNear </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">isPlayer _x</span><span class="pun">}</span><span class="pln"> count _nearPlayers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
			_notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_playerNear</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				</span><span class="com">// check if another player is closer</span><span class="pln">
				_playerDistance </span><span class="pun">=</span><span class="pln"> player distance _this</span><span class="pun">;</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_playerDistance </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_x distance _this</span><span class="pun">))</span><span class="pln"> exitWith </span><span class="pun">{</span><span class="pln"> _notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
				</span><span class="pun">}</span><span class="pln"> forEach _nearPlayers</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_notClosest
	</span><span class="pun">};</span><span class="pln">
		
	</span><span class="com">// trader menu code</span><span class="pln">
	call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_traderMenu.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">// recent murders menu code</span><span class="pln">
	call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_murderMenu.sqf"</span><span class="pun">;</span><span class="pln">

	</span><span class="com">//This is still needed but the fsm should terminate if any errors pop up.</span><span class="pln">
	</span><span class="pun">[]</span><span class="pln"> spawn </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_timeOut"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_control1"</span><span class="pun">,</span><span class="str">"_control2"</span><span class="pun">];</span><span class="pln">
        disableSerialization</span><span class="pun">;</span><span class="pln">
        _timeOut </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
        diag_log </span><span class="str">"DEBUG: loadscreen guard started."</span><span class="pun">;</span><span class="pln">
        _display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNil </span><span class="str">"_display"</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                _control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
                _control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
                
        waitUntil </span><span class="pun">{!</span><span class="pln">dayz_DisplayGenderSelect</span><span class="pun">};</span><span class="pln">
                
        </span><span class="com">// 240 sec timeout (12000 * 0.01)</span><span class="pln">
        </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> _timeOut </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">24000</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dayz_clientPreload </span><span class="pun">&amp;&amp;</span><span class="pln"> dayz_authed</span><span class="pun">)</span><span class="pln"> exitWith </span><span class="pun">{</span><span class="pln"> diag_log </span><span class="str">"PLOGIN: Login loop completed!"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNil </span><span class="str">"_display"</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> isNull _display </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">                        
                        waitUntil </span><span class="pun">{</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dialog</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">                                
                        startLoadingScreen </span><span class="pun">[</span><span class="str">""</span><span class="pun">,</span><span class="str">"RscDisplayLoadCustom"</span><span class="pun">];</span><span class="pln">
                        _display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
                        _control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
                        _control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">

                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> dayz_loadScreenMsg </span><span class="pun">!=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                        _control1 ctrlSetText dayz_loadScreenMsg</span><span class="pun">;</span><span class="pln">
                        dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">

                _control2 ctrlSetText format</span><span class="pun">[</span><span class="str">"%1"</span><span class="pun">,</span><span class="pln">round</span><span class="pun">(</span><span class="pln">_timeOut</span><span class="pun">*</span><span class="lit">0.01</span><span class="pun">)];</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">

            _timeOut </span><span class="pun">=</span><span class="pln"> _timeOut </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_timeOut </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">24000</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                </span><span class="lit">1</span><span class="pln"> cutText </span><span class="pun">[</span><span class="pln">localize </span><span class="str">"str_player_login_timeout"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"PLAIN DOWN"</span><span class="pun">];</span><span class="pln">
                sleep </span><span class="lit">10</span><span class="pun">;</span><span class="pln">
                endLoadingScreen</span><span class="pun">;</span><span class="pln">
                endMission </span><span class="str">"END1"</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">

            sleep </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	</span><span class="com">// TODO: need move it in player_monitor.fsm</span><span class="pln">
	</span><span class="com">// allow player disconnect from server, if loading hang, kicked by BE etc.</span><span class="pln">
	</span><span class="pun">[]</span><span class="pln"> spawn </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_timeOut"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_control1"</span><span class="pun">,</span><span class="str">"_control2"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_timeOut </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
		diag_log </span><span class="str">"DEBUG: loadscreen guard started."</span><span class="pun">;</span><span class="pln">
		_display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
		_control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
		_control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// 120 sec timeout</span><span class="pln">
		</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> _timeOut </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">3000</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dayz_clientPreload </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dayz_authed </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> isNull _display </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				waitUntil </span><span class="pun">{</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dialog</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
				startLoadingScreen </span><span class="pun">[</span><span class="str">""</span><span class="pun">,</span><span class="str">"RscDisplayLoadCustom"</span><span class="pun">];</span><span class="pln">
				_display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
				_control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
				_control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> dayz_loadScreenMsg </span><span class="pun">!=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				_control1 ctrlSetText dayz_loadScreenMsg</span><span class="pun">;</span><span class="pln">
				dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
			_control2 ctrlSetText format</span><span class="pun">[</span><span class="str">"%1"</span><span class="pun">,</span><span class="pln">round</span><span class="pun">(</span><span class="pln">_timeOut</span><span class="pun">*</span><span class="lit">0.01</span><span class="pun">)];</span><span class="pln">
			_timeOut </span><span class="pun">=</span><span class="pln"> _timeOut </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
			sleep </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		endLoadingScreen</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	dayz_meleeMagazineCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_meleeNum"</span><span class="pun">,</span><span class="str">"_magType"</span><span class="pun">];</span><span class="pln">
                _magType </span><span class="pun">=</span><span class="pln">         </span><span class="pun">([]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> getArray </span><span class="pun">(</span><span class="pln">configFile </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">"CfgWeapons"</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> _wpnType </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">"magazines"</span><span class="pun">))</span><span class="pln"> select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                _meleeNum </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">_x </span><span class="pun">==</span><span class="pln"> _magType</span><span class="pun">}</span><span class="pln"> count magazines player</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_meleeNum </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                        player addMagazine _magType</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">

	dayz_originalPlayer </span><span class="pun">=</span><span class="pln"> player</span><span class="pun">;</span><span class="pln">
	
	progressLoadingScreen </span><span class="lit">0.8</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

	</span><span class="com">//Both</span><span class="pln">
	BIS_fnc_selectRandom </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_selectRandom.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_vectorAdd </span><span class="pun">=</span><span class="pln">         compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_vectorAdd.sqf"</span><span class="pun">;</span><span class="pln">	
	BIS_fnc_halo </span><span class="pun">=</span><span class="pln">              compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_halo.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_findNestedElement </span><span class="pun">=</span><span class="pln">	compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_findNestedElement.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_param </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_param.sqf"</span><span class="pun">;</span><span class="pln">

	fnc_buildWeightedArray </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_buildWeightedArray.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_usec_damageVehicle </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageHandlerVehicle.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Event handler run on damage</span><span class="pln">
	zombie_initialize </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\zombie_init.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// object_vehicleKilled =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\object_vehicleKilled.sqf";		//Event handler run on damage</span><span class="pln">
	object_setHitServer </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setHitServer.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_setFixServer </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setFixServer.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_getHit </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_getHit.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//gets the hit value for a HitPoint (i.e. HitLegs) against the selection (i.e. "legs"), returns the value</span><span class="pln">
	object_setHit </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setHit.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_processHit </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_processHit.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//process the hit in the REVO damage system (records and sets hit)</span><span class="pln">
	object_delLocal </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_delLocal.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// object_cargoCheck =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\object_cargoCheck.sqf";		//Run by the player or server to monitor changes in cargo contents</span><span class="pln">
	</span><span class="com">//fnc_usec_damageHandler =		compile preprocessFileLineNumbers "dayz_code\compile\fn_damageHandler.sqf";		//Event handler run on damage</span><span class="pln">
	fnc_veh_ResetEH </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\veh_ResetEH.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Initialize vehicle</span><span class="pln">
	</span><span class="com">// Vehicle damage fix</span><span class="pln">
	vehicle_handleDamage    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleDamage.sqf"</span><span class="pun">;</span><span class="pln">
	vehicle_handleKilled    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleKilled.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//fnc_vehicleEventHandler = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\init\vehicle_init.sqf";			//Initialize vehicle</span><span class="pln">
	fnc_inString </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_inString.sqf"</span><span class="pun">;</span><span class="pln">	
	fnc_isInsideBuilding </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	fnc_isInsideBuilding2 </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding2.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	fnc_isInsideBuilding3 </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding3.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	dayz_zombieSpeak </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_speak.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate random speech for a unit</span><span class="pln">
	vehicle_getHitpoints </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_getHitpoints.sqf"</span><span class="pun">;</span><span class="pln">
	local_gutObject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_gutObject.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated on the server (or local to unit) when gutting an object</span><span class="pln">
	local_lockUnlock </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_lockUnlock.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//When vehicle is local to unit perform locking vehicle</span><span class="pln">
	local_gutObjectZ </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_gutObjectZ.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated on the server (or local to unit) when gutting an object</span><span class="pln">
	local_zombieDamage </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageHandlerZ.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated by the client who created a zombie to track damage</span><span class="pln">
	local_setFuel </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_setFuel.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Generated when someone refuels a vehicle</span><span class="pln">
	local_eventKill </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_eventKill.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated when something is killed</span><span class="pln">
	</span><span class="com">//player_weaponCheck =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_weaponCheck.sqf";	//Run by the player or server to monitor whether they have picked up a new weapon</span><span class="pln">
	curTimeStr </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_curTimeStr.sqf"</span><span class="pun">;</span><span class="pln">
	player_medBandage </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medBandaged.sqf"</span><span class="pun">;</span><span class="pln">
	player_medInject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medInject.sqf"</span><span class="pun">;</span><span class="pln">
	player_medEpi </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medEpi.sqf"</span><span class="pun">;</span><span class="pln">
	player_medTransfuse </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medTransfuse.sqf"</span><span class="pun">;</span><span class="pln">
	player_medMorphine </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medMorphine.sqf"</span><span class="pun">;</span><span class="pln">
	player_breaklegs </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medBreakLegs.sqf"</span><span class="pun">;</span><span class="pln">
	player_medPainkiller </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medPainkiller.sqf"</span><span class="pun">;</span><span class="pln">
	world_isDay </span><span class="pun">=</span><span class="pln"> 				</span><span class="pun">{</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">daytime </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="lit">24</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> dayz_sunRise</span><span class="pun">))</span><span class="pln"> and </span><span class="pun">(</span><span class="pln">daytime </span><span class="pun">&gt;</span><span class="pln"> dayz_sunRise</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="kwd">true</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">false</span><span class="pun">}};</span><span class="pln">
	player_humanityChange </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_humanityChange.sqf"</span><span class="pun">;</span><span class="pln">
	spawn_loot </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\spawn_loot.sqf"</span><span class="pun">;</span><span class="pln">
	spawn_loot_small </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\spawn_loot_small.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_projectileNear = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_projectileNear.sqf";</span><span class="pln">
	
	dayz_HungerThirst </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		dayz_hunger </span><span class="pun">=</span><span class="pln"> dayz_hunger </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_this select </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
		dayz_thirst </span><span class="pun">=</span><span class="pln"> dayz_thirst </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_this select </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	dayz_EjectPlayer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="com">// check if player in vehicle</span><span class="pln">
        </span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_noDriver"</span><span class="pun">,</span><span class="str">"_vehicle"</span><span class="pun">,</span><span class="str">"_inVehicle"</span><span class="pun">];</span><span class="pln">
        _vehicle </span><span class="pun">=</span><span class="pln"> vehicle player</span><span class="pun">;</span><span class="pln">
		_inVehicle </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vehicle </span><span class="pun">!=</span><span class="pln"> player</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">_inVehicle</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_noDriver </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="pln">_vehicle emptyPositions </span><span class="str">"driver"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_noDriver and </span><span class="pun">(</span><span class="pln">speed _vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				player action </span><span class="pun">[</span><span class="pln"> </span><span class="str">"eject"</span><span class="pun">,</span><span class="pln"> _vehicle</span><span class="pun">];</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	player_sumMedical </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_character"</span><span class="pun">,</span><span class="str">"_wounds"</span><span class="pun">,</span><span class="str">"_legs"</span><span class="pun">,</span><span class="str">"_arms"</span><span class="pun">,</span><span class="str">"_medical"</span><span class="pun">];</span><span class="pln">
		_character </span><span class="pun">=</span><span class="pln"> 	_this</span><span class="pun">;</span><span class="pln">
		_wounds </span><span class="pun">=</span><span class="pln">		</span><span class="pun">[];</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_character getVariable</span><span class="pun">[</span><span class="str">"USEC_injured"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">])</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_character getVariable</span><span class="pun">[</span><span class="pln">_x</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">])</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
					_wounds </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="pln">count _wounds</span><span class="pun">,</span><span class="pln">_x</span><span class="pun">];</span><span class="pln">
				</span><span class="pun">};</span><span class="pln">
			</span><span class="pun">}</span><span class="pln"> forEach USEC_typeOfWounds</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_legs </span><span class="pun">=</span><span class="pln"> _character getVariable </span><span class="pun">[</span><span class="str">"hit_legs"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_arms </span><span class="pun">=</span><span class="pln"> _character getVariable </span><span class="pun">[</span><span class="str">"hit_arms"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_medical </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_isDead"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"NORRN_unconscious"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_infected"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_injured"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_inPain"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_isCardiac"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_lowBlood"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_BloodQty"</span><span class="pun">,</span><span class="lit">12000</span><span class="pun">],</span><span class="pln">
			_wounds</span><span class="pun">,</span><span class="pln">
			</span><span class="pun">[</span><span class="pln">_legs</span><span class="pun">,</span><span class="pln">_arms</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"unconsciousTime"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"messing"</span><span class="pun">,[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">]]</span><span class="pln">
		</span><span class="pun">];</span><span class="pln">
		_medical
	</span><span class="pun">};</span><span class="pln">
	
	</span><span class="com">//Server Only</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isServer</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
		call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_server\init\server_functions.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		eh_localCleanup </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	</span><span class="com">//Start Dynamic Weather</span><span class="pln">
	execVM </span><span class="str">"DynamicWeatherEffects.sqf"</span><span class="pun">;</span><span class="pln">
	initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></pre>
<p>
					Â 
				</p>
</div>
</div>
<p>
			(a lot is commented there, it came like that)
		</p>
<p>
<strong><span style="color:#000000;">and the other is inÂ dayz_code\compile\compiles.sqf</span></strong>
</p>
<div class="ipsSpoiler" data-ipsspoiler="">
<div class="ipsSpoiler_header">
<a href="#" rel="">Â </a> <span>Hide contents</span>
</div>
<div class="ipsSpoiler_contents">
<pre class="ipsCode prettyprint lang-c prettyprinted">


<span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isServer</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
	diag_log </span><span class="str">"Loading custom server compiles"</span><span class="pun">;</span><span class="pln">	
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isDedicated</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
	diag_log </span><span class="str">"Loading custom client compiles"</span><span class="pun">;</span><span class="pln">
	
	fnc_usec_selfactions </span><span class="pun">=</span><span class="pln"> compile preprocessFileLineNumbers </span><span class="str">"dayz_code\compile\fn_selfActions.sqf"</span><span class="pun">;</span><span class="pln">
		
	</span><span class="com">//Start Dynamic Weather</span><span class="pln">
	execVM </span><span class="str">"custom\DynamicWeatherEffects.sqf"</span><span class="pun">;</span><span class="pln">
	initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">	
	</span><span class="com">//Event handler run on damage</span><span class="pln">
	fnc_usec_damageHandler </span><span class="pun">=</span><span class="pln"> compile preprocessFileLineNumbers </span><span class="str">"dayz_code\compile\fn_damageHandler.sqf"</span><span class="pun">;</span><span class="pln">		
</span><span class="pun">};</span></pre>
<p>
					Â 
				</p>
</div>
</div>
<p>
<span style="color:#000000;">None of them worked, when one of the guys shoot at me, I got hurt.</span>
</p>
<p>
<span style="color:#000000;">Any idea what I am doing wrong? Â (btw, no error message at all)</span>
</p>
<p>
<span style="color:#000000;">Thanks again for all the help.</span>
</p>
</div>
</blockquote>
<p>
	editÂ 
</p>
<pre style="background-color:#f8f8f8;border:1px solid #888888;color:#555555;font-size:14px;padding:2px;">
<span style="color:#000000;">fnc_usec_damageHandler in safezone script</span></pre>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_302986_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302986"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302986" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302986" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302986&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=302986&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="editÂ 
 


fnc_usec_damageHandler in safezone script
" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302986">More sharing options...</button>
</div>
</div>
</div>
</article>
<a id="comment-302987"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_302987">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/36515-salival/?do=hovercard" data-ipshover-width="370" href="../../../../profile/36515-salival/index.html" rel="nofollow" title="Go to salival's profile">
<img alt="salival" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2016_05/b84cf4d1aa73b74e143305e7172d6a3dd39385f4_full.jpg.90d0dacf6cbf51d45b1157f2febc3297.thumb.jpg.a08b1d9294bccac33e8059e83ea7d415.jpg"/>
</a>
<span class="cAuthorPane_badge cAuthorPane_badge--moderator" data-ipstooltip="" title="salival is a moderator"></span>
<a href="../../../../profile/36515-salival/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/36515-salival/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/36515-salival/index.html" rel="nofollow" title="Go to salival's profile">salival</a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302987" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T11:39:59Z" title="04/13/18 11:39  AM">April 13, 2018</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/36515-salival/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/36515-salival/index.html" rel="nofollow" title="Go to salival's profile">salival</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/36515-salival/?do=hovercard" data-ipshover-width="370" href="../../../../profile/36515-salival/index.html" rel="nofollow" title="Go to salival's profile">
<img alt="salival" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2016_05/b84cf4d1aa73b74e143305e7172d6a3dd39385f4_full.jpg.90d0dacf6cbf51d45b1157f2febc3297.thumb.jpg.a08b1d9294bccac33e8059e83ea7d415.jpg"/>
</a>
<span class="cAuthorPane_badge cAuthorPane_badge--moderator" data-ipstooltip="" title="salival is a moderator"></span>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group">Moderator</li>
<li data-role="group-icon"><img alt="" class="cAuthorGroupIcon" src="https://epochmod.com/forum/uploads/monthly_2016_12/collaborators_icon.png.71bef1d8ad93af7dcefca484b7d640a4.png"/></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/36515-salival/content/index.html" rel="nofollow" title="1455 posts">
<i class="fa fa-comment"></i> 1.5k
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">New Zealand</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="302987" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":36515,"username":"salival","timestamp":1523619599,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":302987}' id="comment-302987_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-302987_wrap" href="#elControls_302987_menu" id="elControls_302987" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_302987_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=302987" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_302987_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302987" id="elSharePost_302987" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302987" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T11:39:59Z" title="04/13/18 11:39  AM">April 13, 2018</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<blockquote class="ipsQuote" data-ipsquote="" data-ipsquote-contentapp="forums" data-ipsquote-contentclass="forums_Topic" data-ipsquote-contentcommentid="302973" data-ipsquote-contentid="44447" data-ipsquote-contenttype="forums" data-ipsquote-timestamp="1523560650" data-ipsquote-userid="39155" data-ipsquote-username="LadyVal">
<div class="ipsQuote_citation">
		16 hours ago, LadyVal said:
	</div>
<div class="ipsQuote_contents">
<p>
			I imagine that.Â  I was going to put the fn_*.sqf with the change into the \dayz_code\cusom folder (outside the pbo) and add your line into the compile file.
		</p>
<p>
			I think I have several of your mods running.Â Â 
		</p>
<p>
			The only one I am failing to make work is the admin tool... but that is not the most important right now.Â Â 
		</p>
<p>
			Thanks a lot for the help I am receiving!!
		</p>
<p>
			---------------------------------------------------
		</p>
<p>
			I've tried theÂ 
		</p>
<pre style="background-color:#f8f8f8;border:1px solid #888888;color:#555555;font-size:14px;padding:2px;">

<span style="color:#000000;">if (_isPlayer &amp;&amp; !_falling) exitWith {};</span></pre>
<p>
<span style="color:#000000;">into the fn_damageHandler that I have in my custom folder.</span>
</p>
<p>
<span style="color:#000000;">I edited the compile file... and because there are 2 (no idea why, it was like that in GTX) I tried both in different times:</span>
</p>
<p>
<strong><span style="color:#000000;">One is this one inÂ dayz_code\init\compiles.sqf</span></strong>
</p>
<div class="ipsSpoiler" data-ipsspoiler="">
<div class="ipsSpoiler_header">
<a href="#" rel="">Â </a> <span>Reveal hidden contents</span>
</div>
<div class="ipsSpoiler_contents">
<p>
					Â 
				</p>
<pre class="ipsCode prettyprint lang-c prettyprinted">


<span class="com">/*	
	FUNCTION COMPILES
*/</span><span class="pln">
</span><span class="com">//Player only</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isDedicated</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">

	</span><span class="str">"filmic"</span><span class="pln"> setToneMappingParams </span><span class="pun">[</span><span class="lit">0.07</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.31</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.23</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.37</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.011</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3.750</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">];</span><span class="pln"> setToneMapping </span><span class="str">"Filmic"</span><span class="pun">;</span><span class="pln">

	BIS_Effects_Burn </span><span class="pun">=</span><span class="pln"> 				compile preprocessFile </span><span class="str">"\ca\Data\ParticleEffects\SCRIPTS\destruction\burn.sqf"</span><span class="pun">;</span><span class="pln"> 
	player_zombieCheck </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_zombieCheck.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//Run on a players computer, checks if the player is near a zombie</span><span class="pln">
	player_zombieAttack </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_zombieAttack.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//Run on a players computer, causes a nearby zombie to attack them</span><span class="pln">
	fnc_usec_damageActions </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageActions.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_inAngleSector </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_inAngleSector.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_usec_selfActions </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_selfActions.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for self</span><span class="pln">
	fnc_usec_unconscious </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_unconscious.sqf"</span><span class="pun">;</span><span class="pln">
	player_temp_calculation	</span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_temperatur.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Temperatur System	//TeeChange</span><span class="pln">
	player_weaponFiredNear </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_weaponFiredNear.sqf"</span><span class="pun">;</span><span class="pln">
	player_animalCheck </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_animalCheck.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawnCheck </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_spawnCheck.sqf"</span><span class="pun">;</span><span class="pln">
	player_dumpBackpack </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_dumpBackpack.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_spawnLootCheck =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_spawnlootCheck.sqf";</span><span class="pln">
	</span><span class="com">// player_spawnZedCheck =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_spawnzedCheck.sqf";</span><span class="pln">
	building_spawnLoot </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\building_spawnLoot.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_taskHint =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_taskHint.sqf";</span><span class="pln">
	building_spawnZombies </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\building_spawnZombies.sqf"</span><span class="pun">;</span><span class="pln">
	dayz_spaceInterrupt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\dayz_spaceInterrupt.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//animal_monitor =			compile preprocessFileLineNumbers "\z\addons\dayz_code\system\animal_monitor.sqf";</span><span class="pln">
	</span><span class="com">// building_monitor =			compile preprocessFileLineNumbers "\z\addons\dayz_code\system\building_monitor.sqf";</span><span class="pln">
	player_fired </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_fired.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Runs when player fires. Alerts nearby Zeds depending on calibre and audial rating</span><span class="pln">
	player_harvest </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_harvest.sqf"</span><span class="pun">;</span><span class="pln">
	player_packTent </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_packTent.sqf"</span><span class="pun">;</span><span class="pln">
	player_packVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_packVault.sqf"</span><span class="pun">;</span><span class="pln">
	player_unlockVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_unlockVault.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_removeObject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\remove.sqf"</span><span class="pun">;</span><span class="pln">
	player_removeNet </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_removeNet.sqf"</span><span class="pun">;</span><span class="pln">
	player_removeTankTrap </span><span class="pun">=</span><span class="pln">    		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_removeTankTrap.sqf"</span><span class="pun">;</span><span class="pln">

	player_unlockDoor </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_unlockDoor.sqf"</span><span class="pun">;</span><span class="pln">
	player_changeCombo </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_changeCombo.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_lockVault </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_lockVault.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// control_zombieAgent = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\control_zombieAgent.sqf";</span><span class="pln">
	player_updateGui </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_updateGui.sqf"</span><span class="pun">;</span><span class="pln">
	player_crossbowBolt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_crossbowBolt.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//spawn_flies = 			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\spawn_flies.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationFill = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationFill.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationDel = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationDel.sqf";</span><span class="pln">
	</span><span class="com">// stream_locationCheck = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\stream_locationCheck.sqf";</span><span class="pln">
	player_music </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_music.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate ambient music</span><span class="pln">
	player_login </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_login.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate ambient music</span><span class="pln">
	player_death </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_death.sqf"</span><span class="pun">;</span><span class="pln">
	player_switchModel </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_switchModel.sqf"</span><span class="pun">;</span><span class="pln">
	player_checkStealth </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_checkStealth.sqf"</span><span class="pun">;</span><span class="pln">
	world_sunRise </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_sunRise.sqf"</span><span class="pun">;</span><span class="pln">
	world_surfaceNoise </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_surfaceNoise.sqf"</span><span class="pun">;</span><span class="pln">
	player_humanityMorph </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_humanityMorph.sqf"</span><span class="pun">;</span><span class="pln">
	player_throwObject </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_throwObject.sqf"</span><span class="pun">;</span><span class="pln">
	player_alertZombies </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_alertZombies.sqf"</span><span class="pun">;</span><span class="pln">
	player_fireMonitor </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\fire_monitor.sqf"</span><span class="pun">;</span><span class="pln">
	fn_gearMenuChecks </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_gearMenuChecks.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//Objects</span><span class="pln">
	object_roadFlare </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_roadFlare.sqf"</span><span class="pun">;</span><span class="pln">
	object_setpitchbank	</span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_setpitchbank.sqf"</span><span class="pun">;</span><span class="pln">
	object_monitorGear </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_monitorGear.sqf"</span><span class="pun">;</span><span class="pln">

	local_roadDebris </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_roadDebris.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//Zombies</span><span class="pln">
	zombie_findTargetAgent </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_findTargetAgent.sqf"</span><span class="pun">;</span><span class="pln">
	zombie_loiter </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_loiter.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	zombie_generate </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\zombie_generate.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	wild_spawnZombies </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\wild_spawnZombies.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Server compile, used for loiter behaviour</span><span class="pln">
	
	pz_attack </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\pzombie\pz_attack.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//</span><span class="pln">
	dog_findTargetAgent </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\dog_findTargetAgent.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">// Vehicle damage fix</span><span class="pln">
	vehicle_handleDamage    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleDamage.sqf"</span><span class="pun">;</span><span class="pln">
	vehicle_handleKilled    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleKilled.sqf"</span><span class="pun">;</span><span class="pln">

	</span><span class="com">//actions</span><span class="pln">
	player_countmagazines </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_countmagazines.sqf"</span><span class="pun">;</span><span class="pln">
	player_addToolbelt </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_addToolbelt.sqf"</span><span class="pun">;</span><span class="pln">
	player_copyKey </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_copyKey.sqf"</span><span class="pun">;</span><span class="pln">
	player_reloadMag </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_reloadMags.sqf"</span><span class="pun">;</span><span class="pln">
	player_loadCrate </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_loadCrate.sqf"</span><span class="pun">;</span><span class="pln">
	player_craftItem </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_craftItem.sqf"</span><span class="pun">;</span><span class="pln">
	player_tentPitch </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\tent_pitch.sqf"</span><span class="pun">;</span><span class="pln">
	player_vaultPitch </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\vault_pitch.sqf"</span><span class="pun">;</span><span class="pln">
	player_drink </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_drink.sqf"</span><span class="pun">;</span><span class="pln">
	player_eat </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_eat.sqf"</span><span class="pun">;</span><span class="pln">
	player_useMeds </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_useMeds.sqf"</span><span class="pun">;</span><span class="pln">
	player_fillWater </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\water_fill.sqf"</span><span class="pun">;</span><span class="pln">
	player_makeFire </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_makefire.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_chopWood =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_chopWood.sqf";</span><span class="pln">
	player_harvestPlant </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_harvestPlant.sqf"</span><span class="pun">;</span><span class="pln">
	player_goFishing </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_goFishing.sqf"</span><span class="pun">;</span><span class="pln">
	player_build </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_build.sqf"</span><span class="pun">;</span><span class="pln">
	player_wearClothes </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_wearClothes.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_dropWeapon =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_dropWeapon.sqf";</span><span class="pln">
	</span><span class="com">//playerpip_setTrap =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_setTrap.sqf";</span><span class="pln">
	object_pickup </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\object_pickup.sqf"</span><span class="pun">;</span><span class="pln">
	player_flipvehicle </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_flipvehicle.sqf"</span><span class="pun">;</span><span class="pln">
	player_sleep </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\player_sleep.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//player_mineOre =			compile preprocessFileLineNumbers "\z\addons\dayz_code\actions\player_mineOre.sqf";</span><span class="pln">
	player_antiWall </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_antiWall.sqf"</span><span class="pun">;</span><span class="pln">
	player_deathBoard </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\actions\list_playerDeathsAlt.sqf"</span><span class="pun">;</span><span class="pln">
	
	player_upgradeVehicle </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_upgradeVehicle.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//ui</span><span class="pln">
	player_selectSlot </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_selectSlot.sqf"</span><span class="pun">;</span><span class="pln">
	player_gearSync	</span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_gearSync.sqf"</span><span class="pun">;</span><span class="pln">
	player_gearSet	</span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_gearSet.sqf"</span><span class="pun">;</span><span class="pln">
	ui_changeDisplay </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_changeDisplay.sqf"</span><span class="pun">;</span><span class="pln">
	ui_gear_sound </span><span class="pun">=</span><span class="pln">             		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\ui_gear_sound.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">//System</span><span class="pln">
	player_monitor </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_monitor.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawn_1 </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_spawn_1.sqf"</span><span class="pun">;</span><span class="pln">
	player_spawn_2 </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\player_spawn_2.sqf"</span><span class="pun">;</span><span class="pln">
	onPreloadStarted 			</span><span class="str">"dayz_preloadFinished = false;"</span><span class="pun">;</span><span class="pln">
	onPreloadFinished 			</span><span class="str">"dayz_preloadFinished = true;"</span><span class="pun">;</span><span class="pln">
	

	 

	</span><span class="com">//</span><span class="pln">
	</span><span>RunTime</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span>TotalRuns</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	
	fnc_dump </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_code"</span><span class="pun">,</span><span class="str">"_benchmark"</span><span class="pun">,</span><span class="str">"_averageRunTime"</span><span class="pun">];</span><span class="pln">
		_code </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_benchmark </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		
		</span><span>RunTime</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span>RunTime</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _benchmark</span><span class="pun">;</span><span class="pln">
		</span><span>TotalRuns</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span>TotalRuns</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_averageRunTime </span><span class="pun">=</span><span class="pln"> </span><span>RunTime</span><span class="pun">/</span><span>TotalRuns</span><span class="pun">;</span><span class="pln">

		diag_log format</span><span class="pun">[</span><span class="str">"%1 - %2 (%3 / %4)"</span><span class="pun">,</span><span class="pln">_code</span><span class="pun">,</span><span class="pln">_benchmark</span><span class="pun">,</span><span class="pln">_averageRunTime</span><span class="pun">,</span><span>TotalRuns</span><span class="pun">];</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	dayz_losChance </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_agent"</span><span class="pun">,</span><span class="str">"_maxDis"</span><span class="pun">,</span><span class="str">"_dis"</span><span class="pun">,</span><span class="str">"_val"</span><span class="pun">,</span><span class="str">"_maxExp"</span><span class="pun">,</span><span class="str">"_myExp"</span><span class="pun">];</span><span class="pln">
		_agent </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_dis </span><span class="pun">=</span><span class="pln">		_this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_maxDis </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// diag_log ("VAL:  " + str(_this));</span><span class="pln">
		_val </span><span class="pun">=</span><span class="pln"> 		</span><span class="pun">(</span><span class="pln">_maxDis </span><span class="pun">-</span><span class="pln"> _dis</span><span class="pun">)</span><span class="pln"> max </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_maxExp </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">((</span><span class="pln">exp </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> _maxDis</span><span class="pun">);</span><span class="pln">
		_myExp </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">((</span><span class="pln">exp </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_val</span><span class="pun">))</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> _maxExp</span><span class="pun">;</span><span class="pln">
		_myExp </span><span class="pun">=</span><span class="pln"> _myExp </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0.7</span><span class="pun">;</span><span class="pln">
		_myExp
	</span><span class="pun">};</span><span class="pln">
	
	ui_initDisplay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_ctrlBleed"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_ctrlFracture"</span><span class="pun">,</span><span class="str">"_ctrlDogFood"</span><span class="pun">,</span><span class="str">"_ctrlDogWater"</span><span class="pun">,</span><span class="str">"_ctrlDogWaterBorder"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_ctrlDogFoodBorder"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_display </span><span class="pun">=</span><span class="pln"> uiNamespace getVariable </span><span class="str">'DAYZ_GUI_display'</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1204</span><span class="pun">;</span><span class="pln">
		_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">r_player_injured</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_ctrlBleed </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1303</span><span class="pun">;</span><span class="pln">
			_ctrlBleed ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">r_fracture_legs and </span><span class="pun">!</span><span class="pln">r_fracture_arms</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_ctrlFracture </span><span class="pun">=</span><span class="pln"> 	_display displayCtrl </span><span class="lit">1203</span><span class="pun">;</span><span class="pln">
			_ctrlFracture ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_ctrlDogFoodBorder </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1501</span><span class="pun">;</span><span class="pln">
		_ctrlDogFoodBorder ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_ctrlDogFood </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1701</span><span class="pun">;</span><span class="pln">
		_ctrlDogFood ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		
		_ctrlDogWaterBorder </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1502</span><span class="pun">;</span><span class="pln">
		_ctrlDogWaterBorder ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_ctrlDogWater </span><span class="pun">=</span><span class="pln"> _display displayCtrl </span><span class="lit">1702</span><span class="pun">;</span><span class="pln">
		_ctrlDogWater ctrlShow </span><span class="kwd">false</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_losCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_target"</span><span class="pun">,</span><span class="str">"_agent"</span><span class="pun">,</span><span class="str">"_cantSee"</span><span class="pun">];</span><span class="pln">
		_target </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="com">// PUT THE PLAYER IN FIRST ARGUMENT!!!!</span><span class="pln">
		_agent </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_cantSee </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNull _target</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			
			_tPos </span><span class="pun">=</span><span class="pln"> visiblePositionASL _target</span><span class="pun">;</span><span class="pln">
			_zPos </span><span class="pun">=</span><span class="pln"> visiblePositionASL _agent</span><span class="pun">;</span><span class="pln">
			
			_tPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,(</span><span class="pln">_tPos select </span><span class="lit">2</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
			_zPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,(</span><span class="pln">_zPos select </span><span class="lit">2</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">count _tPos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> and </span><span class="pun">(</span><span class="pln">count _zPos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				_cantSee </span><span class="pun">=</span><span class="pln"> terrainIntersectASL </span><span class="pun">[</span><span class="pln">_tPos</span><span class="pun">,</span><span class="pln"> _zPos</span><span class="pun">];</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">_cantSee</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
					_cantSee </span><span class="pun">=</span><span class="pln"> lineIntersects </span><span class="pun">[</span><span class="pln">_tPos</span><span class="pun">,</span><span class="pln"> _zPos</span><span class="pun">,</span><span class="pln"> _agent</span><span class="pun">,</span><span class="pln"> vehicle _target</span><span class="pun">];</span><span class="pln">
				</span><span class="pun">};</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_cantSee
	</span><span class="pun">};</span><span class="pln">
	
	eh_zombieInit </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_unit"</span><span class="pun">,</span><span class="str">"_pos"</span><span class="pun">];</span><span class="pln">
		</span><span class="com">//_unit = 	_this select 0;</span><span class="pln">
		</span><span class="com">//_pos =		getPosATL _unit;</span><span class="pln">
		</span><span class="com">//_id = [_pos,_unit] execFSM "\z\AddOns\dayz_code\system\zombie_agent.fsm";</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_equipCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_empty"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"_needed"</span><span class="pun">,</span><span class="str">"_diff"</span><span class="pun">,</span><span class="str">"_success"</span><span class="pun">];</span><span class="pln">
		_config </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">;</span><span class="pln">
		_empty </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">player</span><span class="pun">]</span><span class="pln"> call BIS_fnc_invSlotsEmpty</span><span class="pun">;</span><span class="pln">
		_needed </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_config</span><span class="pun">]</span><span class="pln"> call BIS_fnc_invSlotType</span><span class="pun">;</span><span class="pln">
		_diff </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_empty</span><span class="pun">,</span><span class="pln">_needed</span><span class="pun">]</span><span class="pln"> call BIS_fnc_vectorDiff</span><span class="pun">;</span><span class="pln">
		
		_success </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_x </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">_success </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _diff</span><span class="pun">;</span><span class="pln">
		hint format</span><span class="pun">[</span><span class="str">"Config: %5\nEmpty: %1\nNeeded: %2\nDiff: %3\nSuccess: %4"</span><span class="pun">,</span><span class="pln">_empty</span><span class="pun">,</span><span class="pln">_needed</span><span class="pun">,</span><span class="pln">_diff</span><span class="pun">,</span><span class="pln">_success</span><span class="pun">,</span><span class="pln">_config</span><span class="pun">];</span><span class="pln">
		_success
	</span><span class="pun">};</span><span class="pln">

	vehicle_gear_count </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_counter"</span><span class="pun">];</span><span class="pln">
		_counter </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			_counter </span><span class="pun">=</span><span class="pln"> _counter </span><span class="pun">+</span><span class="pln"> _x</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _this</span><span class="pun">;</span><span class="pln">
		_counter
	</span><span class="pun">};</span><span class="pln">

	player_tagFriendlyMsg </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">player </span><span class="pun">==</span><span class="pln"> _this</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln"> 
			cutText</span><span class="pun">[(</span><span class="pln">localize </span><span class="str">"str_epoch_player_2"</span><span class="pun">),</span><span class="str">"PLAIN DOWN"</span><span class="pun">];</span><span class="pln">
		</span><span class="pun">};</span><span class="pln"> 
	</span><span class="pun">};</span><span class="pln">

	player_serverModelChange </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_object"</span><span class="pun">,</span><span class="str">"_model"</span><span class="pun">];</span><span class="pln">
		_object </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_model </span><span class="pun">=</span><span class="pln"> _this select </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_object </span><span class="pun">==</span><span class="pln"> player</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_model call player_switchModel</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	player_guiControlFlash </span><span class="pun">=</span><span class="pln"> 	</span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">];</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ctrlShown _control</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_control ctrlShow </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	gear_ui_offMenu </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_parent"</span><span class="pun">,</span><span class="str">"_menu"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_this select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		_parent </span><span class="pun">=</span><span class="pln"> 	findDisplay </span><span class="lit">106</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!(</span><span class="pln">_this select </span><span class="lit">3</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_i"</span><span class="pln"> from </span><span class="lit">0</span><span class="pln"> to </span><span class="lit">9</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
				_menu </span><span class="pun">=</span><span class="pln"> _parent displayCtrl </span><span class="pun">(</span><span class="lit">1600</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _i</span><span class="pun">);</span><span class="pln">
				_menu ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
			_grpPos </span><span class="pun">=</span><span class="pln"> ctrlPosition _control</span><span class="pun">;</span><span class="pln">
			_grpPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
			_control ctrlSetPosition _grpPos</span><span class="pun">;</span><span class="pln">
			_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			_control ctrlCommit </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dze_surrender_off </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		player setVariable </span><span class="pun">[</span><span class="str">"DZE_Surrendered"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">];</span><span class="pln">
		DZE_Surrender </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">	
	</span><span class="pun">};</span><span class="pln">

	gear_ui_init </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_control"</span><span class="pun">,</span><span class="str">"_parent"</span><span class="pun">,</span><span class="str">"_menu"</span><span class="pun">,</span><span class="str">"_dspl"</span><span class="pun">,</span><span class="str">"_grpPos"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_parent </span><span class="pun">=</span><span class="pln"> findDisplay </span><span class="lit">106</span><span class="pun">;</span><span class="pln">
		_control </span><span class="pun">=</span><span class="pln"> 	_parent displayCtrl </span><span class="lit">6902</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_i"</span><span class="pln"> from </span><span class="lit">0</span><span class="pln"> to </span><span class="lit">9</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_menu </span><span class="pun">=</span><span class="pln"> _parent displayCtrl </span><span class="pun">(</span><span class="lit">1600</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _i</span><span class="pun">);</span><span class="pln">
			_menu ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_grpPos </span><span class="pun">=</span><span class="pln"> ctrlPosition _control</span><span class="pun">;</span><span class="pln">
		_grpPos </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_control ctrlSetPosition _grpPos</span><span class="pun">;</span><span class="pln">
		_control ctrlShow </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		_control ctrlCommit </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	dayz_eyeDir </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_vval"</span><span class="pun">,</span><span class="str">"_vdir"</span><span class="pun">];</span><span class="pln">
		_vval </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eyeDirection _this</span><span class="pun">);</span><span class="pln">
		_vdir </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vval select </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> atan2 </span><span class="pun">(</span><span class="pln">_vval select </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vdir </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">_vdir </span><span class="pun">=</span><span class="pln"> </span><span class="lit">360</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> _vdir</span><span class="pun">};</span><span class="pln">
		_vdir
	</span><span class="pun">};</span><span class="pln">

	DZE_getModelName </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		_objInfo </span><span class="pun">=</span><span class="pln"> toArray</span><span class="pun">(</span><span class="pln">str</span><span class="pun">(</span><span class="pln">_this</span><span class="pun">));</span><span class="pln">
		_lenInfo </span><span class="pun">=</span><span class="pln"> count _objInfo </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		_objName </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
		_i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// determine where the object name starts</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="lit">58</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> _objInfo select _i</span><span class="pun">)</span><span class="pln"> exitWith </span><span class="pun">{};</span><span class="pln">
			_i </span><span class="pun">=</span><span class="pln"> _i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> forEach _objInfo</span><span class="pun">;</span><span class="pln">
		_i </span><span class="pun">=</span><span class="pln"> _i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> </span><span class="com">// skip the ": " part</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="str">"_k"</span><span class="pln"> from _i to _lenInfo </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_objName </span><span class="pun">=</span><span class="pln"> _objName </span><span class="pun">+</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_objInfo select _k</span><span class="pun">];</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_objName </span><span class="pun">=</span><span class="pln"> toLower</span><span class="pun">(</span><span class="pln">toString</span><span class="pun">(</span><span class="pln">_objName</span><span class="pun">));</span><span class="pln">
		_objName
	</span><span class="pun">};</span><span class="pln">

	dze_isnearest_player </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_notClosest"</span><span class="pun">,</span><span class="str">"_playerDistance"</span><span class="pun">,</span><span class="str">"_nearPlayers"</span><span class="pun">,</span><span class="str">"_obj"</span><span class="pun">,</span><span class="str">"_playerNear"</span><span class="pun">];</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">isNull _this</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_nearPlayers </span><span class="pun">=</span><span class="pln"> _this nearEntities </span><span class="pun">[</span><span class="str">"CAManBase"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">];</span><span class="pln">
			_playerNear </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">isPlayer _x</span><span class="pun">}</span><span class="pln"> count _nearPlayers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
			_notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_playerNear</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				</span><span class="com">// check if another player is closer</span><span class="pln">
				_playerDistance </span><span class="pun">=</span><span class="pln"> player distance _this</span><span class="pun">;</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">
					</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_playerDistance </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_x distance _this</span><span class="pun">))</span><span class="pln"> exitWith </span><span class="pun">{</span><span class="pln"> _notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
				</span><span class="pun">}</span><span class="pln"> forEach _nearPlayers</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			_notClosest </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_notClosest
	</span><span class="pun">};</span><span class="pln">
		
	</span><span class="com">// trader menu code</span><span class="pln">
	call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_traderMenu.sqf"</span><span class="pun">;</span><span class="pln">
	
	</span><span class="com">// recent murders menu code</span><span class="pln">
	call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_murderMenu.sqf"</span><span class="pun">;</span><span class="pln">

	</span><span class="com">//This is still needed but the fsm should terminate if any errors pop up.</span><span class="pln">
	</span><span class="pun">[]</span><span class="pln"> spawn </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_timeOut"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_control1"</span><span class="pun">,</span><span class="str">"_control2"</span><span class="pun">];</span><span class="pln">
        disableSerialization</span><span class="pun">;</span><span class="pln">
        _timeOut </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
        diag_log </span><span class="str">"DEBUG: loadscreen guard started."</span><span class="pun">;</span><span class="pln">
        _display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNil </span><span class="str">"_display"</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                _control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
                _control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
                
        waitUntil </span><span class="pun">{!</span><span class="pln">dayz_DisplayGenderSelect</span><span class="pun">};</span><span class="pln">
                
        </span><span class="com">// 240 sec timeout (12000 * 0.01)</span><span class="pln">
        </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> _timeOut </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">24000</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dayz_clientPreload </span><span class="pun">&amp;&amp;</span><span class="pln"> dayz_authed</span><span class="pun">)</span><span class="pln"> exitWith </span><span class="pun">{</span><span class="pln"> diag_log </span><span class="str">"PLOGIN: Login loop completed!"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isNil </span><span class="str">"_display"</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> isNull _display </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">                        
                        waitUntil </span><span class="pun">{</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dialog</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">                                
                        startLoadingScreen </span><span class="pun">[</span><span class="str">""</span><span class="pun">,</span><span class="str">"RscDisplayLoadCustom"</span><span class="pun">];</span><span class="pln">
                        _display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
                        _control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
                        _control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">

                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> dayz_loadScreenMsg </span><span class="pun">!=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                        _control1 ctrlSetText dayz_loadScreenMsg</span><span class="pun">;</span><span class="pln">
                        dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">

                _control2 ctrlSetText format</span><span class="pun">[</span><span class="str">"%1"</span><span class="pun">,</span><span class="pln">round</span><span class="pun">(</span><span class="pln">_timeOut</span><span class="pun">*</span><span class="lit">0.01</span><span class="pun">)];</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">

            _timeOut </span><span class="pun">=</span><span class="pln"> _timeOut </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_timeOut </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">24000</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                </span><span class="lit">1</span><span class="pln"> cutText </span><span class="pun">[</span><span class="pln">localize </span><span class="str">"str_player_login_timeout"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"PLAIN DOWN"</span><span class="pun">];</span><span class="pln">
                sleep </span><span class="lit">10</span><span class="pun">;</span><span class="pln">
                endLoadingScreen</span><span class="pun">;</span><span class="pln">
                endMission </span><span class="str">"END1"</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">

            sleep </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	</span><span class="com">// TODO: need move it in player_monitor.fsm</span><span class="pln">
	</span><span class="com">// allow player disconnect from server, if loading hang, kicked by BE etc.</span><span class="pln">
	</span><span class="pun">[]</span><span class="pln"> spawn </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_timeOut"</span><span class="pun">,</span><span class="str">"_display"</span><span class="pun">,</span><span class="str">"_control1"</span><span class="pun">,</span><span class="str">"_control2"</span><span class="pun">];</span><span class="pln">
		disableSerialization</span><span class="pun">;</span><span class="pln">
		_timeOut </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
		diag_log </span><span class="str">"DEBUG: loadscreen guard started."</span><span class="pun">;</span><span class="pln">
		_display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
		_control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
		_control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// 120 sec timeout</span><span class="pln">
		</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> _timeOut </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">3000</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dayz_clientPreload </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dayz_authed </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">do</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> isNull _display </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				waitUntil </span><span class="pun">{</span><span class="pln"> </span><span class="pun">!</span><span class="pln">dialog</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
				startLoadingScreen </span><span class="pun">[</span><span class="str">""</span><span class="pun">,</span><span class="str">"RscDisplayLoadCustom"</span><span class="pun">];</span><span class="pln">
				_display </span><span class="pun">=</span><span class="pln"> uiNameSpace getVariable </span><span class="str">"BIS_loadingScreen"</span><span class="pun">;</span><span class="pln">
				_control1 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">8400</span><span class="pun">;</span><span class="pln">
				_control2 </span><span class="pun">=</span><span class="pln"> _display displayctrl </span><span class="lit">102</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">

			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> dayz_loadScreenMsg </span><span class="pun">!=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				_control1 ctrlSetText dayz_loadScreenMsg</span><span class="pun">;</span><span class="pln">
				dayz_loadScreenMsg </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
			_control2 ctrlSetText format</span><span class="pun">[</span><span class="str">"%1"</span><span class="pun">,</span><span class="pln">round</span><span class="pun">(</span><span class="pln">_timeOut</span><span class="pun">*</span><span class="lit">0.01</span><span class="pun">)];</span><span class="pln">
			_timeOut </span><span class="pun">=</span><span class="pln"> _timeOut </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
			sleep </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		endLoadingScreen</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	dayz_meleeMagazineCheck </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_meleeNum"</span><span class="pun">,</span><span class="str">"_magType"</span><span class="pun">];</span><span class="pln">
                _magType </span><span class="pun">=</span><span class="pln">         </span><span class="pun">([]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> getArray </span><span class="pun">(</span><span class="pln">configFile </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">"CfgWeapons"</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> _wpnType </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">"magazines"</span><span class="pun">))</span><span class="pln"> select </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                _meleeNum </span><span class="pun">=</span><span class="pln"> </span><span class="pun">({</span><span class="pln">_x </span><span class="pun">==</span><span class="pln"> _magType</span><span class="pun">}</span><span class="pln"> count magazines player</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_meleeNum </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
                        player addMagazine _magType</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">};</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">

	dayz_originalPlayer </span><span class="pun">=</span><span class="pln"> player</span><span class="pun">;</span><span class="pln">
	
	progressLoadingScreen </span><span class="lit">0.8</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

	</span><span class="com">//Both</span><span class="pln">
	BIS_fnc_selectRandom </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_selectRandom.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_vectorAdd </span><span class="pun">=</span><span class="pln">         compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_vectorAdd.sqf"</span><span class="pun">;</span><span class="pln">	
	BIS_fnc_halo </span><span class="pun">=</span><span class="pln">              compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_halo.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_findNestedElement </span><span class="pun">=</span><span class="pln">	compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_findNestedElement.sqf"</span><span class="pun">;</span><span class="pln">
	BIS_fnc_param </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\BIS_fnc\fn_param.sqf"</span><span class="pun">;</span><span class="pln">

	fnc_buildWeightedArray </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_buildWeightedArray.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Checks which actions for nearby casualty</span><span class="pln">
	fnc_usec_damageVehicle </span><span class="pun">=</span><span class="pln">		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageHandlerVehicle.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Event handler run on damage</span><span class="pln">
	zombie_initialize </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\zombie_init.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// object_vehicleKilled =		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\object_vehicleKilled.sqf";		//Event handler run on damage</span><span class="pln">
	object_setHitServer </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setHitServer.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_setFixServer </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setFixServer.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_getHit </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_getHit.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//gets the hit value for a HitPoint (i.e. HitLegs) against the selection (i.e. "legs"), returns the value</span><span class="pln">
	object_setHit </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_setHit.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//process the hit as a NORMAL damage (useful for persistent vehicles)</span><span class="pln">
	object_processHit </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_processHit.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//process the hit in the REVO damage system (records and sets hit)</span><span class="pln">
	object_delLocal </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_delLocal.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// object_cargoCheck =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\object_cargoCheck.sqf";		//Run by the player or server to monitor changes in cargo contents</span><span class="pln">
	</span><span class="com">//fnc_usec_damageHandler =		compile preprocessFileLineNumbers "dayz_code\compile\fn_damageHandler.sqf";		//Event handler run on damage</span><span class="pln">
	fnc_veh_ResetEH </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\veh_ResetEH.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Initialize vehicle</span><span class="pln">
	</span><span class="com">// Vehicle damage fix</span><span class="pln">
	vehicle_handleDamage    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleDamage.sqf"</span><span class="pun">;</span><span class="pln">
	vehicle_handleKilled    </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_handleKilled.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">//fnc_vehicleEventHandler = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\init\vehicle_init.sqf";			//Initialize vehicle</span><span class="pln">
	fnc_inString </span><span class="pun">=</span><span class="pln"> 				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_inString.sqf"</span><span class="pun">;</span><span class="pln">	
	fnc_isInsideBuilding </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	fnc_isInsideBuilding2 </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding2.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	fnc_isInsideBuilding3 </span><span class="pun">=</span><span class="pln"> 		compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_isInsideBuilding3.sqf"</span><span class="pun">;</span><span class="pln">	</span><span class="com">//_isInside = [_unit,_building] call fnc_isInsideBuilding;</span><span class="pln">
	dayz_zombieSpeak </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\object_speak.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Used to generate random speech for a unit</span><span class="pln">
	vehicle_getHitpoints </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\vehicle_getHitpoints.sqf"</span><span class="pun">;</span><span class="pln">
	local_gutObject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_gutObject.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated on the server (or local to unit) when gutting an object</span><span class="pln">
	local_lockUnlock </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_lockUnlock.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//When vehicle is local to unit perform locking vehicle</span><span class="pln">
	local_gutObjectZ </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_gutObjectZ.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated on the server (or local to unit) when gutting an object</span><span class="pln">
	local_zombieDamage </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_damageHandlerZ.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated by the client who created a zombie to track damage</span><span class="pln">
	local_setFuel </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_setFuel.sqf"</span><span class="pun">;</span><span class="pln">			</span><span class="com">//Generated when someone refuels a vehicle</span><span class="pln">
	local_eventKill </span><span class="pun">=</span><span class="pln"> 			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\local_eventKill.sqf"</span><span class="pun">;</span><span class="pln">		</span><span class="com">//Generated when something is killed</span><span class="pln">
	</span><span class="com">//player_weaponCheck =			compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_weaponCheck.sqf";	//Run by the player or server to monitor whether they have picked up a new weapon</span><span class="pln">
	curTimeStr </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\fn_curTimeStr.sqf"</span><span class="pun">;</span><span class="pln">
	player_medBandage </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medBandaged.sqf"</span><span class="pun">;</span><span class="pln">
	player_medInject </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medInject.sqf"</span><span class="pun">;</span><span class="pln">
	player_medEpi </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medEpi.sqf"</span><span class="pun">;</span><span class="pln">
	player_medTransfuse </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medTransfuse.sqf"</span><span class="pun">;</span><span class="pln">
	player_medMorphine </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medMorphine.sqf"</span><span class="pun">;</span><span class="pln">
	player_breaklegs </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medBreakLegs.sqf"</span><span class="pun">;</span><span class="pln">
	player_medPainkiller </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\publicEH\medPainkiller.sqf"</span><span class="pun">;</span><span class="pln">
	world_isDay </span><span class="pun">=</span><span class="pln"> 				</span><span class="pun">{</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">daytime </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="lit">24</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> dayz_sunRise</span><span class="pun">))</span><span class="pln"> and </span><span class="pun">(</span><span class="pln">daytime </span><span class="pun">&gt;</span><span class="pln"> dayz_sunRise</span><span class="pun">))</span><span class="pln"> then </span><span class="pun">{</span><span class="kwd">true</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">false</span><span class="pun">}};</span><span class="pln">
	player_humanityChange </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\player_humanityChange.sqf"</span><span class="pun">;</span><span class="pln">
	spawn_loot </span><span class="pun">=</span><span class="pln">				compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\spawn_loot.sqf"</span><span class="pun">;</span><span class="pln">
	spawn_loot_small </span><span class="pun">=</span><span class="pln">			compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\compile\spawn_loot_small.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="com">// player_projectileNear = 		compile preprocessFileLineNumbers "\z\addons\dayz_code\compile\player_projectileNear.sqf";</span><span class="pln">
	
	dayz_HungerThirst </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		dayz_hunger </span><span class="pun">=</span><span class="pln"> dayz_hunger </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_this select </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
		dayz_thirst </span><span class="pun">=</span><span class="pln"> dayz_thirst </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_this select </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	dayz_EjectPlayer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="com">// check if player in vehicle</span><span class="pln">
        </span><span class="kwd">private</span><span class="pln"> </span><span class="pun">[</span><span class="str">"_noDriver"</span><span class="pun">,</span><span class="str">"_vehicle"</span><span class="pun">,</span><span class="str">"_inVehicle"</span><span class="pun">];</span><span class="pln">
        _vehicle </span><span class="pun">=</span><span class="pln"> vehicle player</span><span class="pun">;</span><span class="pln">
		_inVehicle </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_vehicle </span><span class="pun">!=</span><span class="pln"> player</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">_inVehicle</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			_noDriver </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="pln">_vehicle emptyPositions </span><span class="str">"driver"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_noDriver and </span><span class="pun">(</span><span class="pln">speed _vehicle</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
				player action </span><span class="pun">[</span><span class="pln"> </span><span class="str">"eject"</span><span class="pun">,</span><span class="pln"> _vehicle</span><span class="pun">];</span><span class="pln">
			</span><span class="pun">};</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">

	player_sumMedical </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">private</span><span class="pun">[</span><span class="str">"_character"</span><span class="pun">,</span><span class="str">"_wounds"</span><span class="pun">,</span><span class="str">"_legs"</span><span class="pun">,</span><span class="str">"_arms"</span><span class="pun">,</span><span class="str">"_medical"</span><span class="pun">];</span><span class="pln">
		_character </span><span class="pun">=</span><span class="pln"> 	_this</span><span class="pun">;</span><span class="pln">
		_wounds </span><span class="pun">=</span><span class="pln">		</span><span class="pun">[];</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_character getVariable</span><span class="pun">[</span><span class="str">"USEC_injured"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">])</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_character getVariable</span><span class="pun">[</span><span class="pln">_x</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">])</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
					_wounds </span><span>set</span><span class="pln"> </span><span class="pun">[</span><span class="pln">count _wounds</span><span class="pun">,</span><span class="pln">_x</span><span class="pun">];</span><span class="pln">
				</span><span class="pun">};</span><span class="pln">
			</span><span class="pun">}</span><span class="pln"> forEach USEC_typeOfWounds</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">
		_legs </span><span class="pun">=</span><span class="pln"> _character getVariable </span><span class="pun">[</span><span class="str">"hit_legs"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_arms </span><span class="pun">=</span><span class="pln"> _character getVariable </span><span class="pun">[</span><span class="str">"hit_arms"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
		_medical </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_isDead"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"NORRN_unconscious"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_infected"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_injured"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_inPain"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_isCardiac"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_lowBlood"</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"USEC_BloodQty"</span><span class="pun">,</span><span class="lit">12000</span><span class="pun">],</span><span class="pln">
			_wounds</span><span class="pun">,</span><span class="pln">
			</span><span class="pun">[</span><span class="pln">_legs</span><span class="pun">,</span><span class="pln">_arms</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"unconsciousTime"</span><span class="pun">,</span><span class="lit">0</span><span class="pun">],</span><span class="pln">
			_character getVariable</span><span class="pun">[</span><span class="str">"messing"</span><span class="pun">,[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">]]</span><span class="pln">
		</span><span class="pun">];</span><span class="pln">
		_medical
	</span><span class="pun">};</span><span class="pln">
	
	</span><span class="com">//Server Only</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isServer</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
		call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_server\init\server_functions.sqf"</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		eh_localCleanup </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
	</span><span class="pun">};</span><span class="pln">
	
	</span><span class="com">//Start Dynamic Weather</span><span class="pln">
	execVM </span><span class="str">"DynamicWeatherEffects.sqf"</span><span class="pun">;</span><span class="pln">
	initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></pre>
<p>
					Â 
				</p>
</div>
</div>
<p>
			(a lot is commented there, it came like that)
		</p>
<p>
<strong><span style="color:#000000;">and the other is inÂ dayz_code\compile\compiles.sqf</span></strong>
</p>
<div class="ipsSpoiler" data-ipsspoiler="">
<div class="ipsSpoiler_header">
<a href="#" rel="">Â </a> <span>Reveal hidden contents</span>
</div>
<div class="ipsSpoiler_contents">
<pre class="ipsCode prettyprint lang-c prettyprinted">


<span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isServer</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
	diag_log </span><span class="str">"Loading custom server compiles"</span><span class="pun">;</span><span class="pln">	
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isDedicated</span><span class="pun">)</span><span class="pln"> then </span><span class="pun">{</span><span class="pln">
	diag_log </span><span class="str">"Loading custom client compiles"</span><span class="pun">;</span><span class="pln">
	
	fnc_usec_selfactions </span><span class="pun">=</span><span class="pln"> compile preprocessFileLineNumbers </span><span class="str">"dayz_code\compile\fn_selfActions.sqf"</span><span class="pun">;</span><span class="pln">
		
	</span><span class="com">//Start Dynamic Weather</span><span class="pln">
	execVM </span><span class="str">"custom\DynamicWeatherEffects.sqf"</span><span class="pun">;</span><span class="pln">
	initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">	
	</span><span class="com">//Event handler run on damage</span><span class="pln">
	fnc_usec_damageHandler </span><span class="pun">=</span><span class="pln"> compile preprocessFileLineNumbers </span><span class="str">"dayz_code\compile\fn_damageHandler.sqf"</span><span class="pun">;</span><span class="pln">		
</span><span class="pun">};</span></pre>
<p>
					Â 
				</p>
</div>
</div>
<p>
<span style="color:#000000;">None of them worked, when one of the guys shoot at me, I got hurt.</span>
</p>
<p>
<span style="color:#000000;">Any idea what I am doing wrong? Â (btw, no error message at all)</span>
</p>
<p>
<span style="color:#000000;">Thanks again for all the help.</span>
</p>
</div>
</blockquote>
<p>
	You should not copy the original epoch compiles.sqf, variables.sqf to your mission, THIS WILL BREAK THINGS. Only do so if you are super experienced.
</p>
<p>
	Please revert to how I do it in ZSC, calling it like this:Â <a href="https://github.com/oiad/ZSC/blob/master/init.sqf#L100-L101" rel="external nofollow">https://github.com/oiad/ZSC/blob/master/init.sqf#L100-L101</a>
</p>
<p>
	Your custom compiles.sqf should look like this:
</p>
<pre class="ipsCode prettyprint lang-html prettyprinted">
<span class="pln">if (isServer) then {
	diag_log "Loading custom server compiles";	
};

if (!isDedicated) then {
	diag_log "Loading custom client compiles";
	
	fnc_usec_selfactions = compile preprocessFileLineNumbers "dayz_code\compile\fn_selfActions.sqf";
		
	//Start Dynamic Weather
	execVM "custom\DynamicWeatherEffects.sqf";
	initialized = true;	
};

//Event handler run on damage
fnc_usec_damageHandler = compile preprocessFileLineNumbers "dayz_code\compile\fn_damageHandler.sqf";		</span></pre>
<p>
	This means it runs on both the client and the server.
</p>
<p>
	I would recommend you join our discord, it's really good for trouble shooting with lots of other active admins:Â <a href="https://discord.gg/SjKEfw6" rel="external nofollow">https://discord.gg/SjKEfw6</a>
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_302987_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302987"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302987" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302987" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302987&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=302987&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="You should not copy the original epoch compiles.sqf, variables.sqf to your mission, THIS WILL BREAK THINGS. Only do so if you are super experienced.
 


	Please revert to how I do it in ZSC, calling it like this:Â https://github.com/oiad/ZSC/blob/master/init.sqf#L100-L101
 


	Your custom compiles.sqf should look like this:
 


if (isServer) then {
	diag_log &quot;Loading custom server compiles&quot;;	
};

if (!isDedicated) then {
	diag_log &quot;Loading custom client compiles&quot;;
	
	fnc_usec_selfactions = compile preprocessFileLineNumbers &quot;dayz_code\compile\fn_selfActions.sqf&quot;;
		
	//Start Dynamic Weather
	execVM &quot;custom\DynamicWeatherEffects.sqf&quot;;
	initialized = true;	
};

//Event handler run on damage
fnc_usec_damageHandler = compile preprocessFileLineNumbers &quot;dayz_code\compile\fn_damageHandler.sqf&quot;;		


	This means it runs on both the client and the server.
 


	I would recommend you join our discord, it's really good for trouble shooting with lots of other active admins:Â https://discord.gg/SjKEfw6
 
" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302987">More sharing options...</button>
</div>
</div>
</div>
</article>
<a id="comment-302991"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_302991">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<a href="../../../../profile/39155-ladyval/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile"><span style="color:#">LadyVal</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302991" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T14:32:43Z" title="04/13/18 02:32  PM">April 13, 2018</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">LadyVal</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/39155-ladyval/content/index.html" rel="nofollow" title="44 posts">
<i class="fa fa-comment"></i> 44
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">Argentina</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="302991" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":39155,"username":"LadyVal","timestamp":1523629963,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":302991}' id="comment-302991_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-302991_wrap" href="#elControls_302991_menu" id="elControls_302991" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_302991_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=302991" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_302991_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302991" id="elSharePost_302991" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302991" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T14:32:43Z" title="04/13/18 02:32  PM">April 13, 2018</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	I will join the discord.
</p>
<p>
	Obviously I am not "close" to the scripting, even less experienced.
</p>
<p>
	Why that compile file is there, no idea.Â  It was like that in the server.
</p>
<p>
	But this is how my init looks like in mpmissions:
</p>
<pre class="ipsCode prettyprint lang-c prettyprinted">
<span class="pln">
initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\variables.sqf"</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"dayz_code\init\variables.sqf"</span><span class="pun">;</span><span class="pln">
progressLoadingScreen </span><span class="lit">0.05</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\publicEH.sqf"</span><span class="pun">;</span><span class="pln">
progressLoadingScreen </span><span class="lit">0.1</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\medical\setup_functions_med.sqf"</span><span class="pun">;</span><span class="pln">
progressLoadingScreen </span><span class="lit">0.15</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\init\compiles.sqf"</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"dayz_code\init\compiles.sqf"</span><span class="pun">;</span><span class="pln">
progressLoadingScreen </span><span class="lit">0.25</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"scripts\traders\server_traders.sqf"</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"logistic\init.sqf"</span><span class="pun">;</span><span class="pln">
call compile preprocessFileLineNumbers </span><span class="str">"\z\addons\dayz_code\system\mission\chernarus11.sqf"</span><span class="pun">;</span><span class="pln"> </span><span class="com">//Add trader city objects locally on every machine early</span><span class="pln">
initialized </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">

setTerrainGrid </span><span class="lit">25</span><span class="pun">;</span></pre>
<p>
	I will try the solution you gave me...
</p>
<p>
	Thank you too, Tanita
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_302991_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302991"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302991" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302991" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302991&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=302991&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext='I will join the discord.
 


	Obviously I am not "close" to the scripting, even less experienced.
 


	Why that compile file is there, no idea.Â  It was like that in the server.
 


	But this is how my init looks like in mpmissions:
 



initialized = false;
call compile preprocessFileLineNumbers "\z\addons\dayz_code\init\variables.sqf";
call compile preprocessFileLineNumbers "dayz_code\init\variables.sqf";
progressLoadingScreen 0.05;
call compile preprocessFileLineNumbers "\z\addons\dayz_code\init\publicEH.sqf";
progressLoadingScreen 0.1;
call compile preprocessFileLineNumbers "\z\addons\dayz_code\medical\setup_functions_med.sqf";
progressLoadingScreen 0.15;
call compile preprocessFileLineNumbers "\z\addons\dayz_code\init\compiles.sqf";
call compile preprocessFileLineNumbers "dayz_code\init\compiles.sqf";
progressLoadingScreen 0.25;
call compile preprocessFileLineNumbers "scripts\traders\server_traders.sqf";
call compile preprocessFileLineNumbers "logistic\init.sqf";
call compile preprocessFileLineNumbers "\z\addons\dayz_code\system\mission\chernarus11.sqf"; //Add trader city objects locally on every machine early
initialized = true;

setTerrainGrid 25;


	I will try the solution you gave me...
 


	Thank you too, Tanita
 
' data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302991">More sharing options...</button>
</div>
</div>
</div>
</article>
<a id="comment-302992"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_302992">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<a href="../../../../profile/39155-ladyval/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile"><span style="color:#">LadyVal</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302992" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T16:39:11Z" title="04/13/18 04:39  PM">April 13, 2018</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">LadyVal</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/39155-ladyval/content/index.html" rel="nofollow" title="44 posts">
<i class="fa fa-comment"></i> 44
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">Argentina</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="302992" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":39155,"username":"LadyVal","timestamp":1523637551,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":302992}' id="comment-302992_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-302992_wrap" href="#elControls_302992_menu" id="elControls_302992" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_302992_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=302992" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_302992_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302992" id="elSharePost_302992" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302992" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-13T16:39:11Z" title="04/13/18 04:39  PM">April 13, 2018</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	I cant go right now to discord (my kid's birthday) but I did it all exactly like that but... one of my guys killed the other.Â 
</p>
<p>
	I think it is not working here
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_302992_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302992"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302992" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302992" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D302992&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=302992&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="I cant go right now to discord (my kid's birthday) but I did it all exactly like that but... one of my guys killed the other.Â 
 


	I think it is not working here
 
" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=302992">More sharing options...</button>
</div>
</div>
</div>
</article>
<a id="comment-303142"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_303142">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<a href="../../../../profile/39155-ladyval/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile"><span style="color:#">LadyVal</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=303142" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-27T01:25:23Z" title="04/27/18 01:25  AM">April 27, 2018</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">LadyVal</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/39155-ladyval/?do=hovercard" data-ipshover-width="370" href="../../../../profile/39155-ladyval/index.html" rel="nofollow" title="Go to LadyVal's profile">
<img alt="LadyVal" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/39155-ladyval/content/index.html" rel="nofollow" title="44 posts">
<i class="fa fa-comment"></i> 44
							
								</a>
</li>
</ul>
</li>
<li class="ipsResponsive_hidePhone ipsType_break" data-role="custom-field">
<span class="ft">Location</span><span class="fc">Argentina</span>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="303142" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":39155,"username":"LadyVal","timestamp":1524792323,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":303142}' id="comment-303142_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-303142_wrap" href="#elControls_303142_menu" id="elControls_303142" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_303142_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=303142" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_303142_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=303142" id="elSharePost_303142" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=303142" rel="nofollow">Posted <time data-short="7 yr" datetime="2018-04-27T01:25:23Z" title="04/27/18 01:25  AM">April 27, 2018</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	Thanks a lot, Salival... the PvE works great and nobody is being killed by other player.
</p>
<p>
	Now another question... how to create a pvp zone in a pve server.Â  Â That scrip cancell all theÂ  pvp so, once I have the area marked in the map (for ex. Cherno) and I have the message "you are entering in a pvp area"... how can I do to make that area a pvp zone without removing the pve in the rest of chernarus map?
</p>
<p>
	Thanks
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_303142_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=303142"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D303142" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D303142" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D303142&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=303142&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext='Thanks a lot, Salival... the PvE works great and nobody is being killed by other player.
 


	Now another question... how to create a pvp zone in a pve server.Â  Â That scrip cancell all theÂ  pvp so, once I have the area marked in the map (for ex. Cherno) and I have the message "you are entering in a pvp area"... how can I do to make that area a pvp zone without removing the pve in the rest of chernarus map?
 


	Thanks
 
' data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=303142">More sharing options...</button>
</div>
</div>
</div>
</article>
<a id="comment-308761"></a>
<article class="cPost ipsBox ipsResponsive_pull cPostQuestion ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_308761">
<div class="cRatingColumn ipsClearfix ipsAreaBackground_light ipsColumn ipsColumn_narrow ipsType_center" data-controller="forums.front.topic.answers">
<ul class="ipsList_reset cPostRating_controls">
<li class="cPostRating_up">
<span class="cAnswerRate cAnswerRate_up cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-up"></i></span>
</li>
<li class="cPostRating_count">
<span class="cAnswerRating" data-role="voteCount" data-votecount="0" title=" votes">0</span>
</li>
<li class="cPostRating_down">
<span class="cAnswerRate cAnswerRate_down cAnswerRate_noPermission" data-ipstooltip="" title="Sign in to rate this answer"><i class="fa fa-angle-down"></i></span>
</li>
</ul>
</div>
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/15494-thac0_gewch/?do=hovercard" data-ipshover-width="370" href="../../../../profile/15494-thac0_gewch/index.html" rel="nofollow" title="Go to THAC0_Gewch's profile">
<img alt="THAC0_Gewch" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2020_04/_780207187_4017885s460u266b0d25780ff84df6f8c236833a94e5d493db51v4.thumb_f38e756e0c7773cc45729789c08be329.00cb620013a1690d57a583873d429fb0"/>
</a>
<a href="../../../../profile/15494-thac0_gewch/badges/index.html" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/15494-thac0_gewch/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/15494-thac0_gewch/index.html" rel="nofollow" title="Go to THAC0_Gewch's profile"><span style="color:#">THAC0_Gewch</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=308761" rel="nofollow">Posted <time data-short="5 yr" datetime="2020-04-28T20:16:51Z" title="04/28/20 08:16  PM">April 28, 2020</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/15494-thac0_gewch/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%252Fpage%252F2%252F" data-ipshover-width="370" href="../../../../profile/15494-thac0_gewch/index.html" rel="nofollow" title="Go to THAC0_Gewch's profile">THAC0_Gewch</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/15494-thac0_gewch/?do=hovercard" data-ipshover-width="370" href="../../../../profile/15494-thac0_gewch/index.html" rel="nofollow" title="Go to THAC0_Gewch's profile">
<img alt="THAC0_Gewch" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2020_04/_780207187_4017885s460u266b0d25780ff84df6f8c236833a94e5d493db51v4.thumb_f38e756e0c7773cc45729789c08be329.00cb620013a1690d57a583873d429fb0"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="../../../../profile/15494-thac0_gewch/content/index.html" rel="nofollow" title="44 posts">
<i class="fa fa-comment"></i> 44
							
								</a>
</li>
</ul>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="308761" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":15494,"username":"THAC0_Gewch","timestamp":1588105011,"contentapp":"forums","contenttype":"forums","contentid":44447,"contentclass":"forums_Topic","contentcommentid":308761}' id="comment-308761_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-308761_wrap" href="#elControls_308761_menu" id="elControls_308761" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_308761_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=reportComment&amp;comment=308761" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_308761_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=308761" id="elSharePost_308761" rel="nofollow" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=308761" rel="nofollow">Posted <time data-short="5 yr" datetime="2020-04-28T20:16:51Z" title="04/28/20 08:16  PM">April 28, 2020</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	I'm finding that players can still destroy other player vehicles when they have players inside of them. Would the devs consider adjusting the line added in the damage handler to something like:<br><br>
	Â 
</br></br></p>
<pre class="ipsCode prettyprint lang-c prettyprinted">
<span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">DZE_PVE_Mode </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(({</span><span class="pln">_isPlayer</span><span class="pun">}</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">{!</span><span class="pln">_falling</span><span class="pun">})</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">({</span><span class="pln">_isPlayer</span><span class="pun">}</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">_inVehicle</span><span class="pun">})))</span><span class="pln"> exitWith </span><span class="pun">{};</span></pre>
<p>
	I haven't tested this yet as I'm at work but can write the change tonight and check on my test server.
</p>
<p>
	Â 
</p>
<p>
	Edit: I just realized this will probably need to be handled in veh_handleDam.sqf.
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_308761_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=308761"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D308761" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D308761" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F%3Fdo%3DfindComment%26comment%3D308761&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment%26comment=308761&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="I'm finding that players can still destroy other player vehicles when they have players inside of them. Would the devs consider adjusting the line added in the damage handler to something like:  
	Â 
 


if (DZE_PVE_Mode &amp;&amp; (({_isPlayer} &amp;&amp; {!_falling}) || ({_isPlayer} &amp;&amp; {_inVehicle}))) exitWith {};


	I haven't tested this yet as I'm at work but can write the change tonight and check on my test server.
 


	Â 
 


	Edit: I just realized this will probably need to be handled in veh_handleDam.sqf.
 
" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/?do=findComment&amp;comment=308761">More sharing options...</button>
</div>
</div>
</div>
</article>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a">
</input></form>
</div>
<div class="ipsBox ipsPadding:half ipsMargin_top ipsClearfix ipsClear">
<ul class="ipsPagination" data-ipspagination="" data-ipspagination-pages="2" data-ipspagination-perpage="25" data-ipspagination-seopagination="true" data-pages="2" id="elPagination_644121f956fe918fdc73714253b25c75_343602143">
<li class="ipsPagination_first"><a data-ipstooltip="" data-page="1" href="../../index.html#comments" rel="first" title="First page"><i class="fa fa-angle-double-left"></i></a></li>
<li class="ipsPagination_prev"><a data-ipstooltip="" data-page="1" href="../../index.html#comments" rel="prev" title="Previous page">Prev</a></li>
<li class="ipsPagination_page"><a data-page="1" href="../../index.html#comments">1</a></li>
<li class="ipsPagination_page ipsPagination_active"><a data-page="2" href="index.html#comments">2</a></li>
<li class="ipsPagination_next ipsPagination_inactive"><a data-ipstooltip="" data-page="2" href="index.html#comments" rel="next" title="Next page">Next</a></li>
<li class="ipsPagination_last ipsPagination_inactive"><a data-ipstooltip="" data-page="2" href="index.html#comments" rel="last" title="Last page"><i class="fa fa-angle-double-right"></i></a></li>
<li class="ipsPagination_pageJump">
<a data-ipsmenu="" data-ipsmenu-appendto="#elPagination_644121f956fe918fdc73714253b25c75_343602143" data-ipsmenu-closeonclick="false" href="#" id="elPagination_644121f956fe918fdc73714253b25c75_343602143_jump">Page 2 of 2 Â <i class="fa fa-caret-down"></i></a>
<div class="ipsMenu ipsMenu_narrow ipsPadding ipsHide" id="elPagination_644121f956fe918fdc73714253b25c75_343602143_jump_menu">
<form accept-charset="utf-8" action="https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/#comments" data-baseurl="#" data-role="pageJump" method="post">
<ul class="ipsForm ipsForm_horizontal">
<li class="ipsFieldRow">
<input class="ipsField_fullWidth" max="2" min="1" name="page" placeholder="Page number" type="number"/>
</li>
<li class="ipsFieldRow ipsFieldRow_fullWidth">
<input class="ipsButton_fullWidth ipsButton ipsButton_verySmall ipsButton_primary" type="submit" value="Go"/>
</li>
</ul>
</form>
</div>
</li>
</ul>
</div>
<a id="replyForm"></a>
<div class="cTopicPostArea ipsBox ipsResponsive_pull ipsPadding cTopicPostArea_noSize ipsSpacer_top" data-role="replyArea">
<div>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<div class="ipsType_center ipsPad">
<h2 class="ipsType_pageTitle">Please sign in to comment</h2>
<p class="ipsType_light ipsType_normal ipsType_reset ipsSpacer_top ipsSpacer_half">You will be able to leave a comment after signing in</p>
<br/>
<br/>
<a class="ipsButton ipsButton_alternate ipsButton_large" data-ipsdialog="" data-ipsdialog-remoteverify="false" data-ipsdialog-size="medium" data-ipsdialog-title="Sign In Now" href="https://epochmod.com/forum/login/?ref=aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy80NDQ0Ny1jb2RlLXRvLWJsb2NrLXBsYXllcnMtb24tcHZlLXNlcnZlcnMtZnJvbS1zaG9vdGluZy1lYWNoLW90aGVyLyNyZXBseUZvcm0=">Sign In Now</a>
</div>
</div>
</div>
<div class="ipsBox ipsPadding ipsResponsive_pull ipsResponsive_showPhone ipsMargin_top">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span> Â Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F44447-code-to-block-players-on-pve-servers-from-shooting-each-other%2F&amp;title=Code+to+block+players+on+PVE+servers+from+shooting+each+other" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Code to block players on PVE servers from shooting each other" data-websharetitle="Code to block players on PVE servers from shooting each other" data-webshareurl="../../index.html">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="44447">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">2</span>
</a>
</div>
</div>
</div>
</div>
<div class="ipsPager ipsSpacer_top">
<div class="ipsPager_prev">
<a href="../../../../forum/35-scripting/index.html" rel="parent" title="Go to Scripting">
<span class="ipsPager_type">Go to question listing</span>
</a>
</div>
</div>
<div class="cWidgetContainer" data-orientation="horizontal" data-role="widgetReceiver" data-widgetarea="footer">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_horizontal ipsBox ipsWidgetHide ipsHide" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_core_relatedContent_sido2emh4" data-blocktitle="Similar Content" data-controller="core.front.widgets.block"></li>
<li class="ipsWidget ipsWidget_horizontal ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Blocks_mtkskjhzs" data-blocktitle="Custom Blocks" data-controller="core.front.widgets.block">
Advertisement


</li>
</ul>
</div>
</div>
<div class="ipsLayout_sidebarright" data-controller="core.front.widgets.sidebar" id="ipsLayout_sidebar">
<div class="cWidgetContainer" data-orientation="vertical" data-role="widgetReceiver" data-widgetarea="sidebar">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_vertical ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Wysiwyg_hbjjvq53w" data-blocktitle="WYSIWYG Editor" data-controller="core.front.widgets.block">
<div class="ipsWidget_inner ipsPad ipsType_richText" data-controller="core.front.core.lightboxedImages">
<p>
<a href="https://discord.gg/0k4ynDDCsnMzkxk7" rel="external nofollow" style="color:inherit;"><img alt="Discord" src="http://i.imgur.com/hFgq3Rt.png" style="width:300px;height:auto;"/></a>
</p>
</div>
</li>
</ul>
</div>
</div>
<nav class="ipsBreadcrumb ipsBreadcrumb_bottom ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../../../forum/96-qa-section/index.html">
<span>Q&amp;A Section <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../../../forum/35-scripting/index.html">
<span>Scripting <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Code to block players on PVE servers from shooting each other
				
			</li>
</ul>
</nav>
</div>
</div>
</main>
<footer class="ipsClearfix" id="ipsLayout_footer">
<div class="ipsLayout_container">
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterSocialLinks">
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_facebook" href="https://facebook.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-facebook"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_twitter" href="https://twitter.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-twitter"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_github" href="https://github.com/EpochModTeam/" rel="noopener noreferrer" target="_blank"><i class="fa fa-github"></i></a>
</li>
</ul>
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterLinks">
<li><a data-ipsdialog="" data-ipsdialog-flashmessage="Thanks, your message has been sent to the administrators." data-ipsdialog-remotesubmit="" data-ipsdialog-title="Contact Us" href="https://epochmod.com/forum/contact/" rel="nofollow">Contact Us</a></li>
</ul>
<p id="elCopyright">
<span id="elCopyright_userLine">Copyright Â© 2019 Epoch Mod Team</span>
<a href="https://www.invisioncommunity.com/" rel="nofollow" title="Invision Community">Powered by Invision Community</a>
</p>
</div>
</footer>
<div class="ipsDrawer ipsHide" id="elMobileDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>Ã</span></a>
<div class="ipsDrawer_content ipsFlex ipsFlex-fd:column">
<div class="ipsPadding ipsBorder_bottom">
<ul class="ipsToolList ipsToolList_vertical">
<li>
<a class="ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth" href="https://epochmod.com/forum/login/" id="elSigninButton_mobile">Existing user? Sign In</a>
</li>
</ul>
</div>
<ul class="ipsDrawer_list ipsFlex-flex:11">
<li><a href="http://epochmod.com/">Home</a></li>
<li><a href="https://epochmod.com/forum/projects/">Downloads</a></li>
<li><a href="../../../../index.html">Forums</a></li>
<li><a href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">Wiki</a></li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Browse</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/staff/">
					Staff
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/online/">
					Online Users
				</a>
</li>
</ul>
</li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Activity</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/discover/">
					All Activity
				</a>
</li>
<li>
<a href="#">
					My Activity Streams
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/unread/">
					Unread Content
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/content-started/">
					Content I Started
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/search/">
					Search
				</a>
</li>
</ul>
</li>
<li><a href="https://epochmod.com/forum/leaderboard/">Leaderboard</a></li>
</ul>
</div>
</div>
</div>
<div class="ipsDrawer ipsHide" id="elMobileCreateMenuDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>Ã</span></a>
<div class="ipsDrawer_content ipsSpacer_bottom ipsPad">
<ul class="ipsDrawer_list">
<li class="ipsDrawer_listTitle ipsType_reset">Create New...</li>
</ul>
</div>
</div>
</div>
<script type="text/javascript">
		var ipsDebug = false;		
	
		var CKEDITOR_BASEPATH = 'http://epochmod.com/forum/applications/core/interface/ckeditor/ckeditor/';
	
		var ipsSettings = {
			
			
			cookie_path: "/forum/",
			
			cookie_prefix: "ips4_",
			
			
			cookie_ssl: true,
			
			upload_imgURL: "",
			message_imgURL: "",
			notification_imgURL: "",
			baseURL: "//epochmod.com/forum/",
			jsURL: "//epochmod.com/forum/applications/core/interface/js/js.php",
			csrfKey: "bbd96aef55be1a90d685e56a4524d73a",
			antiCache: "7f6edac1d51681449780",
			jsAntiCache: "7f6edac1d51727923486",
			disableNotificationSounds: true,
			useCompiledFiles: true,
			links_external: true,
			memberID: 0,
			lazyLoadEnabled: true,
			blankImg: "//epochmod.com/forum/applications/core/interface/js/spacer.png",
			googleAnalyticsEnabled: true,
			matomoEnabled: false,
			viewProfiles: true,
			mapProvider: 'none',
			mapApiKey: '',
			pushPublicKey: "BLY90A45HZZHrwnCKz6BVlOhu0SsCnzllubxC73QTZM5sfEOds9DfPrBRijrqkg_Tm4PSeJkPCuKkWiWNi4sOC4",
			relativeDates: true
		};
		
		
		
		
			ipsSettings['maxImageDimensions'] = {
				width: 1000,
				height: 750
			};
		
		
	</script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_library.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_js_lang_1.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_framework.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/global_global_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_front.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/front_front_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_forums/front_front_topic.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_map.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script type="text/javascript">
		
			ips.setSetting( 'date_format', jQuery.parseJSON('"mm\/dd\/yy"') );
		
			ips.setSetting( 'date_first_day', jQuery.parseJSON('0') );
		
			ips.setSetting( 'ipb_url_filter_option', jQuery.parseJSON('"none"') );
		
			ips.setSetting( 'url_filter_any_action', jQuery.parseJSON('"allow"') );
		
			ips.setSetting( 'bypass_profanity', jQuery.parseJSON('0') );
		
			ips.setSetting( 'emoji_style', jQuery.parseJSON('"native"') );
		
			ips.setSetting( 'emoji_shortcodes', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_ascii', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_cache', jQuery.parseJSON('1681342651') );
		
			ips.setSetting( 'image_jpg_quality', jQuery.parseJSON('75') );
		
			ips.setSetting( 'cloud2', jQuery.parseJSON('false') );
		
			ips.setSetting( 'isAnonymous', jQuery.parseJSON('false') );
		
		
	</script>
<script type="application/ld+json">
{
    "name": "Code to block players on PVE servers from shooting each other",
    "headline": "Code to block players on PVE servers from shooting each other",
    "text": "A long time ago on a PVE server somewhere in Russia, I remember a server where players couldn\u0027t shoot each other. If your cursor was on a player and you tried to pull the trigger nothing would happen until your cursor was off their body\u0027s silhouette. I\u0027d like to setup something like this for my pve players to prevent \"incidents\". If it\u0027s possible I\u0027m thinking it will be\u00a0something in fn_selfActions (maybe) like:\n \n\n\n\t\u00a0\n \n\n\n\t//Block firing weapon at other players\u00a0on PVE server\n \n\n\n\tif cursorTarget = isPlayer then (code that won\u0027t let you shoot goes here!)\n \n\n\n\t\u00a0\n \n\n\n\tHaha that\u0027s about the extent of my code-from-scratch knowledge. Anyone want to take a swing at this? Any help is greatly appreciated.\n \n",
    "dateCreated": "2017-08-28T18:43:26+0000",
    "datePublished": "2017-08-28T18:43:26+0000",
    "dateModified": "2020-04-28T20:16:51+0000",
    "image": "https://epochmod.com/forum/uploads/monthly_2016_11/cv01650.thumb.jpg.5897ca419c797ed9911bcd9afce6df4c.jpg",
    "author": {
        "@type": "Person",
        "name": "_Lance_",
        "image": "https://epochmod.com/forum/uploads/monthly_2016_11/cv01650.thumb.jpg.5897ca419c797ed9911bcd9afce6df4c.jpg",
        "url": "https://epochmod.com/forum/profile/37261-_lance_/"
    },
    "interactionStatistic": [
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/ViewAction",
            "userInteractionCount": 4571
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/CommentAction",
            "userInteractionCount": 32
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/FollowAction",
            "userInteractionCount": 2
        }
    ],
    "@context": "http://schema.org",
    "@type": "QAPage",
    "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/",
    "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/",
    "mainEntity": {
        "@type": "Question",
        "name": "Code to block players on PVE servers from shooting each other",
        "text": "A long time ago on a PVE server somewhere in Russia, I remember a server where players couldn\u0027t shoot each other. If your cursor was on a player and you tried to pull the trigger nothing would happen until your cursor was off their body\u0027s silhouette. I\u0027d like to setup something like this for my pve players to prevent \"incidents\". If it\u0027s possible I\u0027m thinking it will be\u00a0something in fn_selfActions (maybe) like:\n \n\n\n\t\u00a0\n \n\n\n\t//Block firing weapon at other players\u00a0on PVE server\n \n\n\n\tif cursorTarget = isPlayer then (code that won\u0027t let you shoot goes here!)\n \n\n\n\t\u00a0\n \n\n\n\tHaha that\u0027s about the extent of my code-from-scratch knowledge. Anyone want to take a swing at this? Any help is greatly appreciated.\n \n",
        "answerCount": 32,
        "dateCreated": "2017-08-28T18:43:26+0000",
        "author": {
            "@type": "Person",
            "name": "_Lance_"
        },
        "suggestedAnswer": [
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302973",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302973",
                "author": {
                    "@type": "Person",
                    "name": "LadyVal",
                    "image": "https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png",
                    "url": "https://epochmod.com/forum/profile/39155-ladyval/"
                },
                "dateCreated": "2018-04-12T19:17:30+0000",
                "text": "I imagine that.\u00a0 I was going to put the fn_*.sqf with the change into the \\dayz_code\\cusom folder (outside the pbo) and add your line into the compile file.\n \n\n\n\tI think I have several of your mods running.\u00a0\u00a0\n \n\n\n\tThe only one I am failing to make work is the admin tool... but that is not the most important right now.\u00a0\u00a0\n \n\n\n\tThanks a lot for the help I am receiving!!\n \n\n\n\t---------------------------------------------------\n \n\n\n\tI\u0027ve tried the\u00a0\n \n\n\nif (_isPlayer \u0026amp;\u0026amp; !_falling) exitWith {};\n\n\n\tinto the fn_damageHandler that I have in my custom folder.\n \n\n\n\tI edited the compile file... and because there are 2 (no idea why, it was like that in GTX) I tried both in different times:\n \n\n\n\tOne is this one in\u00a0dayz_code\\init\\compiles.sqf\n \n\n\n\n\n\t(a lot is commented there, it came like that)\n \n\n\n\tand the other is in\u00a0dayz_code\\compile\\compiles.sqf\n \n\n\n\n\n\tNone of them worked, when one of the guys shoot at me, I got hurt.\n \n\n\n\tAny idea what I am doing wrong? \u00a0(btw, no error message at all)\n \n\n\n\tThanks again for all the help.\n \n",
                "upvoteCount": 0
            },
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302986",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302986",
                "author": {
                    "@type": "Person",
                    "name": "Tanita-Corp",
                    "image": "https://epochmod.com/forum/uploads/profile/photo-thumb-24958.jpg",
                    "url": "https://epochmod.com/forum/profile/24958-tanita-corp/"
                },
                "dateCreated": "2018-04-13T10:43:11+0000",
                "text": "edit\u00a0\n \n\n\nfnc_usec_damageHandler in safezone script\n",
                "upvoteCount": 0
            },
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302987",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302987",
                "author": {
                    "@type": "Person",
                    "name": "salival",
                    "image": "https://epochmod.com/forum/uploads/monthly_2016_05/b84cf4d1aa73b74e143305e7172d6a3dd39385f4_full.jpg.90d0dacf6cbf51d45b1157f2febc3297.thumb.jpg.a08b1d9294bccac33e8059e83ea7d415.jpg",
                    "url": "https://epochmod.com/forum/profile/36515-salival/"
                },
                "dateCreated": "2018-04-13T11:39:59+0000",
                "text": "You should not copy the original epoch compiles.sqf, variables.sqf to your mission, THIS WILL BREAK THINGS. Only do so if you are super experienced.\n \n\n\n\tPlease revert to how I do it in ZSC, calling it like this:\u00a0https://github.com/oiad/ZSC/blob/master/init.sqf#L100-L101\n \n\n\n\tYour custom compiles.sqf should look like this:\n \n\n\nif (isServer) then {\n\tdiag_log \"Loading custom server compiles\";\t\n};\n\nif (!isDedicated) then {\n\tdiag_log \"Loading custom client compiles\";\n\t\n\tfnc_usec_selfactions = compile preprocessFileLineNumbers \"dayz_code\\compile\\fn_selfActions.sqf\";\n\t\t\n\t//Start Dynamic Weather\n\texecVM \"custom\\DynamicWeatherEffects.sqf\";\n\tinitialized = true;\t\n};\n\n//Event handler run on damage\nfnc_usec_damageHandler = compile preprocessFileLineNumbers \"dayz_code\\compile\\fn_damageHandler.sqf\";\t\t\n\n\n\tThis means it runs on both the client and the server.\n \n\n\n\tI would recommend you join our discord, it\u0027s really good for trouble shooting with lots of other active admins:\u00a0https://discord.gg/SjKEfw6\n \n",
                "upvoteCount": 0
            },
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302991",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302991",
                "author": {
                    "@type": "Person",
                    "name": "LadyVal",
                    "image": "https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png",
                    "url": "https://epochmod.com/forum/profile/39155-ladyval/"
                },
                "dateCreated": "2018-04-13T14:32:43+0000",
                "text": "I will join the discord.\n \n\n\n\tObviously I am not \"close\" to the scripting, even less experienced.\n \n\n\n\tWhy that compile file is there, no idea.\u00a0 It was like that in the server.\n \n\n\n\tBut this is how my init looks like in mpmissions:\n \n\n\n\ninitialized = false;\ncall compile preprocessFileLineNumbers \"\\z\\addons\\dayz_code\\init\\variables.sqf\";\ncall compile preprocessFileLineNumbers \"dayz_code\\init\\variables.sqf\";\nprogressLoadingScreen 0.05;\ncall compile preprocessFileLineNumbers \"\\z\\addons\\dayz_code\\init\\publicEH.sqf\";\nprogressLoadingScreen 0.1;\ncall compile preprocessFileLineNumbers \"\\z\\addons\\dayz_code\\medical\\setup_functions_med.sqf\";\nprogressLoadingScreen 0.15;\ncall compile preprocessFileLineNumbers \"\\z\\addons\\dayz_code\\init\\compiles.sqf\";\ncall compile preprocessFileLineNumbers \"dayz_code\\init\\compiles.sqf\";\nprogressLoadingScreen 0.25;\ncall compile preprocessFileLineNumbers \"scripts\\traders\\server_traders.sqf\";\ncall compile preprocessFileLineNumbers \"logistic\\init.sqf\";\ncall compile preprocessFileLineNumbers \"\\z\\addons\\dayz_code\\system\\mission\\chernarus11.sqf\"; //Add trader city objects locally on every machine early\ninitialized = true;\n\nsetTerrainGrid 25;\n\n\n\tI will try the solution you gave me...\n \n\n\n\tThank you too, Tanita\n \n",
                "upvoteCount": 0
            },
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302992",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-302992",
                "author": {
                    "@type": "Person",
                    "name": "LadyVal",
                    "image": "https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png",
                    "url": "https://epochmod.com/forum/profile/39155-ladyval/"
                },
                "dateCreated": "2018-04-13T16:39:11+0000",
                "text": "I cant go right now to discord (my kid\u0027s birthday) but I did it all exactly like that but... one of my guys killed the other.\u00a0\n \n\n\n\tI think it is not working here\n \n",
                "upvoteCount": 0
            },
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-303142",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-303142",
                "author": {
                    "@type": "Person",
                    "name": "LadyVal",
                    "image": "https://epochmod.com/forum/uploads/monthly_2018_03/L_member_39155.png",
                    "url": "https://epochmod.com/forum/profile/39155-ladyval/"
                },
                "dateCreated": "2018-04-27T01:25:23+0000",
                "text": "Thanks a lot, Salival... the PvE works great and nobody is being killed by other player.\n \n\n\n\tNow another question... how to create a pvp zone in a pve server.\u00a0 \u00a0That scrip cancell all the\u00a0 pvp so, once I have the area marked in the map (for ex. Cherno) and I have the message \"you are entering in a pvp area\"... how can I do to make that area a pvp zone without removing the pve in the rest of chernarus map?\n \n\n\n\tThanks\n \n",
                "upvoteCount": 0
            },
            {
                "@type": "Answer",
                "@id": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-308761",
                "url": "https://epochmod.com/forum/topic/44447-code-to-block-players-on-pve-servers-from-shooting-each-other/page/2/#comment-308761",
                "author": {
                    "@type": "Person",
                    "name": "THAC0_Gewch",
                    "image": "https://epochmod.com/forum/uploads/monthly_2020_04/_780207187_4017885s460u266b0d25780ff84df6f8c236833a94e5d493db51v4.thumb_f38e756e0c7773cc45729789c08be329.00cb620013a1690d57a583873d429fb0",
                    "url": "https://epochmod.com/forum/profile/15494-thac0_gewch/"
                },
                "dateCreated": "2020-04-28T20:16:51+0000",
                "text": "I\u0027m finding that players can still destroy other player vehicles when they have players inside of them. Would the devs consider adjusting the line added in the damage handler to something like:  \n\t\u00a0\n \n\n\nif (DZE_PVE_Mode \u0026amp;\u0026amp; (({_isPlayer} \u0026amp;\u0026amp; {!_falling}) || ({_isPlayer} \u0026amp;\u0026amp; {_inVehicle}))) exitWith {};\n\n\n\tI haven\u0027t tested this yet as I\u0027m at work but can write the change tonight and check on my test server.\n \n\n\n\t\u00a0\n \n\n\n\tEdit: I just realized this will probably need to be handled in veh_handleDam.sqf.\n \n",
                "upvoteCount": 0
            }
        ]
    },
    "publisher": {
        "member": {
            "@type": "Person",
            "name": "_Lance_",
            "image": "https://epochmod.com/forum/uploads/monthly_2016_11/cv01650.thumb.jpg.5897ca419c797ed9911bcd9afce6df4c.jpg",
            "url": "https://epochmod.com/forum/profile/37261-_lance_/"
        }
    }
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "publisher": "https://epochmod.com/forum/#organization",
    "@type": "WebSite",
    "@id": "https://epochmod.com/forum/#website",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "potentialAction": {
        "type": "SearchAction",
        "query-input": "required name=query",
        "target": "https://epochmod.com/forum/search/?q={query}"
    },
    "inLanguage": [
        {
            "@type": "Language",
            "name": "English (USA)",
            "alternateName": "en-US"
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "@type": "Organization",
    "@id": "https://epochmod.com/forum/#organization",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "logo": {
        "@type": "ImageObject",
        "@id": "https://epochmod.com/forum/#logo",
        "url": "https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"
    },
    "sameAs": [
        "https://facebook.com/EpochMod",
        "https://twitter.com/EpochMod",
        "https://github.com/EpochModTeam/"
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "item": {
                "@id": "https://epochmod.com/forum/forum/1-arma-2/",
                "name": "ArmA 2"
            }
        },
        {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "@id": "https://epochmod.com/forum/forum/96-qa-section/",
                "name": "Q&amp;A Section"
            }
        },
        {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "@id": "https://epochmod.com/forum/forum/35-scripting/",
                "name": "Scripting"
            }
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "ContactPage",
    "url": "https://epochmod.com/forum/contact/"
}	
</script>
<script type="text/javascript">
    (() => {
        let gqlKeys = [];
        for (let [k, v] of Object.entries(gqlKeys)) {
            ips.setGraphQlData(k, v);
        }
    })();
</script>
<!--ipsQueryLog-->
<!--ipsCachingLog-->
</body>

</html>