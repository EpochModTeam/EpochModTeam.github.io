<!DOCTYPE html>

<html dir="ltr" lang="en-US">

<!-- Added by HTTrack --><meta content="text/html;charset=utf-8" http-equiv="content-type"/><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8"/>
<title>Fix for Broken Traders when using WAI Mission System in NAPF Epoch - A2: Epoch Mods (1.0.5.1) - Epoch Mod Community</title>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52081052-1', 'auto');
  ga('send', 'pageview');

</script>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" property="og:image"/>
<meta content="summary_large_image" name="twitter:card">
<meta content="@EpochMod" name="twitter:site">
<meta content="Fix for Broken Traders when using WAI Mission System in NAPF Epoch" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/" property="og:url"/>
<meta content="A number of weeks ago I took a break from my own servers to look around for fresh ideas. I ran into the Wicked AI mission system on a few Epoch servers. I'd seen the missions before, long before I started using a mission system myself, and had employed DZMS for my servers, heavily expanding it. K..." name="description"/>
<meta content="A number of weeks ago I took a break from my own servers to look around for fresh ideas. I ran into the Wicked AI mission system on a few Epoch servers. I'd seen the missions before, long before I started using a mission system myself, and had employed DZMS for my servers, heavily expanding it. K..." property="og:description"/>
<meta content="2016-03-07T15:25:21Z" property="og:updated_time"/>
<meta content="Epoch Mod Community" property="og:site_name"/>
<meta content="en_US" property="og:locale"/>
<link href="index.html" rel="canonical"/>
<link href="https://epochmod.com/forum/manifest.webmanifest/" rel="manifest"/>
<meta content="https://epochmod.com/forum/browserconfig.xml/" name="msapplication-config"/>
<meta content="/" name="msapplication-starturl"/>
<meta content="Epoch Mod Community" name="application-name"/>
<meta content="Epoch Mod Community" name="apple-mobile-web-app-title"/>
<meta content="#000000" name="theme-color"/>
<link as="font" crossorigin="anonymous" href="http://epochmod.com/forum/applications/core/interface/font/fontawesome-webfont.woff2?v=4.7.0" rel="preload"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/341e4a57816af3ba440d891ca87450ff_framework.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/05e81b71abe4f22d6eb8d1a929494829_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/90eb5adf50a8c640f633d47fd7eb1778_core.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/5a0da001ccc2200dc5625c3f3934497d_core_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/62e269ced0fdab7e30e026f1d30ae516_forums.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/76e62c573090645fb99a15a363d8620e_forums_responsive.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/ebdea0c6a7dab6d37900b9190d3ac77b_topics.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/css_built_19/258adbb6e4f3e83cd3b355f84e3fa002_custom.css" media="all" rel="stylesheet"/>
<link href="https://epochmod.com/forum/uploads/monthly_2018_04/favicon.ico.c690be06d87a954c1dce2d924fe2a0f2.ico" rel="shortcut icon" type="image/x-icon"/>
</meta></meta></head>
<body class="ipsApp ipsApp_front ipsJS_none ipsClearfix" data-controller="core.front.core.app" data-message="" data-pageapp="forums" data-pagecontroller="topic" data-pageid="41654" data-pagelocation="front" data-pagemodule="forums">
<a accesskey="m" class="ipsHide" href="#ipsLayout_mainArea" title="Go to main content on this page">Jump to content</a>
<div class="ipsClearfix" id="ipsLayout_header">
<header>
<div class="ipsLayout_container">
<a accesskey="1" href="../../index.html" id="elLogo"><img alt="Epoch Mod Community" src="https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"/></a>
<ul class="ipsList_inline cSignedOut ipsResponsive_showDesktop" id="elUserNav">
<li id="elSignInLink">
<a data-ipsmenu="" data-ipsmenu-closeonclick="false" href="https://epochmod.com/forum/login/" id="elUserSignIn">
                    Existing user? Sign In Â <i class="fa fa-caret-down"></i>
</a>
<div class="ipsMenu ipsMenu_auto ipsHide" id="elUserSignIn_menu">
<form accept-charset="utf-8" action="https://epochmod.com/forum/login/" method="post">
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<input name="ref" type="hidden" value="aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy80MTY1NC1maXgtZm9yLWJyb2tlbi10cmFkZXJzLXdoZW4tdXNpbmctd2FpLW1pc3Npb24tc3lzdGVtLWluLW5hcGYtZXBvY2gv"/>
<div data-role="loginForm">
<div class="ipsPad ipsForm ipsForm_vertical">
<h4 class="ipsType_sectionHead">Sign In</h4>
<br/><br/>
<ul class="ipsList_reset">
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="email" name="auth" placeholder="Display Name or Email Address" type="text"/>
</li>
<li class="ipsFieldRow ipsFieldRow_noLabel ipsFieldRow_fullWidth">
<input autocomplete="current-password" name="password" placeholder="Password" type="password"/>
</li>
<li class="ipsFieldRow ipsFieldRow_checkbox ipsClearfix">
<span class="ipsCustomInput">
<input aria-checked="true" checked="" id="remember_me_checkbox" name="remember_me" type="checkbox" value="1"/>
<span></span>
</span>
<div class="ipsFieldRow_content">
<label class="ipsFieldRow_label" for="remember_me_checkbox">Remember me</label>
<span class="ipsFieldRow_desc">Not recommended on shared computers</span>
</div>
</li>
<li class="ipsFieldRow ipsFieldRow_fullWidth">
<button class="ipsButton ipsButton_primary ipsButton_small" id="elSignIn_submit" name="_processLogin" type="submit" value="usernamepassword">Sign In</button>
<p class="ipsType_right ipsType_small">
<a data-ipsdialog="" data-ipsdialog-title="Forgot your password?" href="https://epochmod.com/forum/lostpassword/">
					
					Forgot your password?</a>
</p>
</li>
</ul>
</div>
</div>
</form>
</div>
</li>
</ul>
<ul class="ipsMobileHamburger ipsList_reset ipsResponsive_hideDesktop">
<li data-ipsdrawer="" data-ipsdrawer-drawerelem="#elMobileDrawer">
<a href="#">
<i class="fa fa-navicon"></i>
</a>
</li>
</ul>
</div>
</header>
<nav class="ipsResponsive_showDesktop" data-controller="core.front.core.navBar">
<div class="ipsNavBar_primary ipsLayout_container">
<ul class="ipsClearfix" data-role="primaryNavBar">
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_18">
<a data-navitem-id="18" href="http://epochmod.com/">
					Home<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="cms" data-navext="Pages" data-role="navBarItem" id="elNavSecondary_12">
<a data-navitem-id="12" href="https://epochmod.com/forum/projects/">
					Downloads<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsNavBar_active" data-active="" data-navapp="forums" data-navext="Forums" data-role="navBarItem" id="elNavSecondary_8">
<a data-navdefault="" data-navitem-id="8" href="../../index.html">
					Forums<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_13">
<a data-navitem-id="13" href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">
					Wiki<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_1">
<a data-navitem-id="1" href="../../index.html">
					Browse<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="StaffDirectory" data-role="navBarItem" id="elNavSecondary_10">
<a data-navitem-id="10" href="https://epochmod.com/forum/staff/">
					Staff<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="OnlineUsers" data-role="navBarItem" id="elNavSecondary_11">
<a data-navitem-id="11" href="https://epochmod.com/forum/online/">
					Online Users<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_1">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_1" href="#" id="elNavigationMore_1_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_1_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="CustomItem" data-role="navBarItem" id="elNavSecondary_2">
<a data-navitem-id="2" href="https://epochmod.com/forum/discover/">
					Activity<span class="ipsNavBar_active__identifier"></span>
</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li data-navapp="core" data-navext="AllActivity" data-role="navBarItem" id="elNavSecondary_3">
<a data-navitem-id="3" href="https://epochmod.com/forum/discover/">
					All Activity<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreams" data-role="navBarItem" id="elNavSecondary_4">
<a data-navitem-id="4" href="#">
					My Activity Streams<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_5">
<a data-navitem-id="5" href="https://epochmod.com/forum/discover/unread/">
					Unread Content<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="YourActivityStreamsItem" data-role="navBarItem" id="elNavSecondary_6">
<a data-navitem-id="6" href="https://epochmod.com/forum/discover/content-started/">
					Content I Started<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li data-navapp="core" data-navext="Search" data-role="navBarItem" id="elNavSecondary_7">
<a data-navitem-id="7" href="https://epochmod.com/forum/search/">
					Search<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore_2">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_2" href="#" id="elNavigationMore_2_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_2_dropdown_menu"></ul>
</li>
</ul>
</li>
<li data-navapp="core" data-navext="Leaderboard" data-role="navBarItem" id="elNavSecondary_19">
<a data-navitem-id="19" href="https://epochmod.com/forum/leaderboard/">
					Leaderboard<span class="ipsNavBar_active__identifier"></span>
</a>
</li>
<li class="ipsHide" data-role="navMore" id="elNavigationMore">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore" href="#" id="elNavigationMore_dropdown">More</a>
<ul class="ipsNavBar_secondary ipsHide" data-role="secondaryNavBar">
<li class="ipsHide" data-role="navMore" id="elNavigationMore_more">
<a data-ipsmenu="" data-ipsmenu-appendto="#elNavigationMore_more" href="#" id="elNavigationMore_more_dropdown">More <i class="fa fa-caret-down"></i></a>
<ul class="ipsHide ipsMenu ipsMenu_auto" data-role="moreDropdown" id="elNavigationMore_more_dropdown_menu"></ul>
</li>
</ul>
</li>
</ul>
<div id="elSearchWrapper">
<div data-controller="core.front.core.quickSearch" id="elSearch">
<form accept-charset="utf-8" action="http://epochmod.com/forum/search/?do=quicksearch" method="post">
<input aria-label="Search" autocomplete="off" id="elSearchField" name="q" placeholder="Search..." type="search"/>
<details class="cSearchFilter">
<summary class="cSearchFilter__text"></summary>
<ul class="cSearchFilter__menu">
<li><label><input name="type" type="radio" value="all"/><span class="cSearchFilter__menuText">Everywhere</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","nodes":34}'/><span class="cSearchFilter__menuText">This Forum</span></label></li>
<li><label><input checked="" name="type" type="radio" value='contextual_{"type":"forums_topic","item":41654}'/><span class="cSearchFilter__menuText">This Topic</span></label></li>
<li><label><input name="type" type="radio" value="core_statuses_status"/><span class="cSearchFilter__menuText">Status Updates</span></label></li>
<li><label><input name="type" type="radio" value="forums_topic"/><span class="cSearchFilter__menuText">Topics</span></label></li>
<li><label><input name="type" type="radio" value="cms_pages_pageitem"/><span class="cSearchFilter__menuText">Pages</span></label></li>
<li><label><input name="type" type="radio" value="cms_records1"/><span class="cSearchFilter__menuText">Article</span></label></li>
<li><label><input name="type" type="radio" value="core_members"/><span class="cSearchFilter__menuText">Members</span></label></li>
</ul>
</details>
<button aria-label="Search" class="cSearchSubmit" type="submit"><i class="fa fa-search"></i></button>
</form>
</div>
</div>
</div>
</nav>
<ul class="ipsResponsive_hideDesktop" data-controller="core.front.core.mobileNav" id="elMobileNav">
<li id="elMobileBreadcrumb">
<a href="../../forum/34-a2-epoch-mods-1051/index.html">
<span>A2: Epoch Mods (1.0.5.1)</span>
</a>
</li>
<li>
<a data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i></a>
</li>
<li class="ipsJS_show">
<a href="https://epochmod.com/forum/search/"><i class="fa fa-search"></i></a>
</li>
</ul>
</div>
<main class="ipsLayout_container" id="ipsLayout_body">
<div id="ipsLayout_contentArea">
<div id="ipsLayout_contentWrapper">
<nav class="ipsBreadcrumb ipsBreadcrumb_top ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/37-legacy-resources/index.html">
<span>Legacy Resources <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/34-a2-epoch-mods-1051/index.html">
<span>A2: Epoch Mods (1.0.5.1) <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Fix for Broken Traders when using WAI Mission System in NAPF Epoch
				
			</li>
</ul>
</nav>
<div id="ipsLayout_mainArea">
<div class="ipsPageHeader ipsResponsive_pull ipsBox ipsPadding sm:ipsPadding:half ipsMargin_bottom">
<div class="ipsFlex ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:4">
<div class="ipsFlex-flex:11">
<h1 class="ipsType_pageTitle ipsContained_container">
<span class="ipsType_break ipsContained">
<span>Fix for Broken Traders when using WAI Mission System in NAPF Epoch</span>
</span>
</h1>
</div>
</div>
<hr class="ipsHr"/>
<div class="ipsPageHeader__meta ipsFlex ipsFlex-jc:between ipsFlex-ai:center ipsFlex-fw:wrap ipsGap:3">
<div class="ipsFlex-flex:11">
<div class="ipsPhotoPanel ipsPhotoPanel_mini ipsPhotoPanel_notPhone ipsClearfix">
<a class="ipsUserPhoto ipsUserPhoto_mini" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/19114-general-zaroff/?do=hovercard" data-ipshover-width="370" href="../../profile/19114-general-zaroff/index.html" rel="nofollow" title="Go to General Zaroff's profile">
<img alt="General Zaroff" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%236c62c4%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3EG%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<div>
<p class="ipsType_reset ipsType_blendLinks">
<span class="ipsType_normal">
<strong>By 


<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/19114-general-zaroff/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%252F" data-ipshover-width="370" href="../../profile/19114-general-zaroff/index.html" rel="nofollow" title="Go to General Zaroff's profile">General Zaroff</a></strong><br/><span class="ipsType_light"><time data-short="9 yr" datetime="2016-03-07T15:25:21Z" title="03/07/16 03:25  PM">March 7, 2016</time> in <a href="../../forum/34-a2-epoch-mods-1051/index.html">A2: Epoch Mods (1.0.5.1)</a></span>
</span>
</p>
</div>
</div>
</div>
<div class="ipsFlex-flex:01 ipsResponsive_hidePhone">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_link ipsButton_link--light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span> Â Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F&amp;title=Fix+for+Broken+Traders+when+using+WAI+Mission+System+in+NAPF+Epoch" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Fix for Broken Traders when using WAI Mission System in NAPF Epoch" data-websharetitle="Fix for Broken Traders when using WAI Mission System in NAPF Epoch" data-webshareurl="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="41654">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall ipsButton_disabled" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">0</span>
</a>
</div>
</div>
</div>
</div>
</div>
<div class="ipsClearfix">
<ul class="ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_both ipsResponsive_hidePhone">
</ul>
</div>
<div class="cTopic ipsClear ipsSpacer_top" data-autopoll="" data-baseurl="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/" data-controller="core.front.core.commentFeed,forums.front.topic.view, core.front.core.ignoredComments" data-feedid="topic-41654" data-lastpage="" id="comments">
<div class="ipsRecommendedComments ipsHide" data-controller="core.front.core.recommendedComments" data-url="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?recommended=comments">
<div data-role="recommendedComments">
<h2 class="ipsType_sectionHead ipsType_large ipsType_bold ipsMargin_bottom">Recommended Posts</h2>
</div>
</div>
<div data-controller="core.front.core.moderation" data-role="commentFeed" id="elPostFeed">
<form action="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?csrfKey=bbd96aef55be1a90d685e56a4524d73a&amp;do=multimodComment" data-ipspageaction="" data-role="moderationTools" method="post">
<a id="comment-273340"></a>
<article class="cPost ipsBox ipsResponsive_pull ipsComment ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone" id="elComment_273340">
<div class="cAuthorPane_mobile ipsResponsive_showPhone">
<div class="cAuthorPane_photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/19114-general-zaroff/?do=hovercard" data-ipshover-width="370" href="../../profile/19114-general-zaroff/index.html" rel="nofollow" title="Go to General Zaroff's profile">
<img alt="General Zaroff" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%236c62c4%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3EG%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<a href="https://epochmod.com/forum/profile/19114-general-zaroff/badges/" rel="nofollow">
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</a>
</div>
</div>
<div class="cAuthorPane_content">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_break ipsType_blendLinks ipsFlex ipsFlex-ai:center">
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/19114-general-zaroff/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%252F" data-ipshover-width="370" href="../../profile/19114-general-zaroff/index.html" rel="nofollow" title="Go to General Zaroff's profile"><span style="color:#">General Zaroff</span></a>
</h3>
<div class="ipsType_light ipsType_reset">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?do=findComment&amp;comment=273340" rel="nofollow">Posted <time data-short="9 yr" datetime="2016-03-07T15:25:21Z" title="03/07/16 03:25  PM">March 7, 2016</time></a>
</div>
</div>
</div>
<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone">
<h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break"><strong>
<a class="ipsType_break" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/19114-general-zaroff/?do=hovercard&amp;referrer=https%253A%252F%252Fepochmod.com%252Fforum%252Ftopic%252F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%252F" data-ipshover-width="370" href="../../profile/19114-general-zaroff/index.html" rel="nofollow" title="Go to General Zaroff's profile">General Zaroff</a></strong>
</h3>
<ul class="cAuthorPane_info ipsList_reset">
<li class="cAuthorPane_photo" data-role="photo">
<div class="cAuthorPane_photoWrap">
<a class="ipsUserPhoto ipsUserPhoto_large" data-ipshover="" data-ipshover-target="https://epochmod.com/forum/profile/19114-general-zaroff/?do=hovercard" data-ipshover-width="370" href="../../profile/19114-general-zaroff/index.html" rel="nofollow" title="Go to General Zaroff's profile">
<img alt="General Zaroff" loading="lazy" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%201024%22%20style%3D%22background%3A%236c62c4%22%3E%3Cg%3E%3Ctext%20text-anchor%3D%22middle%22%20dy%3D%22.35em%22%20x%3D%22512%22%20y%3D%22512%22%20fill%3D%22%23ffffff%22%20font-size%3D%22700%22%20font-family%3D%22-apple-system%2C%20BlinkMacSystemFont%2C%20Roboto%2C%20Helvetica%2C%20Arial%2C%20sans-serif%22%3EG%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E"/>
</a>
<img alt="Newbie" class="cAuthorPane_badge cAuthorPane_badge--rank ipsOutline ipsOutline:2px" data-ipstooltip="" loading="lazy" src="https://epochmod.com/forum/uploads/monthly_2023_04/1_Newbie.svg" title="Rank: Newbie (1/14)"/>
</div>
</li>
<li data-role="group"><span style="color:#">Member</span></li>
<li class="ipsMargin_top" data-role="stats">
<ul class="ipsList_reset ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsGap_row:2 cAuthorPane_stats">
<li>
<a class="ipsType_blendLinks" data-ipstooltip="" href="https://epochmod.com/forum/profile/19114-general-zaroff/content/" rel="nofollow" title="48 posts">
<i class="fa fa-comment"></i> 48
							
								</a>
</li>
</ul>
</li>
</ul>
</aside>
<div class="ipsColumn ipsColumn_fluid ipsMargin:none">
<div class="ipsComment_content ipsType_medium" data-commentapp="forums" data-commentid="273340" data-commenttype="forums" data-controller="core.front.core.comment" data-quotedata='{"userid":19114,"username":"General Zaroff","timestamp":1457364321,"contentapp":"forums","contenttype":"forums","contentid":41654,"contentclass":"forums_Topic","contentcommentid":273340}' id="comment-273340_wrap">
<div class="ipsComment_meta ipsType_light ipsFlex ipsFlex-ai:center ipsFlex-jc:between ipsFlex-fd:row-reverse">
<div class="ipsType_light ipsType_reset ipsType_blendLinks ipsComment_toolWrap">
<div class="ipsResponsive_hidePhone ipsComment_badges">
<ul class="ipsList_reset ipsFlex ipsFlex-jc:end ipsFlex-fw:wrap ipsGap:2 ipsGap_row:1">
</ul>
</div>
<ul class="ipsList_reset ipsComment_tools">
<li>
<a class="ipsComment_ellipsis" data-ipsmenu="" data-ipsmenu-appendto="#comment-273340_wrap" href="#elControls_273340_menu" id="elControls_273340" title="More options..."><i class="fa fa-ellipsis-h"></i></a>
<ul class="ipsMenu ipsMenu_narrow ipsHide" id="elControls_273340_menu">
<li class="ipsMenu_item"><a data-action="reportComment" data-ipsdialog="" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-remotesubmit="" data-ipsdialog-size="medium" data-ipsdialog-title="Report post" href="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?do=reportComment&amp;comment=273340" title="Report this content">Report</a></li>
<li class="ipsMenu_item"><a data-ipsdialog="" data-ipsdialog-content="#elShareComment_273340_menu" data-ipsdialog-size="narrow" data-ipsdialog-title="Share this post" data-role="shareComment" href="index.html" id="elSharePost_273340" title="Share this post">Share</a></li>
</ul>
</li>
</ul>
</div>
<div class="ipsType_reset ipsResponsive_hidePhone">
<a class="ipsType_blendLinks" href="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?do=findComment&amp;comment=273340" rel="nofollow">Posted <time data-short="9 yr" datetime="2016-03-07T15:25:21Z" title="03/07/16 03:25  PM">March 7, 2016</time></a>
<span class="ipsResponsive_hidePhone">
</span>
</div>
</div>
<div class="cPost_contentWrap">
<div class="ipsType_normal ipsType_richText ipsPadding_bottom ipsContained" data-controller="core.front.core.lightboxedImages" data-role="commentContent">
<p>
	A number of weeks ago I took a break from my own servers to look around for fresh ideas. I ran into the Wicked AI mission system on a few Epoch servers. I'd seen the missions before, long before I started using a mission system myself, and had employed DZMS for my servers, heavily expanding it. Knowing more now than I did before, I found WAI's use of features like fixed HMG emplacements interesting.Â 
</p>
<p>
	I set out to use WAI MS in conjunction with DZMS ( and DZAI, for patrols, for that matter ), for heavier team missions. That way, the DZAI patrols harass everyone lightly... the DZMS missions allow solo players opportunities to collect loot, and the big WAI team missions play out for heavily armored groups.
</p>
<p>
	I noticed on two servers running WAI Epoch Napf that traders were broken. The pattern was the same -- most Emmem traders simply won't recognize the player. Only the med and clothing traders in Lenzburg work. Most of the traders in Schratten seem OK, but the hero trader at SWAF is broken.
</p>
<p>
	After I got the three systems working happily together -- not as bad an exercise as one might think, simply load them in the order DZAI, DZMS, WAI, and dispense with all the conditionals testing for other systems, and hard-code the side center and hostile and friendly relationships at each major module load init, handling only those sides employed incrementally for each system -- Â I found that my traders had broken in precisely the same fashion in which they were broken on the two servers I'd tried out the weeks before.
</p>
<p>
	Googling reveals that the WAI Epoch Napf trader breakage is a long-known issue, documented well back into 2014. No one has posted a detailed fix, however.
</p>
<p>
	The issue seems to be that WAI upsets the hostile/neutral/friendly classifications that allow the trader self-action filter to successfully test for a trader in front of the player. The only thing different about WAI I believe is its handling of side RESISTANCE, so I'm guessing -- GUESSING! -- since some traders work and others don't after WAI loads that the issue is that agents -- which seem to be unaligned -- have a somewhat undefined side for the purposes of checking hostility. Since the broken relationships appear to be repeatable, perhaps the hostility has some relationship to the skin. Why it works before there's a RESISTANCE center in the game and before there are hostility relationships between RESISTANCE and others.... I haven't figured out. Like I said, this is partly guesswork.
</p>
<p>
	This, however, fixes it for Epoch Napf running DZAI, DZMS, and WAI...
</p>
<p>
	I added this code to the fn_selfActions.sqf file:
</p>
<p>
	Three variables into the private statement:
</p>
<p>
	private ["_PosPlayer","_CoordX","_CoordY",...
</p>
<p>
	.....
</p>
<p>
	And then changes below -- commenting out the three existing "humanity logic" conditionals and adding new tests based on locations unique to Napf and humanity...
</p>
<p>
	Â Â  Â Â Â  Â if (s_player_parts_crtl &lt; 0) then {
</p>
<p>
	//Â Â  Â  Â  Â  Â  Â  Â  Â sleep 1.0;<br/>
	// Â  Â  Â Â Â  Â  Â  Â  Â titleText ["SECOND TRADER GATE PASSED.", "PLAIN DOWN", 3];
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â // get humanity<br/>
	Â Â  Â Â Â  Â Â Â  Â _humanity = player getVariable ["humanity",0];
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â _traderMenu = call compile format["menu_%1;",_traderType];
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â // diag_log ("TRADER = " + str(_traderMenu));<br/>
	Â Â  Â Â Â  Â Â Â  Â <br/>
	Â Â  Â Â Â  Â Â Â  Â _low_high = "low";
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â _humanity_logic = false;
</p>
<p>
	//Â Â  Â Â Â  Â Â Â  Â if((_traderMenu select 2) == "friendly") then {<br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = (_humanity &lt; -5000);<br/>
	//Â Â  Â Â Â  Â Â Â  Â };
</p>
<p>
	//Â Â  Â Â Â  Â Â Â  Â if((_traderMenu select 2) == "hostile") then {<br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _low_high = "high";<br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = (_humanity &gt; -5000);<br/>
	//Â Â  Â Â Â  Â Â Â  Â };
</p>
<p>
	//Â Â  Â Â Â  Â Â Â  Â if((_traderMenu select 2) == "hero") then {<br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = (_humanity &lt; 5000);<br/>
	//Â Â  Â Â Â  Â Â Â  Â };
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â // get the individual player coordinates
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â _PosPlayer = getPos player;<br/>
	Â Â  Â Â Â  Â Â Â  Â _CoordX = _PosPlayer select 0;<br/>
	Â Â  Â Â Â  Â Â Â  Â _CoordY = _PosPlayer select 1;
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â // check for being at bandit trader
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â if ( ( _CoordX &gt; 10205 ) and ( _CoordX &lt; 10605 ) and ( _CoordY &gt; 8170 ) and ( _CoordY &lt; 8570 ) ) then {<br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0;<br/>
	//Â Â  Â  Â  Â Â Â  Â Â Â  Â  Â  Â  Â titleText ["BANDIT TRADER DETECTED.", "PLAIN DOWN", 3];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _low_high = "high";<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = ( _humanity &gt; -5000 );<br/>
	Â Â  Â Â Â  Â Â Â  Â };
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â // check for being at hero trader
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â if ( ( _CoordX &gt; 5050 ) and ( _CoordX &lt; 5250 ) and ( _CoordY &gt; 4850 ) and ( _CoordY &lt; 5050 ) ) then {<br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0;<br/>
	//Â Â  Â  Â  Â Â Â  Â Â Â  Â  Â  Â  titleText ["HERO TRADER DETECTED.", "PLAIN DOWN", 3];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = ( _humanity &lt; 5000 );<br/>
	Â Â  Â Â Â  Â Â Â  Â };
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â if ( _humanity_logic ) then {<br/>
	Â Â  Â  Â  Â  Â  Â  Â Â <br/>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0;<br/>
	//Â Â  Â  Â  Â Â Â  Â Â Â  Â  Â  Â  Â titleText ["HUMANITY LOGIC INVOKED.", "PLAIN DOWN", 3];
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _cancel = player addAction [format[localize "STR_EPOCH_ACTIONS_HUMANITY",_low_high], "\z\addons\dayz_code\actions\trade_cancel.sqf",["na"], 0, true, false, "",""];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â s_player_parts set [count s_player_parts,_cancel];
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â } else {
</p>
<p>
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0;<br/>
	// Â  Â  Â Â Â  Â Â Â  Â  Â  Â  Â titleText ["TRYING TO ADD TRADER MENU.", "PLAIN DOWN", 3];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â <br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â // Static Menu<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â {<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â //diag_log format["DEBUG TRADER: %1", _x];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â _buy = player addAction [format["Trade %1 %2 for %3 %4",(_x select 3),(_x select 5),(_x select 2),(_x select 6)], "\z\addons\dayz_code\actions\trade_items_wo_db.sqf",[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, "",""];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â s_player_parts set [count s_player_parts,_buy];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â <br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â } count (_traderMenu select 1);
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â // Database menu<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _buy = player addAction [localize "STR_EPOCH_PLAYER_289", "\z\addons\dayz_code\actions\show_dialog.sqf",(_traderMenu select 0), 999, true, false, "",""];<br/>
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â s_player_parts set [count s_player_parts,_buy];
</p>
<p>
	Â Â  Â Â Â  Â Â Â  Â };<br/>
	Â Â  Â Â Â  Â Â Â  Â s_player_parts_crtl = 1;<br/>
	Â Â  Â Â Â  Â Â Â  Â <br/>
	Â Â  Â Â Â  Â };<br/>
	Â Â  Â } else {<br/>
	Â Â  Â Â Â  Â {player removeAction _x} count s_player_parts;s_player_parts = [];<br/>
	Â Â  Â Â Â  Â s_player_parts_crtl = -1;<br/>
	Â Â  Â };<br/>
	Â 
</p>
<p>
	Â 
</p>
</div>
</div>
<div class="ipsPadding ipsHide cPostShareMenu" id="elShareComment_273340_menu">
<h5 class="ipsType_normal ipsType_reset">Link to comment</h5>
<input class="ipsField_fullWidth" type="text" value="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/"/>
<h5 class="ipsType_normal ipsType_reset ipsSpacer_top">Share on other sites</h5>
<ul class="ipsList_inline ipsList_noSpacing ipsClearfix" data-controller="core.front.core.sharelink">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F%3Fdo%3DfindComment%26comment%3D273340" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F%3Fdo%3DfindComment%26comment%3D273340" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F%3Fdo%3DfindComment%26comment%3D273340&amp;title=Fix+for+Broken+Traders+when+using+WAI+Mission+System+in+NAPF+Epoch" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?do=findComment%26comment=273340&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_small ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="A number of weeks ago I took a break from my own servers to look around for fresh ideas. I ran into the Wicked AI mission system on a few Epoch servers. I'd seen the missions before, long before I started using a mission system myself, and had employed DZMS for my servers, heavily expanding it. Knowing more now than I did before, I found WAI's use of features like fixed HMG emplacements interesting.Â 
 


	I set out to use WAI MS in conjunction with DZMS ( and DZAI, for patrols, for that matter ), for heavier team missions. That way, the DZAI patrols harass everyone lightly... the DZMS missions allow solo players opportunities to collect loot, and the big WAI team missions play out for heavily armored groups.
 


	I noticed on two servers running WAI Epoch Napf that traders were broken. The pattern was the same -- most Emmem traders simply won't recognize the player. Only the med and clothing traders in Lenzburg work. Most of the traders in Schratten seem OK, but the hero trader at SWAF is broken.
 


	After I got the three systems working happily together -- not as bad an exercise as one might think, simply load them in the order DZAI, DZMS, WAI, and dispense with all the conditionals testing for other systems, and hard-code the side center and hostile and friendly relationships at each major module load init, handling only those sides employed incrementally for each system -- Â I found that my traders had broken in precisely the same fashion in which they were broken on the two servers I'd tried out the weeks before.
 


	Googling reveals that the WAI Epoch Napf trader breakage is a long-known issue, documented well back into 2014. No one has posted a detailed fix, however.
 


	The issue seems to be that WAI upsets the hostile/neutral/friendly classifications that allow the trader self-action filter to successfully test for a trader in front of the player. The only thing different about WAI I believe is its handling of side RESISTANCE, so I'm guessing -- GUESSING! -- since some traders work and others don't after WAI loads that the issue is that agents -- which seem to be unaligned -- have a somewhat undefined side for the purposes of checking hostility. Since the broken relationships appear to be repeatable, perhaps the hostility has some relationship to the skin. Why it works before there's a RESISTANCE center in the game and before there are hostility relationships between RESISTANCE and others.... I haven't figured out. Like I said, this is partly guesswork.
 


	This, however, fixes it for Epoch Napf running DZAI, DZMS, and WAI...
 


	I added this code to the fn_selfActions.sqf file:
 


	Three variables into the private statement:
 


	private [&quot;_PosPlayer&quot;,&quot;_CoordX&quot;,&quot;_CoordY&quot;,...
 


	.....
 


	And then changes below -- commenting out the three existing &quot;humanity logic&quot; conditionals and adding new tests based on locations unique to Napf and humanity...
 


	Â Â  Â Â Â  Â if (s_player_parts_crtl &lt; 0) then {
 


	//Â Â  Â  Â  Â  Â  Â  Â  Â sleep 1.0; 
	// Â  Â  Â Â Â  Â  Â  Â  Â titleText [&quot;SECOND TRADER GATE PASSED.&quot;, &quot;PLAIN DOWN&quot;, 3];
 


	Â Â  Â Â Â  Â Â Â  Â // get humanity 
	Â Â  Â Â Â  Â Â Â  Â _humanity = player getVariable [&quot;humanity&quot;,0];
 


	Â Â  Â Â Â  Â Â Â  Â _traderMenu = call compile format[&quot;menu_%1;&quot;,_traderType];
 


	Â Â  Â Â Â  Â Â Â  Â // diag_log (&quot;TRADER = &quot; + str(_traderMenu)); 
	Â Â  Â Â Â  Â Â Â  Â  
	Â Â  Â Â Â  Â Â Â  Â _low_high = &quot;low&quot;;
 


	Â Â  Â Â Â  Â Â Â  Â _humanity_logic = false;
 


	//Â Â  Â Â Â  Â Â Â  Â if((_traderMenu select 2) == &quot;friendly&quot;) then { 
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = (_humanity &lt; -5000); 
	//Â Â  Â Â Â  Â Â Â  Â };
 


	//Â Â  Â Â Â  Â Â Â  Â if((_traderMenu select 2) == &quot;hostile&quot;) then { 
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _low_high = &quot;high&quot;; 
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = (_humanity &gt; -5000); 
	//Â Â  Â Â Â  Â Â Â  Â };
 


	//Â Â  Â Â Â  Â Â Â  Â if((_traderMenu select 2) == &quot;hero&quot;) then { 
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = (_humanity &lt; 5000); 
	//Â Â  Â Â Â  Â Â Â  Â };
 


	Â Â  Â Â Â  Â Â Â  Â // get the individual player coordinates
 


	Â Â  Â Â Â  Â Â Â  Â _PosPlayer = getPos player; 
	Â Â  Â Â Â  Â Â Â  Â _CoordX = _PosPlayer select 0; 
	Â Â  Â Â Â  Â Â Â  Â _CoordY = _PosPlayer select 1;
 


	Â Â  Â Â Â  Â Â Â  Â // check for being at bandit trader
 


	Â Â  Â Â Â  Â Â Â  Â if ( ( _CoordX &gt; 10205 ) and ( _CoordX &lt; 10605 ) and ( _CoordY &gt; 8170 ) and ( _CoordY &lt; 8570 ) ) then { 
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0; 
	//Â Â  Â  Â  Â Â Â  Â Â Â  Â  Â  Â  Â titleText [&quot;BANDIT TRADER DETECTED.&quot;, &quot;PLAIN DOWN&quot;, 3]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _low_high = &quot;high&quot;; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = ( _humanity &gt; -5000 ); 
	Â Â  Â Â Â  Â Â Â  Â };
 


	Â Â  Â Â Â  Â Â Â  Â // check for being at hero trader
 


	Â Â  Â Â Â  Â Â Â  Â if ( ( _CoordX &gt; 5050 ) and ( _CoordX &lt; 5250 ) and ( _CoordY &gt; 4850 ) and ( _CoordY &lt; 5050 ) ) then { 
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0; 
	//Â Â  Â  Â  Â Â Â  Â Â Â  Â  Â  Â  titleText [&quot;HERO TRADER DETECTED.&quot;, &quot;PLAIN DOWN&quot;, 3]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _humanity_logic = ( _humanity &lt; 5000 ); 
	Â Â  Â Â Â  Â Â Â  Â };
 


	Â Â  Â Â Â  Â Â Â  Â if ( _humanity_logic ) then { 
	Â Â  Â  Â  Â  Â  Â  Â Â  
	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0; 
	//Â Â  Â  Â  Â Â Â  Â Â Â  Â  Â  Â  Â titleText [&quot;HUMANITY LOGIC INVOKED.&quot;, &quot;PLAIN DOWN&quot;, 3];
 


	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _cancel = player addAction [format[localize &quot;STR_EPOCH_ACTIONS_HUMANITY&quot;,_low_high], &quot;\z\addons\dayz_code\actions\trade_cancel.sqf&quot;,[&quot;na&quot;], 0, true, false, &quot;&quot;,&quot;&quot;]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â s_player_parts set [count s_player_parts,_cancel];
 


	Â Â  Â Â Â  Â Â Â  Â } else {
 


	//Â Â  Â Â Â  Â Â Â  Â Â Â  Â sleep 1.0; 
	// Â  Â  Â Â Â  Â Â Â  Â  Â  Â  Â titleText [&quot;TRYING TO ADD TRADER MENU.&quot;, &quot;PLAIN DOWN&quot;, 3]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â  
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â // Static Menu 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â { 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â //diag_log format[&quot;DEBUG TRADER: %1&quot;, _x]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â _buy = player addAction [format[&quot;Trade %1 %2 for %3 %4&quot;,(_x select 3),(_x select 5),(_x select 2),(_x select 6)], &quot;\z\addons\dayz_code\actions\trade_items_wo_db.sqf&quot;,[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, &quot;&quot;,&quot;&quot;]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â Â Â  Â s_player_parts set [count s_player_parts,_buy]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â  
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â } count (_traderMenu select 1);
 


	Â Â  Â Â Â  Â Â Â  Â Â Â  Â // Database menu 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â _buy = player addAction [localize &quot;STR_EPOCH_PLAYER_289&quot;, &quot;\z\addons\dayz_code\actions\show_dialog.sqf&quot;,(_traderMenu select 0), 999, true, false, &quot;&quot;,&quot;&quot;]; 
	Â Â  Â Â Â  Â Â Â  Â Â Â  Â s_player_parts set [count s_player_parts,_buy];
 


	Â Â  Â Â Â  Â Â Â  Â }; 
	Â Â  Â Â Â  Â Â Â  Â s_player_parts_crtl = 1; 
	Â Â  Â Â Â  Â Â Â  Â  
	Â Â  Â Â Â  Â }; 
	Â Â  Â } else { 
	Â Â  Â Â Â  Â {player removeAction _x} count s_player_parts;s_player_parts = []; 
	Â Â  Â Â Â  Â s_player_parts_crtl = -1; 
	Â Â  Â }; 
	Â 
 


	Â 
 
" data-websharetitle="Fix for Broken Traders when using WAI Mission System in NAPF Epoch" data-webshareurl="https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/?do=findComment&amp;comment=273340">More sharing options...</button>
</div>
</div>
</div>
</article>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a">
</input></form>
</div>
<a id="replyForm"></a>
<div class="cTopicPostArea ipsBox ipsResponsive_pull ipsPadding cTopicPostArea_noSize ipsSpacer_top" data-role="replyArea">
<div>
<input name="csrfKey" type="hidden" value="bbd96aef55be1a90d685e56a4524d73a"/>
<div class="ipsType_center ipsPad">
<h2 class="ipsType_pageTitle">Please sign in to comment</h2>
<p class="ipsType_light ipsType_normal ipsType_reset ipsSpacer_top ipsSpacer_half">You will be able to leave a comment after signing in</p>
<br/>
<br/>
<a class="ipsButton ipsButton_alternate ipsButton_large" data-ipsdialog="" data-ipsdialog-remoteverify="false" data-ipsdialog-size="medium" data-ipsdialog-title="Sign In Now" href="https://epochmod.com/forum/login/?ref=aHR0cHM6Ly9kNDIyLmVwb2NobW9kLmNvbS9mb3J1bS90b3BpYy80MTY1NC1maXgtZm9yLWJyb2tlbi10cmFkZXJzLXdoZW4tdXNpbmctd2FpLW1pc3Npb24tc3lzdGVtLWluLW5hcGYtZXBvY2gvI3JlcGx5Rm9ybQ==">Sign In Now</a>
</div>
</div>
</div>
<div class="ipsBox ipsPadding ipsResponsive_pull ipsResponsive_showPhone ipsMargin_top">
<div class="ipsShareLinks">
<a class="ipsShareButton ipsButton ipsButton_verySmall ipsButton_light" data-ipsmenu="" href="#elShareItem_menu" id="elShareItem">
<span><i class="fa fa-share-alt"></i></span> Â Share
    </a>
<div class="ipsPadding ipsMenu ipsMenu_auto ipsHide" data-controller="core.front.core.sharelink" id="elShareItem_menu">
<ul class="ipsList_inline">
<li>
<a class="cShareLink cShareLink_twitter" data-ipstooltip="" data-role="shareLink" href="https://twitter.com/share?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F" rel="nofollow noopener" target="_blank" title="Share on Twitter">
<i class="fa fa-twitter"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_facebook" data-ipstooltip="" data-role="shareLink" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F" rel="noopener nofollow" target="_blank" title="Share on Facebook">
<i class="fa fa-facebook"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_reddit" data-ipstooltip="" href="https://www.reddit.com/submit?url=https%3A%2F%2Fepochmod.com%2Fforum%2Ftopic%2F41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch%2F&amp;title=Fix+for+Broken+Traders+when+using+WAI+Mission+System+in+NAPF+Epoch" rel="nofollow noopener" target="_blank" title="Share on Reddit">
<i class="fa fa-reddit"></i>
</a></li>
<li>
<a class="cShareLink cShareLink_pinterest" data-ipstooltip="" data-role="shareLink" href="https://pinterest.com/pin/create/button/?url=https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/&amp;media=https://epochmod.com/forum/uploads/monthly_2018_04/logo_only_black.png.c85695b79cad231dd136cd63c4db8256.png" rel="nofollow noopener" target="_blank" title="Share on Pinterest">
<i class="fa fa-pinterest"></i>
</a></li>
</ul>
<hr class="ipsHr"/>
<button class="ipsHide ipsButton ipsButton_verySmall ipsButton_light ipsButton_fullWidth ipsMargin_top:half" data-controller="core.front.core.webshare" data-role="webShare" data-websharetext="Fix for Broken Traders when using WAI Mission System in NAPF Epoch" data-websharetitle="Fix for Broken Traders when using WAI Mission System in NAPF Epoch" data-webshareurl="index.html">More sharing options...</button>
</div>
<div data-controller="core.front.core.followButton" data-followapp="forums" data-followarea="topic" data-followid="41654">
<a class="ipsFollow ipsPos_middle ipsButton ipsButton_light ipsButton_verySmall ipsButton_disabled" data-ipstooltip="" data-role="followButton" href="https://epochmod.com/forum/login/" rel="nofollow" title="Sign in to follow this">
<span>Followers</span>
<span class="ipsCommentCount">0</span>
</a>
</div>
</div>
</div>
</div>
<div class="ipsPager ipsSpacer_top">
<div class="ipsPager_prev">
<a href="../../forum/34-a2-epoch-mods-1051/index.html" rel="parent" title="Go to A2: Epoch Mods (1.0.5.1)">
<span class="ipsPager_type">Go to topic listing</span>
</a>
</div>
</div>
<div class="cWidgetContainer" data-orientation="horizontal" data-role="widgetReceiver" data-widgetarea="footer">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_horizontal ipsBox ipsWidgetHide ipsHide" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_core_relatedContent_sido2emh4" data-blocktitle="Similar Content" data-controller="core.front.widgets.block"></li>
<li class="ipsWidget ipsWidget_horizontal ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Blocks_mtkskjhzs" data-blocktitle="Custom Blocks" data-controller="core.front.widgets.block">
Advertisement


</li>
</ul>
</div>
</div>
<div class="ipsLayout_sidebarright" data-controller="core.front.widgets.sidebar" id="ipsLayout_sidebar">
<div class="cWidgetContainer" data-orientation="vertical" data-role="widgetReceiver" data-widgetarea="sidebar">
<ul class="ipsList_reset">
<li class="ipsWidget ipsWidget_vertical ipsBox" data-blockconfig="true" data-blockerrormessage="This block cannot be shown. This could be because it needs configuring, is unable to show on this page, or will show after reloading this page." data-blockid="app_cms_Wysiwyg_hbjjvq53w" data-blocktitle="WYSIWYG Editor" data-controller="core.front.widgets.block">
<div class="ipsWidget_inner ipsPad ipsType_richText" data-controller="core.front.core.lightboxedImages">
<p>
<a href="https://discord.gg/0k4ynDDCsnMzkxk7" rel="external nofollow" style="color:inherit;"><img alt="Discord" src="http://i.imgur.com/hFgq3Rt.png" style="width:300px;height:auto;"/></a>
</p>
</div>
</li>
</ul>
</div>
</div>
<nav class="ipsBreadcrumb ipsBreadcrumb_bottom ipsFaded_withHover">
<ul class="ipsList_inline ipsPos_right">
<li>
<a class="ipsType_light" data-action="defaultStream" href="https://epochmod.com/forum/discover/"><i aria-hidden="true" class="fa fa-newspaper-o"></i> <span>All Activity</span></a>
</li>
</ul>
<ul data-role="breadcrumbList">
<li>
<a href="../../index.html" title="Home">
<span>Home <i class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/1-arma-2/index.html">
<span>ArmA 2 <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/37-legacy-resources/index.html">
<span>Legacy Resources <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
<a href="../../forum/34-a2-epoch-mods-1051/index.html">
<span>A2: Epoch Mods (1.0.5.1) <i aria-hidden="true" class="fa fa-angle-right"></i></span>
</a>
</li>
<li>
				
					Fix for Broken Traders when using WAI Mission System in NAPF Epoch
				
			</li>
</ul>
</nav>
</div>
</div>
</main>
<footer class="ipsClearfix" id="ipsLayout_footer">
<div class="ipsLayout_container">
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterSocialLinks">
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_facebook" href="https://facebook.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-facebook"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_twitter" href="https://twitter.com/EpochMod" rel="noopener noreferrer" target="_blank"><i class="fa fa-twitter"></i></a>
</li>
<li class="cUserNav_icon">
<a class="cShareLink cShareLink_github" href="https://github.com/EpochModTeam/" rel="noopener noreferrer" target="_blank"><i class="fa fa-github"></i></a>
</li>
</ul>
<ul class="ipsList_inline ipsType_center ipsSpacer_top" id="elFooterLinks">
<li><a data-ipsdialog="" data-ipsdialog-flashmessage="Thanks, your message has been sent to the administrators." data-ipsdialog-remotesubmit="" data-ipsdialog-title="Contact Us" href="https://epochmod.com/forum/contact/" rel="nofollow">Contact Us</a></li>
</ul>
<p id="elCopyright">
<span id="elCopyright_userLine">Copyright Â© 2019 Epoch Mod Team</span>
<a href="https://www.invisioncommunity.com/" rel="nofollow" title="Invision Community">Powered by Invision Community</a>
</p>
</div>
</footer>
<div class="ipsDrawer ipsHide" id="elMobileDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>Ã</span></a>
<div class="ipsDrawer_content ipsFlex ipsFlex-fd:column">
<div class="ipsPadding ipsBorder_bottom">
<ul class="ipsToolList ipsToolList_vertical">
<li>
<a class="ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth" href="https://epochmod.com/forum/login/" id="elSigninButton_mobile">Existing user? Sign In</a>
</li>
</ul>
</div>
<ul class="ipsDrawer_list ipsFlex-flex:11">
<li><a href="http://epochmod.com/">Home</a></li>
<li><a href="https://epochmod.com/forum/projects/">Downloads</a></li>
<li><a href="../../index.html">Forums</a></li>
<li><a href="http://epochmod.gamepedia.com/" rel="noopener" target="_blank">Wiki</a></li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Browse</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/staff/">
					Staff
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/online/">
					Online Users
				</a>
</li>
</ul>
</li>
<li class="ipsDrawer_itemParent">
<h4 class="ipsDrawer_title"><a href="#">Activity</a></h4>
<ul class="ipsDrawer_list">
<li data-action="back"><a href="#">Back</a></li>
<li>
<a href="https://epochmod.com/forum/discover/">
					All Activity
				</a>
</li>
<li>
<a href="#">
					My Activity Streams
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/unread/">
					Unread Content
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/discover/content-started/">
					Content I Started
				</a>
</li>
<li>
<a href="https://epochmod.com/forum/search/">
					Search
				</a>
</li>
</ul>
</li>
<li><a href="https://epochmod.com/forum/leaderboard/">Leaderboard</a></li>
</ul>
</div>
</div>
</div>
<div class="ipsDrawer ipsHide" id="elMobileCreateMenuDrawer">
<div class="ipsDrawer_menu">
<a class="ipsDrawer_close" data-action="close" href="#"><span>Ã</span></a>
<div class="ipsDrawer_content ipsSpacer_bottom ipsPad">
<ul class="ipsDrawer_list">
<li class="ipsDrawer_listTitle ipsType_reset">Create New...</li>
</ul>
</div>
</div>
</div>
<script type="text/javascript">
		var ipsDebug = false;		
	
		var CKEDITOR_BASEPATH = 'http://epochmod.com/forum/applications/core/interface/ckeditor/ckeditor/';
	
		var ipsSettings = {
			
			
			cookie_path: "/forum/",
			
			cookie_prefix: "ips4_",
			
			
			cookie_ssl: true,
			
			upload_imgURL: "",
			message_imgURL: "",
			notification_imgURL: "",
			baseURL: "//epochmod.com/forum/",
			jsURL: "//epochmod.com/forum/applications/core/interface/js/js.php",
			csrfKey: "bbd96aef55be1a90d685e56a4524d73a",
			antiCache: "7f6edac1d51681449780",
			jsAntiCache: "7f6edac1d51727923486",
			disableNotificationSounds: true,
			useCompiledFiles: true,
			links_external: true,
			memberID: 0,
			lazyLoadEnabled: true,
			blankImg: "//epochmod.com/forum/applications/core/interface/js/spacer.png",
			googleAnalyticsEnabled: true,
			matomoEnabled: false,
			viewProfiles: true,
			mapProvider: 'none',
			mapApiKey: '',
			pushPublicKey: "BLY90A45HZZHrwnCKz6BVlOhu0SsCnzllubxC73QTZM5sfEOds9DfPrBRijrqkg_Tm4PSeJkPCuKkWiWNi4sOC4",
			relativeDates: true
		};
		
		
		
		
			ipsSettings['maxImageDimensions'] = {
				width: 1000,
				height: 750
			};
		
		
	</script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_library.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_js_lang_1.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_framework.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/global_global_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_front.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_core/front_front_core.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_forums/front_front_topic.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script data-ips="" src="https://epochmod.com/forum/uploads/javascript_global/root_map.js?v=7f6edac1d51727923486" type="text/javascript"></script>
<script type="text/javascript">
		
			ips.setSetting( 'date_format', jQuery.parseJSON('"mm\/dd\/yy"') );
		
			ips.setSetting( 'date_first_day', jQuery.parseJSON('0') );
		
			ips.setSetting( 'ipb_url_filter_option', jQuery.parseJSON('"none"') );
		
			ips.setSetting( 'url_filter_any_action', jQuery.parseJSON('"allow"') );
		
			ips.setSetting( 'bypass_profanity', jQuery.parseJSON('0') );
		
			ips.setSetting( 'emoji_style', jQuery.parseJSON('"native"') );
		
			ips.setSetting( 'emoji_shortcodes', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_ascii', jQuery.parseJSON('true') );
		
			ips.setSetting( 'emoji_cache', jQuery.parseJSON('1681342651') );
		
			ips.setSetting( 'image_jpg_quality', jQuery.parseJSON('75') );
		
			ips.setSetting( 'cloud2', jQuery.parseJSON('false') );
		
			ips.setSetting( 'isAnonymous', jQuery.parseJSON('false') );
		
		
	</script>
<script type="application/ld+json">
{
    "name": "Fix for Broken Traders when using WAI Mission System in NAPF Epoch",
    "headline": "Fix for Broken Traders when using WAI Mission System in NAPF Epoch",
    "text": "A number of weeks ago I took a break from my own servers to look around for fresh ideas. I ran into the Wicked AI mission system on a few Epoch servers. I\u0027d seen the missions before, long before I started using a mission system myself, and had employed DZMS for my servers, heavily expanding it. Knowing more now than I did before, I found WAI\u0027s use of features like fixed HMG emplacements interesting.\u00a0\n \n\n\n\tI set out to use WAI MS in conjunction with DZMS ( and DZAI, for patrols, for that matter ), for heavier team missions. That way, the DZAI patrols harass everyone lightly... the DZMS missions allow solo players opportunities to collect loot, and the big WAI team missions play out for heavily armored groups.\n \n\n\n\tI noticed on two servers running WAI Epoch Napf that traders were broken. The pattern was the same -- most Emmem traders simply won\u0027t recognize the player. Only the med and clothing traders in Lenzburg work. Most of the traders in Schratten seem OK, but the hero trader at SWAF is broken.\n \n\n\n\tAfter I got the three systems working happily together -- not as bad an exercise as one might think, simply load them in the order DZAI, DZMS, WAI, and dispense with all the conditionals testing for other systems, and hard-code the side center and hostile and friendly relationships at each major module load init, handling only those sides employed incrementally for each system -- \u00a0I found that my traders had broken in precisely the same fashion in which they were broken on the two servers I\u0027d tried out the weeks before.\n \n\n\n\tGoogling reveals that the WAI Epoch Napf trader breakage is a long-known issue, documented well back into 2014. No one has posted a detailed fix, however.\n \n\n\n\tThe issue seems to be that WAI upsets the hostile/neutral/friendly classifications that allow the trader self-action filter to successfully test for a trader in front of the player. The only thing different about WAI I believe is its handling of side RESISTANCE, so I\u0027m guessing -- GUESSING! -- since some traders work and others don\u0027t after WAI loads that the issue is that agents -- which seem to be unaligned -- have a somewhat undefined side for the purposes of checking hostility. Since the broken relationships appear to be repeatable, perhaps the hostility has some relationship to the skin. Why it works before there\u0027s a RESISTANCE center in the game and before there are hostility relationships between RESISTANCE and others.... I haven\u0027t figured out. Like I said, this is partly guesswork.\n \n\n\n\tThis, however, fixes it for Epoch Napf running DZAI, DZMS, and WAI...\n \n\n\n\tI added this code to the fn_selfActions.sqf file:\n \n\n\n\tThree variables into the private statement:\n \n\n\n\tprivate [\"_PosPlayer\",\"_CoordX\",\"_CoordY\",...\n \n\n\n\t.....\n \n\n\n\tAnd then changes below -- commenting out the three existing \"humanity logic\" conditionals and adding new tests based on locations unique to Napf and humanity...\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if (s_player_parts_crtl \u0026lt; 0) then {\n \n\n\n\t//\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0sleep 1.0; \n\t// \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0titleText [\"SECOND TRADER GATE PASSED.\", \"PLAIN DOWN\", 3];\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// get humanity \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity = player getVariable [\"humanity\",0];\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_traderMenu = call compile format[\"menu_%1;\",_traderType];\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// diag_log (\"TRADER = \" + str(_traderMenu)); \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_low_high = \"low\";\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity_logic = false;\n \n\n\n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if((_traderMenu select 2) == \"friendly\") then { \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity_logic = (_humanity \u0026lt; -5000); \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0};\n \n\n\n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if((_traderMenu select 2) == \"hostile\") then { \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_low_high = \"high\"; \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity_logic = (_humanity \u0026gt; -5000); \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0};\n \n\n\n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if((_traderMenu select 2) == \"hero\") then { \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity_logic = (_humanity \u0026lt; 5000); \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0};\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// get the individual player coordinates\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_PosPlayer = getPos player; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_CoordX = _PosPlayer select 0; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_CoordY = _PosPlayer select 1;\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// check for being at bandit trader\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if ( ( _CoordX \u0026gt; 10205 ) and ( _CoordX \u0026lt; 10605 ) and ( _CoordY \u0026gt; 8170 ) and ( _CoordY \u0026lt; 8570 ) ) then { \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0sleep 1.0; \n\t//\u00a0\u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0titleText [\"BANDIT TRADER DETECTED.\", \"PLAIN DOWN\", 3]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_low_high = \"high\"; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity_logic = ( _humanity \u0026gt; -5000 ); \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0};\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// check for being at hero trader\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if ( ( _CoordX \u0026gt; 5050 ) and ( _CoordX \u0026lt; 5250 ) and ( _CoordY \u0026gt; 4850 ) and ( _CoordY \u0026lt; 5050 ) ) then { \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0sleep 1.0; \n\t//\u00a0\u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 titleText [\"HERO TRADER DETECTED.\", \"PLAIN DOWN\", 3]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_humanity_logic = ( _humanity \u0026lt; 5000 ); \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0};\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0if ( _humanity_logic ) then { \n\t\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0sleep 1.0; \n\t//\u00a0\u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0titleText [\"HUMANITY LOGIC INVOKED.\", \"PLAIN DOWN\", 3];\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_cancel = player addAction [format[localize \"STR_EPOCH_ACTIONS_HUMANITY\",_low_high], \"\\z\\addons\\dayz_code\\actions\\trade_cancel.sqf\",[\"na\"], 0, true, false, \"\",\"\"]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0s_player_parts set [count s_player_parts,_cancel];\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0} else {\n \n\n\n\t//\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0sleep 1.0; \n\t// \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0titleText [\"TRYING TO ADD TRADER MENU.\", \"PLAIN DOWN\", 3]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// Static Menu \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0{ \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0//diag_log format[\"DEBUG TRADER: %1\", _x]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_buy = player addAction [format[\"Trade %1 %2 for %3 %4\",(_x select 3),(_x select 5),(_x select 2),(_x select 6)], \"\\z\\addons\\dayz_code\\actions\\trade_items_wo_db.sqf\",[(_x select 0),(_x select 1),(_x select 2),(_x select 3),(_x select 4),(_x select 5),(_x select 6)], (_x select 7), true, true, \"\",\"\"]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0s_player_parts set [count s_player_parts,_buy]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0} count (_traderMenu select 1);\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0// Database menu \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0_buy = player addAction [localize \"STR_EPOCH_PLAYER_289\", \"\\z\\addons\\dayz_code\\actions\\show_dialog.sqf\",(_traderMenu select 0), 999, true, false, \"\",\"\"]; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0s_player_parts set [count s_player_parts,_buy];\n \n\n\n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0}; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0s_player_parts_crtl = 1; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0 \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0}; \n\t\u00a0\u00a0 \u00a0} else { \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0{player removeAction _x} count s_player_parts;s_player_parts = []; \n\t\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0s_player_parts_crtl = -1; \n\t\u00a0\u00a0 \u00a0}; \n\t\u00a0\n \n\n\n\t\u00a0\n \n",
    "dateCreated": "2016-03-07T15:25:21+0000",
    "datePublished": "2016-03-07T15:25:21+0000",
    "dateModified": "2016-03-07T15:25:21+0000",
    "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
    "author": {
        "@type": "Person",
        "name": "General Zaroff",
        "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
        "url": "https://epochmod.com/forum/profile/19114-general-zaroff/"
    },
    "interactionStatistic": [
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/ViewAction",
            "userInteractionCount": 710
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/CommentAction",
            "userInteractionCount": 0
        },
        {
            "@type": "InteractionCounter",
            "interactionType": "http://schema.org/FollowAction",
            "userInteractionCount": 0
        }
    ],
    "@context": "http://schema.org",
    "@type": "DiscussionForumPosting",
    "@id": "https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/",
    "isPartOf": {
        "@id": "https://epochmod.com/forum/#website"
    },
    "publisher": {
        "@id": "https://epochmod.com/forum/#organization",
        "member": {
            "@type": "Person",
            "name": "General Zaroff",
            "image": "https://epochmod.com/forum/applications/core/interface/email/default_photo.png",
            "url": "https://epochmod.com/forum/profile/19114-general-zaroff/"
        }
    },
    "url": "https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/",
    "discussionUrl": "https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://epochmod.com/forum/topic/41654-fix-for-broken-traders-when-using-wai-mission-system-in-napf-epoch/"
    },
    "pageStart": 1,
    "pageEnd": 1
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "publisher": "https://epochmod.com/forum/#organization",
    "@type": "WebSite",
    "@id": "https://epochmod.com/forum/#website",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "potentialAction": {
        "type": "SearchAction",
        "query-input": "required name=query",
        "target": "https://epochmod.com/forum/search/?q={query}"
    },
    "inLanguage": [
        {
            "@type": "Language",
            "name": "English (USA)",
            "alternateName": "en-US"
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://www.schema.org",
    "@type": "Organization",
    "@id": "https://epochmod.com/forum/#organization",
    "mainEntityOfPage": "https://epochmod.com/forum/",
    "name": "Epoch Mod Community",
    "url": "https://epochmod.com/forum/",
    "logo": {
        "@type": "ImageObject",
        "@id": "https://epochmod.com/forum/#logo",
        "url": "https://epochmod.com/forum/uploads/monthly_2023_04/text_only.png.512d7d1c1eb3e42e7aae78351fa37e02.png"
    },
    "sameAs": [
        "https://facebook.com/EpochMod",
        "https://twitter.com/EpochMod",
        "https://github.com/EpochModTeam/"
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "item": {
                "@id": "https://epochmod.com/forum/forum/1-arma-2/",
                "name": "ArmA 2"
            }
        },
        {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "@id": "https://epochmod.com/forum/forum/37-legacy-resources/",
                "name": "Legacy Resources"
            }
        },
        {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "@id": "https://epochmod.com/forum/forum/34-a2-epoch-mods-1051/",
                "name": "A2: Epoch Mods (1.0.5.1)"
            }
        }
    ]
}	
</script>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "ContactPage",
    "url": "https://epochmod.com/forum/contact/"
}	
</script>
<script type="text/javascript">
    (() => {
        let gqlKeys = [];
        for (let [k, v] of Object.entries(gqlKeys)) {
            ips.setGraphQlData(k, v);
        }
    })();
</script>
<!--ipsQueryLog-->
<!--ipsCachingLog-->
</body>

</html>